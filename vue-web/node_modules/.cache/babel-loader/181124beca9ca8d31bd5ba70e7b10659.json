{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport getScrollBarSize from '../../_util/getScrollBarSize';\nimport setStyle from '../../_util/setStyle';\nvar locks = [];\nvar scrollingEffectClassName = 'ant-scrolling-effect';\nvar scrollingEffectClassNameReg = new RegExp(\"\".concat(scrollingEffectClassName), 'g');\nvar uuid = 0; // https://github.com/ant-design/ant-design/issues/19340\n// https://github.com/ant-design/ant-design/issues/19332\n\nvar cacheStyle = new Map();\n\nvar ScrollLocker = /*#__PURE__*/_createClass(function ScrollLocker(options) {\n  var _this = this;\n\n  _classCallCheck(this, ScrollLocker);\n\n  this.getContainer = function () {\n    var _a;\n\n    return (_a = _this.options) === null || _a === void 0 ? void 0 : _a.container;\n  }; // if options change...\n\n\n  this.reLock = function (options) {\n    var findLock = locks.find(function (_ref) {\n      var target = _ref.target;\n      return target === _this.lockTarget;\n    });\n\n    if (findLock) {\n      _this.unLock();\n    }\n\n    _this.options = options;\n\n    if (findLock) {\n      findLock.options = options;\n\n      _this.lock();\n    }\n  };\n\n  this.lock = function () {\n    var _a; // If lockTarget exist return\n\n\n    if (locks.some(function (_ref2) {\n      var target = _ref2.target;\n      return target === _this.lockTarget;\n    })) {\n      return;\n    } // If same container effect, return\n\n\n    if (locks.some(function (_ref3) {\n      var options = _ref3.options;\n\n      var _a;\n\n      return (options === null || options === void 0 ? void 0 : options.container) === ((_a = _this.options) === null || _a === void 0 ? void 0 : _a.container);\n    })) {\n      locks = [].concat(_toConsumableArray(locks), [{\n        target: _this.lockTarget,\n        options: _this.options\n      }]);\n      return;\n    }\n\n    var scrollBarSize = 0;\n    var container = ((_a = _this.options) === null || _a === void 0 ? void 0 : _a.container) || document.body;\n\n    if (container === document.body && window.innerWidth - document.documentElement.clientWidth > 0 || container.scrollHeight > container.clientHeight) {\n      scrollBarSize = getScrollBarSize();\n    }\n\n    var containerClassName = container.className;\n\n    if (locks.filter(function (_ref4) {\n      var options = _ref4.options;\n\n      var _a;\n\n      return (options === null || options === void 0 ? void 0 : options.container) === ((_a = _this.options) === null || _a === void 0 ? void 0 : _a.container);\n    }).length === 0) {\n      cacheStyle.set(container, setStyle({\n        width: scrollBarSize !== 0 ? \"calc(100% - \".concat(scrollBarSize, \"px)\") : undefined,\n        overflow: 'hidden',\n        overflowX: 'hidden',\n        overflowY: 'hidden'\n      }, {\n        element: container\n      }));\n    } // https://github.com/ant-design/ant-design/issues/19729\n\n\n    if (!scrollingEffectClassNameReg.test(containerClassName)) {\n      var addClassName = \"\".concat(containerClassName, \" \").concat(scrollingEffectClassName);\n      container.className = addClassName.trim();\n    }\n\n    locks = [].concat(_toConsumableArray(locks), [{\n      target: _this.lockTarget,\n      options: _this.options\n    }]);\n  };\n\n  this.unLock = function () {\n    var _a;\n\n    var findLock = locks.find(function (_ref5) {\n      var target = _ref5.target;\n      return target === _this.lockTarget;\n    });\n    locks = locks.filter(function (_ref6) {\n      var target = _ref6.target;\n      return target !== _this.lockTarget;\n    });\n\n    if (!findLock || locks.some(function (_ref7) {\n      var options = _ref7.options;\n\n      var _a;\n\n      return (options === null || options === void 0 ? void 0 : options.container) === ((_a = findLock.options) === null || _a === void 0 ? void 0 : _a.container);\n    })) {\n      return;\n    } // Remove Effect\n\n\n    var container = ((_a = _this.options) === null || _a === void 0 ? void 0 : _a.container) || document.body;\n    var containerClassName = container.className;\n    if (!scrollingEffectClassNameReg.test(containerClassName)) return;\n    setStyle(cacheStyle.get(container), {\n      element: container\n    });\n    cacheStyle.delete(container);\n    container.className = container.className.replace(scrollingEffectClassNameReg, '').trim();\n  }; // eslint-disable-next-line no-plusplus\n\n\n  this.lockTarget = uuid++;\n  this.options = options;\n});\n\nexport { ScrollLocker as default };","map":{"version":3,"names":["_toConsumableArray","_createClass","_classCallCheck","getScrollBarSize","setStyle","locks","scrollingEffectClassName","scrollingEffectClassNameReg","RegExp","concat","uuid","cacheStyle","Map","ScrollLocker","options","_this","getContainer","_a","container","reLock","findLock","find","_ref","target","lockTarget","unLock","lock","some","_ref2","_ref3","scrollBarSize","document","body","window","innerWidth","documentElement","clientWidth","scrollHeight","clientHeight","containerClassName","className","filter","_ref4","length","set","width","undefined","overflow","overflowX","overflowY","element","test","addClassName","trim","_ref5","_ref6","_ref7","get","delete","replace","default"],"sources":["C:/Users/USTC/Desktop/community1/vue-web/node_modules/ant-design-vue/es/vc-util/Dom/scrollLocker.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport getScrollBarSize from '../../_util/getScrollBarSize';\nimport setStyle from '../../_util/setStyle';\nvar locks = [];\nvar scrollingEffectClassName = 'ant-scrolling-effect';\nvar scrollingEffectClassNameReg = new RegExp(\"\".concat(scrollingEffectClassName), 'g');\nvar uuid = 0; // https://github.com/ant-design/ant-design/issues/19340\n// https://github.com/ant-design/ant-design/issues/19332\n\nvar cacheStyle = new Map();\n\nvar ScrollLocker = /*#__PURE__*/_createClass(function ScrollLocker(options) {\n  var _this = this;\n\n  _classCallCheck(this, ScrollLocker);\n\n  this.getContainer = function () {\n    var _a;\n\n    return (_a = _this.options) === null || _a === void 0 ? void 0 : _a.container;\n  }; // if options change...\n\n\n  this.reLock = function (options) {\n    var findLock = locks.find(function (_ref) {\n      var target = _ref.target;\n      return target === _this.lockTarget;\n    });\n\n    if (findLock) {\n      _this.unLock();\n    }\n\n    _this.options = options;\n\n    if (findLock) {\n      findLock.options = options;\n\n      _this.lock();\n    }\n  };\n\n  this.lock = function () {\n    var _a; // If lockTarget exist return\n\n\n    if (locks.some(function (_ref2) {\n      var target = _ref2.target;\n      return target === _this.lockTarget;\n    })) {\n      return;\n    } // If same container effect, return\n\n\n    if (locks.some(function (_ref3) {\n      var options = _ref3.options;\n\n      var _a;\n\n      return (options === null || options === void 0 ? void 0 : options.container) === ((_a = _this.options) === null || _a === void 0 ? void 0 : _a.container);\n    })) {\n      locks = [].concat(_toConsumableArray(locks), [{\n        target: _this.lockTarget,\n        options: _this.options\n      }]);\n      return;\n    }\n\n    var scrollBarSize = 0;\n    var container = ((_a = _this.options) === null || _a === void 0 ? void 0 : _a.container) || document.body;\n\n    if (container === document.body && window.innerWidth - document.documentElement.clientWidth > 0 || container.scrollHeight > container.clientHeight) {\n      scrollBarSize = getScrollBarSize();\n    }\n\n    var containerClassName = container.className;\n\n    if (locks.filter(function (_ref4) {\n      var options = _ref4.options;\n\n      var _a;\n\n      return (options === null || options === void 0 ? void 0 : options.container) === ((_a = _this.options) === null || _a === void 0 ? void 0 : _a.container);\n    }).length === 0) {\n      cacheStyle.set(container, setStyle({\n        width: scrollBarSize !== 0 ? \"calc(100% - \".concat(scrollBarSize, \"px)\") : undefined,\n        overflow: 'hidden',\n        overflowX: 'hidden',\n        overflowY: 'hidden'\n      }, {\n        element: container\n      }));\n    } // https://github.com/ant-design/ant-design/issues/19729\n\n\n    if (!scrollingEffectClassNameReg.test(containerClassName)) {\n      var addClassName = \"\".concat(containerClassName, \" \").concat(scrollingEffectClassName);\n      container.className = addClassName.trim();\n    }\n\n    locks = [].concat(_toConsumableArray(locks), [{\n      target: _this.lockTarget,\n      options: _this.options\n    }]);\n  };\n\n  this.unLock = function () {\n    var _a;\n\n    var findLock = locks.find(function (_ref5) {\n      var target = _ref5.target;\n      return target === _this.lockTarget;\n    });\n    locks = locks.filter(function (_ref6) {\n      var target = _ref6.target;\n      return target !== _this.lockTarget;\n    });\n\n    if (!findLock || locks.some(function (_ref7) {\n      var options = _ref7.options;\n\n      var _a;\n\n      return (options === null || options === void 0 ? void 0 : options.container) === ((_a = findLock.options) === null || _a === void 0 ? void 0 : _a.container);\n    })) {\n      return;\n    } // Remove Effect\n\n\n    var container = ((_a = _this.options) === null || _a === void 0 ? void 0 : _a.container) || document.body;\n    var containerClassName = container.className;\n    if (!scrollingEffectClassNameReg.test(containerClassName)) return;\n    setStyle(cacheStyle.get(container), {\n      element: container\n    });\n    cacheStyle.delete(container);\n    container.className = container.className.replace(scrollingEffectClassNameReg, '').trim();\n  }; // eslint-disable-next-line no-plusplus\n\n\n  this.lockTarget = uuid++;\n  this.options = options;\n});\n\nexport { ScrollLocker as default };"],"mappings":"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"},"metadata":{},"sourceType":"module"}