{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { shallowRef, toRaw, onMounted, onUpdated, ref, defineComponent, watchEffect, computed, nextTick, onBeforeUnmount, reactive, watch } from 'vue';\nimport Filler from './Filler';\nimport Item from './Item';\nimport ScrollBar from './ScrollBar';\nimport useHeights from './hooks/useHeights';\nimport useScrollTo from './hooks/useScrollTo';\nimport useFrameWheel from './hooks/useFrameWheel';\nimport useMobileTouchMove from './hooks/useMobileTouchMove';\nimport useOriginScroll from './hooks/useOriginScroll';\nimport PropTypes from '../_util/vue-types';\nimport classNames from '../_util/classNames';\nimport supportsPassive from '../_util/supportsPassive';\nvar EMPTY_DATA = [];\nvar ScrollStyle = {\n  overflowY: 'auto',\n  overflowAnchor: 'none'\n};\n\nfunction renderChildren(list, startIndex, endIndex, setNodeRef, renderFunc, _ref) {\n  var getKey = _ref.getKey;\n  return list.slice(startIndex, endIndex + 1).map(function (item, index) {\n    var eleIndex = startIndex + index;\n    var node = renderFunc(item, eleIndex, {// style: status === 'MEASURE_START' ? { visibility: 'hidden' } : {},\n    });\n    var key = getKey(item);\n    return _createVNode(Item, {\n      \"key\": key,\n      \"setRef\": function setRef(ele) {\n        return setNodeRef(item, ele);\n      }\n    }, {\n      default: function _default() {\n        return [node];\n      }\n    });\n  });\n}\n\nvar List = defineComponent({\n  name: 'List',\n  inheritAttrs: false,\n  props: {\n    prefixCls: String,\n    data: PropTypes.array,\n    height: Number,\n    itemHeight: Number,\n\n    /** If not match virtual scroll condition, Set List still use height of container. */\n    fullHeight: {\n      type: Boolean,\n      default: undefined\n    },\n    itemKey: {\n      type: [String, Number, Function],\n      required: true\n    },\n    component: {\n      type: [String, Object]\n    },\n\n    /** Set `false` will always use real scroll instead of virtual one */\n    virtual: {\n      type: Boolean,\n      default: undefined\n    },\n    children: Function,\n    onScroll: Function,\n    onMousedown: Function,\n    onMouseenter: Function,\n    onVisibleChange: Function\n  },\n  setup: function setup(props, _ref2) {\n    var expose = _ref2.expose; // ================================= MISC =================================\n\n    var useVirtual = computed(function () {\n      var height = props.height,\n          itemHeight = props.itemHeight,\n          virtual = props.virtual;\n      return !!(virtual !== false && height && itemHeight);\n    });\n    var inVirtual = computed(function () {\n      var height = props.height,\n          itemHeight = props.itemHeight,\n          data = props.data;\n      return useVirtual.value && data && itemHeight * data.length > height;\n    });\n    var state = reactive({\n      scrollTop: 0,\n      scrollMoving: false\n    });\n    var data = computed(function () {\n      return props.data || EMPTY_DATA;\n    });\n    var mergedData = shallowRef([]);\n    watch(data, function () {\n      mergedData.value = toRaw(data.value).slice();\n    }, {\n      immediate: true\n    }); // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n    var itemKey = shallowRef(function (_item) {\n      return undefined;\n    });\n    watch(function () {\n      return props.itemKey;\n    }, function (val) {\n      if (typeof val === 'function') {\n        itemKey.value = val;\n      } else {\n        itemKey.value = function (item) {\n          return item === null || item === void 0 ? void 0 : item[val];\n        };\n      }\n    }, {\n      immediate: true\n    });\n    var componentRef = ref();\n    var fillerInnerRef = ref();\n    var scrollBarRef = ref(); // Hack on scrollbar to enable flash call\n    // =============================== Item Key ===============================\n\n    var getKey = function getKey(item) {\n      return itemKey.value(item);\n    };\n\n    var sharedConfig = {\n      getKey: getKey\n    }; // ================================ Scroll ================================\n\n    function syncScrollTop(newTop) {\n      var value;\n\n      if (typeof newTop === 'function') {\n        value = newTop(state.scrollTop);\n      } else {\n        value = newTop;\n      }\n\n      var alignedTop = keepInRange(value);\n\n      if (componentRef.value) {\n        componentRef.value.scrollTop = alignedTop;\n      }\n\n      state.scrollTop = alignedTop;\n    } // ================================ Height ================================\n\n\n    var _useHeights = useHeights(mergedData, getKey, null, null),\n        _useHeights2 = _slicedToArray(_useHeights, 4),\n        setInstance = _useHeights2[0],\n        collectHeight = _useHeights2[1],\n        heights = _useHeights2[2],\n        updatedMark = _useHeights2[3];\n\n    var calRes = reactive({\n      scrollHeight: undefined,\n      start: 0,\n      end: 0,\n      offset: undefined\n    });\n    var offsetHeight = ref(0);\n    onMounted(function () {\n      nextTick(function () {\n        var _a;\n\n        offsetHeight.value = ((_a = fillerInnerRef.value) === null || _a === void 0 ? void 0 : _a.offsetHeight) || 0;\n      });\n    });\n    onUpdated(function () {\n      nextTick(function () {\n        var _a;\n\n        offsetHeight.value = ((_a = fillerInnerRef.value) === null || _a === void 0 ? void 0 : _a.offsetHeight) || 0;\n      });\n    });\n    watch([useVirtual, mergedData], function () {\n      if (!useVirtual.value) {\n        _extends(calRes, {\n          scrollHeight: undefined,\n          start: 0,\n          end: mergedData.value.length - 1,\n          offset: undefined\n        });\n      }\n    }, {\n      immediate: true\n    });\n    watch([useVirtual, mergedData, offsetHeight, inVirtual], function () {\n      // Always use virtual scroll bar in avoid shaking\n      if (useVirtual.value && !inVirtual.value) {\n        _extends(calRes, {\n          scrollHeight: offsetHeight.value,\n          start: 0,\n          end: mergedData.value.length - 1,\n          offset: undefined\n        });\n      }\n    }, {\n      immediate: true\n    });\n    watch([inVirtual, useVirtual, function () {\n      return state.scrollTop;\n    }, mergedData, updatedMark, function () {\n      return props.height;\n    }, offsetHeight], function () {\n      if (!useVirtual.value || !inVirtual.value) {\n        return;\n      }\n\n      var itemTop = 0;\n      var startIndex;\n      var startOffset;\n      var endIndex;\n      var dataLen = mergedData.value.length;\n      var data = mergedData.value;\n      var scrollTop = state.scrollTop;\n      var itemHeight = props.itemHeight,\n          height = props.height;\n      var scrollTopHeight = scrollTop + height;\n\n      for (var i = 0; i < dataLen; i += 1) {\n        var item = data[i];\n        var key = getKey(item);\n        var cacheHeight = heights.get(key);\n\n        if (cacheHeight === undefined) {\n          cacheHeight = itemHeight;\n        }\n\n        var currentItemBottom = itemTop + cacheHeight;\n\n        if (startIndex === undefined && currentItemBottom >= scrollTop) {\n          startIndex = i;\n          startOffset = itemTop;\n        } // Check item bottom in the range. We will render additional one item for motion usage\n\n\n        if (endIndex === undefined && currentItemBottom > scrollTopHeight) {\n          endIndex = i;\n        }\n\n        itemTop = currentItemBottom;\n      } // Fallback to normal if not match. This code should never reach\n\n      /* istanbul ignore next */\n\n\n      if (startIndex === undefined) {\n        startIndex = 0;\n        startOffset = 0;\n      }\n\n      if (endIndex === undefined) {\n        endIndex = dataLen - 1;\n      } // Give cache to improve scroll experience\n\n\n      endIndex = Math.min(endIndex + 1, dataLen);\n\n      _extends(calRes, {\n        scrollHeight: itemTop,\n        start: startIndex,\n        end: endIndex,\n        offset: startOffset\n      });\n    }, {\n      immediate: true\n    }); // =============================== In Range ===============================\n\n    var maxScrollHeight = computed(function () {\n      return calRes.scrollHeight - props.height;\n    });\n\n    function keepInRange(newScrollTop) {\n      var newTop = newScrollTop;\n\n      if (!Number.isNaN(maxScrollHeight.value)) {\n        newTop = Math.min(newTop, maxScrollHeight.value);\n      }\n\n      newTop = Math.max(newTop, 0);\n      return newTop;\n    }\n\n    var isScrollAtTop = computed(function () {\n      return state.scrollTop <= 0;\n    });\n    var isScrollAtBottom = computed(function () {\n      return state.scrollTop >= maxScrollHeight.value;\n    });\n    var originScroll = useOriginScroll(isScrollAtTop, isScrollAtBottom); // ================================ Scroll ================================\n\n    function onScrollBar(newScrollTop) {\n      var newTop = newScrollTop;\n      syncScrollTop(newTop);\n    } // When data size reduce. It may trigger native scroll event back to fit scroll position\n\n\n    function onFallbackScroll(e) {\n      var _a;\n\n      var newScrollTop = e.currentTarget.scrollTop;\n\n      if (Math.abs(newScrollTop - state.scrollTop) >= 1) {\n        syncScrollTop(newScrollTop);\n      } // Trigger origin onScroll\n\n\n      (_a = props.onScroll) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    } // Since this added in global,should use ref to keep update\n\n\n    var _useFrameWheel = useFrameWheel(useVirtual, isScrollAtTop, isScrollAtBottom, function (offsetY) {\n      syncScrollTop(function (top) {\n        var newTop = top + offsetY;\n        return newTop;\n      });\n    }),\n        _useFrameWheel2 = _slicedToArray(_useFrameWheel, 2),\n        onRawWheel = _useFrameWheel2[0],\n        onFireFoxScroll = _useFrameWheel2[1]; // Mobile touch move\n\n\n    useMobileTouchMove(useVirtual, componentRef, function (deltaY, smoothOffset) {\n      if (originScroll(deltaY, smoothOffset)) {\n        return false;\n      }\n\n      onRawWheel({\n        preventDefault: function preventDefault() {},\n        deltaY: deltaY\n      });\n      return true;\n    }); // Firefox only\n\n    function onMozMousePixelScroll(e) {\n      if (useVirtual.value) {\n        e.preventDefault();\n      }\n    }\n\n    var removeEventListener = function removeEventListener() {\n      if (componentRef.value) {\n        componentRef.value.removeEventListener('wheel', onRawWheel, supportsPassive ? {\n          passive: false\n        } : false);\n        componentRef.value.removeEventListener('DOMMouseScroll', onFireFoxScroll);\n        componentRef.value.removeEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n      }\n    };\n\n    watchEffect(function () {\n      nextTick(function () {\n        if (componentRef.value) {\n          removeEventListener();\n          componentRef.value.addEventListener('wheel', onRawWheel, supportsPassive ? {\n            passive: false\n          } : false);\n          componentRef.value.addEventListener('DOMMouseScroll', onFireFoxScroll);\n          componentRef.value.addEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n        }\n      });\n    });\n    onBeforeUnmount(function () {\n      removeEventListener();\n    }); // ================================= Ref ==================================\n\n    var scrollTo = useScrollTo(componentRef, mergedData, heights, props, getKey, collectHeight, syncScrollTop, function () {\n      var _a;\n\n      (_a = scrollBarRef.value) === null || _a === void 0 ? void 0 : _a.delayHidden();\n    });\n    expose({\n      scrollTo: scrollTo\n    });\n    var componentStyle = computed(function () {\n      var cs = null;\n\n      if (props.height) {\n        cs = _extends(_defineProperty({}, props.fullHeight ? 'height' : 'maxHeight', props.height + 'px'), ScrollStyle);\n\n        if (useVirtual.value) {\n          cs.overflowY = 'hidden';\n\n          if (state.scrollMoving) {\n            cs.pointerEvents = 'none';\n          }\n        }\n      }\n\n      return cs;\n    }); // ================================ Effect ================================\n\n    /** We need told outside that some list not rendered */\n\n    watch([function () {\n      return calRes.start;\n    }, function () {\n      return calRes.end;\n    }, mergedData], function () {\n      if (props.onVisibleChange) {\n        var renderList = mergedData.value.slice(calRes.start, calRes.end + 1);\n        props.onVisibleChange(renderList, mergedData.value);\n      }\n    }, {\n      flush: 'post'\n    });\n    return {\n      state: state,\n      mergedData: mergedData,\n      componentStyle: componentStyle,\n      onFallbackScroll: onFallbackScroll,\n      onScrollBar: onScrollBar,\n      componentRef: componentRef,\n      useVirtual: useVirtual,\n      calRes: calRes,\n      collectHeight: collectHeight,\n      setInstance: setInstance,\n      sharedConfig: sharedConfig,\n      scrollBarRef: scrollBarRef,\n      fillerInnerRef: fillerInnerRef\n    };\n  },\n  render: function render() {\n    var _this = this;\n\n    var _a = _extends(_extends({}, this.$props), this.$attrs),\n        _a$prefixCls = _a.prefixCls,\n        prefixCls = _a$prefixCls === void 0 ? 'rc-virtual-list' : _a$prefixCls,\n        height = _a.height,\n        itemHeight = _a.itemHeight,\n        fullHeight = _a.fullHeight,\n        data = _a.data,\n        itemKey = _a.itemKey,\n        virtual = _a.virtual,\n        _a$component = _a.component,\n        Component = _a$component === void 0 ? 'div' : _a$component,\n        onScroll = _a.onScroll,\n        _a$children = _a.children,\n        children = _a$children === void 0 ? this.$slots.default : _a$children,\n        style = _a.style,\n        className = _a.class,\n        restProps = __rest(_a, [\"prefixCls\", \"height\", \"itemHeight\", \"fullHeight\", \"data\", \"itemKey\", \"virtual\", \"component\", \"onScroll\", \"children\", \"style\", \"class\"]);\n\n    var mergedClassName = classNames(prefixCls, className);\n    var scrollTop = this.state.scrollTop;\n    var _this$calRes = this.calRes,\n        scrollHeight = _this$calRes.scrollHeight,\n        offset = _this$calRes.offset,\n        start = _this$calRes.start,\n        end = _this$calRes.end;\n    var componentStyle = this.componentStyle,\n        onFallbackScroll = this.onFallbackScroll,\n        onScrollBar = this.onScrollBar,\n        useVirtual = this.useVirtual,\n        collectHeight = this.collectHeight,\n        sharedConfig = this.sharedConfig,\n        setInstance = this.setInstance,\n        mergedData = this.mergedData;\n    return _createVNode(\"div\", _objectSpread({\n      \"style\": _extends(_extends({}, style), {\n        position: 'relative'\n      }),\n      \"class\": mergedClassName\n    }, restProps), [_createVNode(Component, {\n      \"class\": \"\".concat(prefixCls, \"-holder\"),\n      \"style\": componentStyle,\n      \"ref\": \"componentRef\",\n      \"onScroll\": onFallbackScroll\n    }, {\n      default: function _default() {\n        return [_createVNode(Filler, {\n          \"prefixCls\": prefixCls,\n          \"height\": scrollHeight,\n          \"offset\": offset,\n          \"onInnerResize\": collectHeight,\n          \"ref\": \"fillerInnerRef\"\n        }, {\n          default: function _default() {\n            return renderChildren(mergedData, start, end, setInstance, children, sharedConfig);\n          }\n        })];\n      }\n    }), useVirtual && _createVNode(ScrollBar, {\n      \"ref\": \"scrollBarRef\",\n      \"prefixCls\": prefixCls,\n      \"scrollTop\": scrollTop,\n      \"height\": height,\n      \"scrollHeight\": scrollHeight,\n      \"count\": mergedData.length,\n      \"onScroll\": onScrollBar,\n      \"onStartMove\": function onStartMove() {\n        _this.state.scrollMoving = true;\n      },\n      \"onStopMove\": function onStopMove() {\n        _this.state.scrollMoving = false;\n      }\n    }, null)]);\n  }\n});\nexport default List;","map":{"version":3,"names":["_objectSpread","_defineProperty","_extends","_slicedToArray","resolveDirective","_resolveDirective","createVNode","_createVNode","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","shallowRef","toRaw","onMounted","onUpdated","ref","defineComponent","watchEffect","computed","nextTick","onBeforeUnmount","reactive","watch","Filler","Item","ScrollBar","useHeights","useScrollTo","useFrameWheel","useMobileTouchMove","useOriginScroll","PropTypes","classNames","supportsPassive","EMPTY_DATA","ScrollStyle","overflowY","overflowAnchor","renderChildren","list","startIndex","endIndex","setNodeRef","renderFunc","_ref","getKey","slice","map","item","index","eleIndex","node","key","setRef","ele","default","_default","List","name","inheritAttrs","props","prefixCls","String","data","array","height","Number","itemHeight","fullHeight","type","Boolean","undefined","itemKey","Function","required","component","virtual","children","onScroll","onMousedown","onMouseenter","onVisibleChange","setup","_ref2","expose","useVirtual","inVirtual","value","state","scrollTop","scrollMoving","mergedData","immediate","_item","val","componentRef","fillerInnerRef","scrollBarRef","sharedConfig","syncScrollTop","newTop","alignedTop","keepInRange","_useHeights","_useHeights2","setInstance","collectHeight","heights","updatedMark","calRes","scrollHeight","start","end","offset","offsetHeight","_a","itemTop","startOffset","dataLen","scrollTopHeight","cacheHeight","get","currentItemBottom","Math","min","maxScrollHeight","newScrollTop","isNaN","max","isScrollAtTop","isScrollAtBottom","originScroll","onScrollBar","onFallbackScroll","currentTarget","abs","_useFrameWheel","offsetY","top","_useFrameWheel2","onRawWheel","onFireFoxScroll","deltaY","smoothOffset","preventDefault","onMozMousePixelScroll","removeEventListener","passive","addEventListener","scrollTo","delayHidden","componentStyle","cs","pointerEvents","renderList","flush","render","_this","$props","$attrs","_a$prefixCls","_a$component","Component","_a$children","$slots","style","className","class","restProps","mergedClassName","_this$calRes","position","concat","onStartMove","onStopMove"],"sources":["C:/Users/USTC/Desktop/community1/vue-web/node_modules/ant-design-vue/es/vc-virtual-list/List.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { shallowRef, toRaw, onMounted, onUpdated, ref, defineComponent, watchEffect, computed, nextTick, onBeforeUnmount, reactive, watch } from 'vue';\nimport Filler from './Filler';\nimport Item from './Item';\nimport ScrollBar from './ScrollBar';\nimport useHeights from './hooks/useHeights';\nimport useScrollTo from './hooks/useScrollTo';\nimport useFrameWheel from './hooks/useFrameWheel';\nimport useMobileTouchMove from './hooks/useMobileTouchMove';\nimport useOriginScroll from './hooks/useOriginScroll';\nimport PropTypes from '../_util/vue-types';\nimport classNames from '../_util/classNames';\nimport supportsPassive from '../_util/supportsPassive';\nvar EMPTY_DATA = [];\nvar ScrollStyle = {\n  overflowY: 'auto',\n  overflowAnchor: 'none'\n};\n\nfunction renderChildren(list, startIndex, endIndex, setNodeRef, renderFunc, _ref) {\n  var getKey = _ref.getKey;\n  return list.slice(startIndex, endIndex + 1).map(function (item, index) {\n    var eleIndex = startIndex + index;\n    var node = renderFunc(item, eleIndex, {// style: status === 'MEASURE_START' ? { visibility: 'hidden' } : {},\n    });\n    var key = getKey(item);\n    return _createVNode(Item, {\n      \"key\": key,\n      \"setRef\": function setRef(ele) {\n        return setNodeRef(item, ele);\n      }\n    }, {\n      default: function _default() {\n        return [node];\n      }\n    });\n  });\n}\n\nvar List = defineComponent({\n  name: 'List',\n  inheritAttrs: false,\n  props: {\n    prefixCls: String,\n    data: PropTypes.array,\n    height: Number,\n    itemHeight: Number,\n\n    /** If not match virtual scroll condition, Set List still use height of container. */\n    fullHeight: {\n      type: Boolean,\n      default: undefined\n    },\n    itemKey: {\n      type: [String, Number, Function],\n      required: true\n    },\n    component: {\n      type: [String, Object]\n    },\n\n    /** Set `false` will always use real scroll instead of virtual one */\n    virtual: {\n      type: Boolean,\n      default: undefined\n    },\n    children: Function,\n    onScroll: Function,\n    onMousedown: Function,\n    onMouseenter: Function,\n    onVisibleChange: Function\n  },\n  setup: function setup(props, _ref2) {\n    var expose = _ref2.expose;\n    // ================================= MISC =================================\n    var useVirtual = computed(function () {\n      var height = props.height,\n          itemHeight = props.itemHeight,\n          virtual = props.virtual;\n      return !!(virtual !== false && height && itemHeight);\n    });\n    var inVirtual = computed(function () {\n      var height = props.height,\n          itemHeight = props.itemHeight,\n          data = props.data;\n      return useVirtual.value && data && itemHeight * data.length > height;\n    });\n    var state = reactive({\n      scrollTop: 0,\n      scrollMoving: false\n    });\n    var data = computed(function () {\n      return props.data || EMPTY_DATA;\n    });\n    var mergedData = shallowRef([]);\n    watch(data, function () {\n      mergedData.value = toRaw(data.value).slice();\n    }, {\n      immediate: true\n    }); // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n    var itemKey = shallowRef(function (_item) {\n      return undefined;\n    });\n    watch(function () {\n      return props.itemKey;\n    }, function (val) {\n      if (typeof val === 'function') {\n        itemKey.value = val;\n      } else {\n        itemKey.value = function (item) {\n          return item === null || item === void 0 ? void 0 : item[val];\n        };\n      }\n    }, {\n      immediate: true\n    });\n    var componentRef = ref();\n    var fillerInnerRef = ref();\n    var scrollBarRef = ref(); // Hack on scrollbar to enable flash call\n    // =============================== Item Key ===============================\n\n    var getKey = function getKey(item) {\n      return itemKey.value(item);\n    };\n\n    var sharedConfig = {\n      getKey: getKey\n    }; // ================================ Scroll ================================\n\n    function syncScrollTop(newTop) {\n      var value;\n\n      if (typeof newTop === 'function') {\n        value = newTop(state.scrollTop);\n      } else {\n        value = newTop;\n      }\n\n      var alignedTop = keepInRange(value);\n\n      if (componentRef.value) {\n        componentRef.value.scrollTop = alignedTop;\n      }\n\n      state.scrollTop = alignedTop;\n    } // ================================ Height ================================\n\n\n    var _useHeights = useHeights(mergedData, getKey, null, null),\n        _useHeights2 = _slicedToArray(_useHeights, 4),\n        setInstance = _useHeights2[0],\n        collectHeight = _useHeights2[1],\n        heights = _useHeights2[2],\n        updatedMark = _useHeights2[3];\n\n    var calRes = reactive({\n      scrollHeight: undefined,\n      start: 0,\n      end: 0,\n      offset: undefined\n    });\n    var offsetHeight = ref(0);\n    onMounted(function () {\n      nextTick(function () {\n        var _a;\n\n        offsetHeight.value = ((_a = fillerInnerRef.value) === null || _a === void 0 ? void 0 : _a.offsetHeight) || 0;\n      });\n    });\n    onUpdated(function () {\n      nextTick(function () {\n        var _a;\n\n        offsetHeight.value = ((_a = fillerInnerRef.value) === null || _a === void 0 ? void 0 : _a.offsetHeight) || 0;\n      });\n    });\n    watch([useVirtual, mergedData], function () {\n      if (!useVirtual.value) {\n        _extends(calRes, {\n          scrollHeight: undefined,\n          start: 0,\n          end: mergedData.value.length - 1,\n          offset: undefined\n        });\n      }\n    }, {\n      immediate: true\n    });\n    watch([useVirtual, mergedData, offsetHeight, inVirtual], function () {\n      // Always use virtual scroll bar in avoid shaking\n      if (useVirtual.value && !inVirtual.value) {\n        _extends(calRes, {\n          scrollHeight: offsetHeight.value,\n          start: 0,\n          end: mergedData.value.length - 1,\n          offset: undefined\n        });\n      }\n    }, {\n      immediate: true\n    });\n    watch([inVirtual, useVirtual, function () {\n      return state.scrollTop;\n    }, mergedData, updatedMark, function () {\n      return props.height;\n    }, offsetHeight], function () {\n      if (!useVirtual.value || !inVirtual.value) {\n        return;\n      }\n\n      var itemTop = 0;\n      var startIndex;\n      var startOffset;\n      var endIndex;\n      var dataLen = mergedData.value.length;\n      var data = mergedData.value;\n      var scrollTop = state.scrollTop;\n      var itemHeight = props.itemHeight,\n          height = props.height;\n      var scrollTopHeight = scrollTop + height;\n\n      for (var i = 0; i < dataLen; i += 1) {\n        var item = data[i];\n        var key = getKey(item);\n        var cacheHeight = heights.get(key);\n\n        if (cacheHeight === undefined) {\n          cacheHeight = itemHeight;\n        }\n\n        var currentItemBottom = itemTop + cacheHeight;\n\n        if (startIndex === undefined && currentItemBottom >= scrollTop) {\n          startIndex = i;\n          startOffset = itemTop;\n        } // Check item bottom in the range. We will render additional one item for motion usage\n\n\n        if (endIndex === undefined && currentItemBottom > scrollTopHeight) {\n          endIndex = i;\n        }\n\n        itemTop = currentItemBottom;\n      } // Fallback to normal if not match. This code should never reach\n\n      /* istanbul ignore next */\n\n\n      if (startIndex === undefined) {\n        startIndex = 0;\n        startOffset = 0;\n      }\n\n      if (endIndex === undefined) {\n        endIndex = dataLen - 1;\n      } // Give cache to improve scroll experience\n\n\n      endIndex = Math.min(endIndex + 1, dataLen);\n\n      _extends(calRes, {\n        scrollHeight: itemTop,\n        start: startIndex,\n        end: endIndex,\n        offset: startOffset\n      });\n    }, {\n      immediate: true\n    }); // =============================== In Range ===============================\n\n    var maxScrollHeight = computed(function () {\n      return calRes.scrollHeight - props.height;\n    });\n\n    function keepInRange(newScrollTop) {\n      var newTop = newScrollTop;\n\n      if (!Number.isNaN(maxScrollHeight.value)) {\n        newTop = Math.min(newTop, maxScrollHeight.value);\n      }\n\n      newTop = Math.max(newTop, 0);\n      return newTop;\n    }\n\n    var isScrollAtTop = computed(function () {\n      return state.scrollTop <= 0;\n    });\n    var isScrollAtBottom = computed(function () {\n      return state.scrollTop >= maxScrollHeight.value;\n    });\n    var originScroll = useOriginScroll(isScrollAtTop, isScrollAtBottom); // ================================ Scroll ================================\n\n    function onScrollBar(newScrollTop) {\n      var newTop = newScrollTop;\n      syncScrollTop(newTop);\n    } // When data size reduce. It may trigger native scroll event back to fit scroll position\n\n\n    function onFallbackScroll(e) {\n      var _a;\n\n      var newScrollTop = e.currentTarget.scrollTop;\n\n      if (Math.abs(newScrollTop - state.scrollTop) >= 1) {\n        syncScrollTop(newScrollTop);\n      } // Trigger origin onScroll\n\n\n      (_a = props.onScroll) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    } // Since this added in global,should use ref to keep update\n\n\n    var _useFrameWheel = useFrameWheel(useVirtual, isScrollAtTop, isScrollAtBottom, function (offsetY) {\n      syncScrollTop(function (top) {\n        var newTop = top + offsetY;\n        return newTop;\n      });\n    }),\n        _useFrameWheel2 = _slicedToArray(_useFrameWheel, 2),\n        onRawWheel = _useFrameWheel2[0],\n        onFireFoxScroll = _useFrameWheel2[1]; // Mobile touch move\n\n\n    useMobileTouchMove(useVirtual, componentRef, function (deltaY, smoothOffset) {\n      if (originScroll(deltaY, smoothOffset)) {\n        return false;\n      }\n\n      onRawWheel({\n        preventDefault: function preventDefault() {},\n        deltaY: deltaY\n      });\n      return true;\n    }); // Firefox only\n\n    function onMozMousePixelScroll(e) {\n      if (useVirtual.value) {\n        e.preventDefault();\n      }\n    }\n\n    var removeEventListener = function removeEventListener() {\n      if (componentRef.value) {\n        componentRef.value.removeEventListener('wheel', onRawWheel, supportsPassive ? {\n          passive: false\n        } : false);\n        componentRef.value.removeEventListener('DOMMouseScroll', onFireFoxScroll);\n        componentRef.value.removeEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n      }\n    };\n\n    watchEffect(function () {\n      nextTick(function () {\n        if (componentRef.value) {\n          removeEventListener();\n          componentRef.value.addEventListener('wheel', onRawWheel, supportsPassive ? {\n            passive: false\n          } : false);\n          componentRef.value.addEventListener('DOMMouseScroll', onFireFoxScroll);\n          componentRef.value.addEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n        }\n      });\n    });\n    onBeforeUnmount(function () {\n      removeEventListener();\n    }); // ================================= Ref ==================================\n\n    var scrollTo = useScrollTo(componentRef, mergedData, heights, props, getKey, collectHeight, syncScrollTop, function () {\n      var _a;\n\n      (_a = scrollBarRef.value) === null || _a === void 0 ? void 0 : _a.delayHidden();\n    });\n    expose({\n      scrollTo: scrollTo\n    });\n    var componentStyle = computed(function () {\n      var cs = null;\n\n      if (props.height) {\n        cs = _extends(_defineProperty({}, props.fullHeight ? 'height' : 'maxHeight', props.height + 'px'), ScrollStyle);\n\n        if (useVirtual.value) {\n          cs.overflowY = 'hidden';\n\n          if (state.scrollMoving) {\n            cs.pointerEvents = 'none';\n          }\n        }\n      }\n\n      return cs;\n    }); // ================================ Effect ================================\n\n    /** We need told outside that some list not rendered */\n\n    watch([function () {\n      return calRes.start;\n    }, function () {\n      return calRes.end;\n    }, mergedData], function () {\n      if (props.onVisibleChange) {\n        var renderList = mergedData.value.slice(calRes.start, calRes.end + 1);\n        props.onVisibleChange(renderList, mergedData.value);\n      }\n    }, {\n      flush: 'post'\n    });\n    return {\n      state: state,\n      mergedData: mergedData,\n      componentStyle: componentStyle,\n      onFallbackScroll: onFallbackScroll,\n      onScrollBar: onScrollBar,\n      componentRef: componentRef,\n      useVirtual: useVirtual,\n      calRes: calRes,\n      collectHeight: collectHeight,\n      setInstance: setInstance,\n      sharedConfig: sharedConfig,\n      scrollBarRef: scrollBarRef,\n      fillerInnerRef: fillerInnerRef\n    };\n  },\n  render: function render() {\n    var _this = this;\n\n    var _a = _extends(_extends({}, this.$props), this.$attrs),\n        _a$prefixCls = _a.prefixCls,\n        prefixCls = _a$prefixCls === void 0 ? 'rc-virtual-list' : _a$prefixCls,\n        height = _a.height,\n        itemHeight = _a.itemHeight,\n        fullHeight = _a.fullHeight,\n        data = _a.data,\n        itemKey = _a.itemKey,\n        virtual = _a.virtual,\n        _a$component = _a.component,\n        Component = _a$component === void 0 ? 'div' : _a$component,\n        onScroll = _a.onScroll,\n        _a$children = _a.children,\n        children = _a$children === void 0 ? this.$slots.default : _a$children,\n        style = _a.style,\n        className = _a.class,\n        restProps = __rest(_a, [\"prefixCls\", \"height\", \"itemHeight\", \"fullHeight\", \"data\", \"itemKey\", \"virtual\", \"component\", \"onScroll\", \"children\", \"style\", \"class\"]);\n\n    var mergedClassName = classNames(prefixCls, className);\n    var scrollTop = this.state.scrollTop;\n    var _this$calRes = this.calRes,\n        scrollHeight = _this$calRes.scrollHeight,\n        offset = _this$calRes.offset,\n        start = _this$calRes.start,\n        end = _this$calRes.end;\n    var componentStyle = this.componentStyle,\n        onFallbackScroll = this.onFallbackScroll,\n        onScrollBar = this.onScrollBar,\n        useVirtual = this.useVirtual,\n        collectHeight = this.collectHeight,\n        sharedConfig = this.sharedConfig,\n        setInstance = this.setInstance,\n        mergedData = this.mergedData;\n    return _createVNode(\"div\", _objectSpread({\n      \"style\": _extends(_extends({}, style), {\n        position: 'relative'\n      }),\n      \"class\": mergedClassName\n    }, restProps), [_createVNode(Component, {\n      \"class\": \"\".concat(prefixCls, \"-holder\"),\n      \"style\": componentStyle,\n      \"ref\": \"componentRef\",\n      \"onScroll\": onFallbackScroll\n    }, {\n      default: function _default() {\n        return [_createVNode(Filler, {\n          \"prefixCls\": prefixCls,\n          \"height\": scrollHeight,\n          \"offset\": offset,\n          \"onInnerResize\": collectHeight,\n          \"ref\": \"fillerInnerRef\"\n        }, {\n          default: function _default() {\n            return renderChildren(mergedData, start, end, setInstance, children, sharedConfig);\n          }\n        })];\n      }\n    }), useVirtual && _createVNode(ScrollBar, {\n      \"ref\": \"scrollBarRef\",\n      \"prefixCls\": prefixCls,\n      \"scrollTop\": scrollTop,\n      \"height\": height,\n      \"scrollHeight\": scrollHeight,\n      \"count\": mergedData.length,\n      \"onScroll\": onScrollBar,\n      \"onStartMove\": function onStartMove() {\n        _this.state.scrollMoving = true;\n      },\n      \"onStopMove\": function onStopMove() {\n        _this.state.scrollMoving = false;\n      }\n    }, null)]);\n  }\n});\nexport default List;"],"mappings":"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"},"metadata":{},"sourceType":"module"}