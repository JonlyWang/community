{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { watch, computed, inject, provide, ref, onBeforeUnmount, getCurrentInstance, defineComponent } from 'vue';\nimport devWarning from '../vc-util/devWarning';\nvar ContextKey = Symbol('ContextProps');\nvar InternalContextKey = Symbol('InternalContextProps');\nexport var useProvideFormItemContext = function useProvideFormItemContext(props) {\n  var useValidation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : computed(function () {\n    return true;\n  });\n  var formItemFields = ref(new Map());\n\n  var addFormItemField = function addFormItemField(key, type) {\n    formItemFields.value.set(key, type);\n    formItemFields.value = new Map(formItemFields.value);\n  };\n\n  var removeFormItemField = function removeFormItemField(key) {\n    formItemFields.value.delete(key);\n    formItemFields.value = new Map(formItemFields.value);\n  };\n\n  var instance = getCurrentInstance();\n  watch([useValidation, formItemFields], function () {\n    if (process.env.NODE_ENV !== 'production') {\n      if (useValidation.value && formItemFields.value.size > 1) {\n        devWarning(false, 'Form.Item', \"FormItem can only collect one field item, you haved set \".concat(_toConsumableArray(formItemFields.value.values()).map(function (v) {\n          return \"`\".concat(v.name, \"`\");\n        }).join(', '), \" \").concat(formItemFields.value.size, \" field items.\\n        You can set not need to be collected fields into `a-form-item-rest`\"));\n        var cur = instance;\n\n        while (cur.parent) {\n          console.warn('at', cur.type);\n          cur = cur.parent;\n        }\n      }\n    }\n  });\n  provide(ContextKey, props);\n  provide(InternalContextKey, {\n    addFormItemField: addFormItemField,\n    removeFormItemField: removeFormItemField\n  });\n};\nvar defaultContext = {\n  id: computed(function () {\n    return undefined;\n  }),\n  onFieldBlur: function onFieldBlur() {},\n  onFieldChange: function onFieldChange() {},\n  clearValidate: function clearValidate() {}\n};\nvar defaultInternalContext = {\n  addFormItemField: function addFormItemField() {},\n  removeFormItemField: function removeFormItemField() {}\n};\nexport var useInjectFormItemContext = function useInjectFormItemContext() {\n  var internalContext = inject(InternalContextKey, defaultInternalContext);\n  var formItemFieldKey = Symbol('FormItemFieldKey');\n  var instance = getCurrentInstance();\n  internalContext.addFormItemField(formItemFieldKey, instance.type);\n  onBeforeUnmount(function () {\n    internalContext.removeFormItemField(formItemFieldKey);\n  }); // We should prevent the passing of context for children\n\n  provide(InternalContextKey, defaultInternalContext);\n  provide(ContextKey, defaultContext);\n  return inject(ContextKey, defaultContext);\n};\nexport default defineComponent({\n  name: 'AFormItemRest',\n  setup: function setup(_, _ref) {\n    var slots = _ref.slots;\n    provide(InternalContextKey, defaultInternalContext);\n    provide(ContextKey, defaultContext);\n    return function () {\n      var _a;\n\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n  }\n});","map":{"version":3,"names":["_toConsumableArray","watch","computed","inject","provide","ref","onBeforeUnmount","getCurrentInstance","defineComponent","devWarning","ContextKey","Symbol","InternalContextKey","useProvideFormItemContext","props","useValidation","arguments","length","undefined","formItemFields","Map","addFormItemField","key","type","value","set","removeFormItemField","delete","instance","process","env","NODE_ENV","size","concat","values","map","v","name","join","cur","parent","console","warn","defaultContext","id","onFieldBlur","onFieldChange","clearValidate","defaultInternalContext","useInjectFormItemContext","internalContext","formItemFieldKey","setup","_","_ref","slots","_a","default","call"],"sources":["C:/Users/USTC/Desktop/community1/vue-web/node_modules/ant-design-vue/es/form/FormItemContext.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { watch, computed, inject, provide, ref, onBeforeUnmount, getCurrentInstance, defineComponent } from 'vue';\nimport devWarning from '../vc-util/devWarning';\nvar ContextKey = Symbol('ContextProps');\nvar InternalContextKey = Symbol('InternalContextProps');\nexport var useProvideFormItemContext = function useProvideFormItemContext(props) {\n  var useValidation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : computed(function () {\n    return true;\n  });\n  var formItemFields = ref(new Map());\n\n  var addFormItemField = function addFormItemField(key, type) {\n    formItemFields.value.set(key, type);\n    formItemFields.value = new Map(formItemFields.value);\n  };\n\n  var removeFormItemField = function removeFormItemField(key) {\n    formItemFields.value.delete(key);\n    formItemFields.value = new Map(formItemFields.value);\n  };\n\n  var instance = getCurrentInstance();\n  watch([useValidation, formItemFields], function () {\n    if (process.env.NODE_ENV !== 'production') {\n      if (useValidation.value && formItemFields.value.size > 1) {\n        devWarning(false, 'Form.Item', \"FormItem can only collect one field item, you haved set \".concat(_toConsumableArray(formItemFields.value.values()).map(function (v) {\n          return \"`\".concat(v.name, \"`\");\n        }).join(', '), \" \").concat(formItemFields.value.size, \" field items.\\n        You can set not need to be collected fields into `a-form-item-rest`\"));\n        var cur = instance;\n\n        while (cur.parent) {\n          console.warn('at', cur.type);\n          cur = cur.parent;\n        }\n      }\n    }\n  });\n  provide(ContextKey, props);\n  provide(InternalContextKey, {\n    addFormItemField: addFormItemField,\n    removeFormItemField: removeFormItemField\n  });\n};\nvar defaultContext = {\n  id: computed(function () {\n    return undefined;\n  }),\n  onFieldBlur: function onFieldBlur() {},\n  onFieldChange: function onFieldChange() {},\n  clearValidate: function clearValidate() {}\n};\nvar defaultInternalContext = {\n  addFormItemField: function addFormItemField() {},\n  removeFormItemField: function removeFormItemField() {}\n};\nexport var useInjectFormItemContext = function useInjectFormItemContext() {\n  var internalContext = inject(InternalContextKey, defaultInternalContext);\n  var formItemFieldKey = Symbol('FormItemFieldKey');\n  var instance = getCurrentInstance();\n  internalContext.addFormItemField(formItemFieldKey, instance.type);\n  onBeforeUnmount(function () {\n    internalContext.removeFormItemField(formItemFieldKey);\n  }); // We should prevent the passing of context for children\n\n  provide(InternalContextKey, defaultInternalContext);\n  provide(ContextKey, defaultContext);\n  return inject(ContextKey, defaultContext);\n};\nexport default defineComponent({\n  name: 'AFormItemRest',\n  setup: function setup(_, _ref) {\n    var slots = _ref.slots;\n    provide(InternalContextKey, defaultInternalContext);\n    provide(ContextKey, defaultContext);\n    return function () {\n      var _a;\n\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}