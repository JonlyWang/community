{"ast":null,"code":"import { getValue } from '../utils/miscUtil';\nimport { isSameDate, getQuarter } from '../utils/dateUtil';\nimport { computed } from 'vue';\nexport default function useRangeDisabled(_ref, openRecordsRef) {\n  var picker = _ref.picker,\n      locale = _ref.locale,\n      selectedValue = _ref.selectedValue,\n      disabledDate = _ref.disabledDate,\n      disabled = _ref.disabled,\n      generateConfig = _ref.generateConfig;\n  var startDate = computed(function () {\n    return getValue(selectedValue.value, 0);\n  });\n  var endDate = computed(function () {\n    return getValue(selectedValue.value, 1);\n  });\n\n  function weekFirstDate(date) {\n    return generateConfig.value.locale.getWeekFirstDate(locale.value.locale, date);\n  }\n\n  function monthNumber(date) {\n    var year = generateConfig.value.getYear(date);\n    var month = generateConfig.value.getMonth(date);\n    return year * 100 + month;\n  }\n\n  function quarterNumber(date) {\n    var year = generateConfig.value.getYear(date);\n    var quarter = getQuarter(generateConfig.value, date);\n    return year * 10 + quarter;\n  }\n\n  var disabledStartDate = function disabledStartDate(date) {\n    var _a;\n\n    if (disabledDate && ((_a = disabledDate === null || disabledDate === void 0 ? void 0 : disabledDate.value) === null || _a === void 0 ? void 0 : _a.call(disabledDate, date))) {\n      return true;\n    } // Disabled range\n\n\n    if (disabled[1] && endDate) {\n      return !isSameDate(generateConfig.value, date, endDate.value) && generateConfig.value.isAfter(date, endDate.value);\n    } // Disabled part\n\n\n    if (openRecordsRef.value[1] && endDate.value) {\n      switch (picker.value) {\n        case 'quarter':\n          return quarterNumber(date) > quarterNumber(endDate.value);\n\n        case 'month':\n          return monthNumber(date) > monthNumber(endDate.value);\n\n        case 'week':\n          return weekFirstDate(date) > weekFirstDate(endDate.value);\n\n        default:\n          return !isSameDate(generateConfig.value, date, endDate.value) && generateConfig.value.isAfter(date, endDate.value);\n      }\n    }\n\n    return false;\n  };\n\n  var disabledEndDate = function disabledEndDate(date) {\n    var _a;\n\n    if ((_a = disabledDate.value) === null || _a === void 0 ? void 0 : _a.call(disabledDate, date)) {\n      return true;\n    } // Disabled range\n\n\n    if (disabled[0] && startDate) {\n      return !isSameDate(generateConfig.value, date, endDate.value) && generateConfig.value.isAfter(startDate.value, date);\n    } // Disabled part\n\n\n    if (openRecordsRef.value[0] && startDate.value) {\n      switch (picker.value) {\n        case 'quarter':\n          return quarterNumber(date) < quarterNumber(startDate.value);\n\n        case 'month':\n          return monthNumber(date) < monthNumber(startDate.value);\n\n        case 'week':\n          return weekFirstDate(date) < weekFirstDate(startDate.value);\n\n        default:\n          return !isSameDate(generateConfig.value, date, startDate.value) && generateConfig.value.isAfter(startDate.value, date);\n      }\n    }\n\n    return false;\n  };\n\n  return [disabledStartDate, disabledEndDate];\n}","map":{"version":3,"names":["getValue","isSameDate","getQuarter","computed","useRangeDisabled","_ref","openRecordsRef","picker","locale","selectedValue","disabledDate","disabled","generateConfig","startDate","value","endDate","weekFirstDate","date","getWeekFirstDate","monthNumber","year","getYear","month","getMonth","quarterNumber","quarter","disabledStartDate","_a","call","isAfter","disabledEndDate"],"sources":["C:/Users/USTC/Desktop/community1/vue-web/node_modules/ant-design-vue/es/vc-picker/hooks/useRangeDisabled.js"],"sourcesContent":["import { getValue } from '../utils/miscUtil';\nimport { isSameDate, getQuarter } from '../utils/dateUtil';\nimport { computed } from 'vue';\nexport default function useRangeDisabled(_ref, openRecordsRef) {\n  var picker = _ref.picker,\n      locale = _ref.locale,\n      selectedValue = _ref.selectedValue,\n      disabledDate = _ref.disabledDate,\n      disabled = _ref.disabled,\n      generateConfig = _ref.generateConfig;\n  var startDate = computed(function () {\n    return getValue(selectedValue.value, 0);\n  });\n  var endDate = computed(function () {\n    return getValue(selectedValue.value, 1);\n  });\n\n  function weekFirstDate(date) {\n    return generateConfig.value.locale.getWeekFirstDate(locale.value.locale, date);\n  }\n\n  function monthNumber(date) {\n    var year = generateConfig.value.getYear(date);\n    var month = generateConfig.value.getMonth(date);\n    return year * 100 + month;\n  }\n\n  function quarterNumber(date) {\n    var year = generateConfig.value.getYear(date);\n    var quarter = getQuarter(generateConfig.value, date);\n    return year * 10 + quarter;\n  }\n\n  var disabledStartDate = function disabledStartDate(date) {\n    var _a;\n\n    if (disabledDate && ((_a = disabledDate === null || disabledDate === void 0 ? void 0 : disabledDate.value) === null || _a === void 0 ? void 0 : _a.call(disabledDate, date))) {\n      return true;\n    } // Disabled range\n\n\n    if (disabled[1] && endDate) {\n      return !isSameDate(generateConfig.value, date, endDate.value) && generateConfig.value.isAfter(date, endDate.value);\n    } // Disabled part\n\n\n    if (openRecordsRef.value[1] && endDate.value) {\n      switch (picker.value) {\n        case 'quarter':\n          return quarterNumber(date) > quarterNumber(endDate.value);\n\n        case 'month':\n          return monthNumber(date) > monthNumber(endDate.value);\n\n        case 'week':\n          return weekFirstDate(date) > weekFirstDate(endDate.value);\n\n        default:\n          return !isSameDate(generateConfig.value, date, endDate.value) && generateConfig.value.isAfter(date, endDate.value);\n      }\n    }\n\n    return false;\n  };\n\n  var disabledEndDate = function disabledEndDate(date) {\n    var _a;\n\n    if ((_a = disabledDate.value) === null || _a === void 0 ? void 0 : _a.call(disabledDate, date)) {\n      return true;\n    } // Disabled range\n\n\n    if (disabled[0] && startDate) {\n      return !isSameDate(generateConfig.value, date, endDate.value) && generateConfig.value.isAfter(startDate.value, date);\n    } // Disabled part\n\n\n    if (openRecordsRef.value[0] && startDate.value) {\n      switch (picker.value) {\n        case 'quarter':\n          return quarterNumber(date) < quarterNumber(startDate.value);\n\n        case 'month':\n          return monthNumber(date) < monthNumber(startDate.value);\n\n        case 'week':\n          return weekFirstDate(date) < weekFirstDate(startDate.value);\n\n        default:\n          return !isSameDate(generateConfig.value, date, startDate.value) && generateConfig.value.isAfter(startDate.value, date);\n      }\n    }\n\n    return false;\n  };\n\n  return [disabledStartDate, disabledEndDate];\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}