{"ast":null,"code":"import { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport PropTypes from './vue-types';\nimport { defineComponent, nextTick, onBeforeMount, onBeforeUnmount, onUpdated, Teleport, watch } from 'vue';\nimport { useInjectPortal } from '../vc-trigger/context';\nexport default defineComponent({\n  name: 'Portal',\n  inheritAttrs: false,\n  props: {\n    getContainer: PropTypes.func.isRequired,\n    didUpdate: Function\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var isSSR = true; // getContainer 不会改变，不用响应式\n\n    var container;\n\n    var _useInjectPortal = useInjectPortal(),\n        shouldRender = _useInjectPortal.shouldRender;\n\n    onBeforeMount(function () {\n      isSSR = false;\n\n      if (shouldRender.value) {\n        container = props.getContainer();\n      }\n    });\n    var stopWatch = watch(shouldRender, function () {\n      if (shouldRender.value && !container) {\n        container = props.getContainer();\n      }\n\n      if (container) {\n        stopWatch();\n      }\n    });\n    onUpdated(function () {\n      nextTick(function () {\n        var _a;\n\n        if (shouldRender.value) {\n          (_a = props.didUpdate) === null || _a === void 0 ? void 0 : _a.call(props, props);\n        }\n      });\n    });\n    onBeforeUnmount(function () {\n      if (container && container.parentNode) {\n        container.parentNode.removeChild(container);\n      }\n    });\n    return function () {\n      var _a;\n\n      if (!shouldRender.value) return null;\n\n      if (isSSR) {\n        return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n      }\n\n      return container ? _createVNode(Teleport, {\n        \"to\": container\n      }, slots) : null;\n    };\n  }\n});","map":{"version":3,"names":["createVNode","_createVNode","resolveDirective","_resolveDirective","PropTypes","defineComponent","nextTick","onBeforeMount","onBeforeUnmount","onUpdated","Teleport","watch","useInjectPortal","name","inheritAttrs","props","getContainer","func","isRequired","didUpdate","Function","setup","_ref","slots","isSSR","container","_useInjectPortal","shouldRender","value","stopWatch","_a","call","parentNode","removeChild","default"],"sources":["C:/Users/USTC/Desktop/community1/vue-web/node_modules/ant-design-vue/es/_util/Portal.js"],"sourcesContent":["import { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport PropTypes from './vue-types';\nimport { defineComponent, nextTick, onBeforeMount, onBeforeUnmount, onUpdated, Teleport, watch } from 'vue';\nimport { useInjectPortal } from '../vc-trigger/context';\nexport default defineComponent({\n  name: 'Portal',\n  inheritAttrs: false,\n  props: {\n    getContainer: PropTypes.func.isRequired,\n    didUpdate: Function\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var isSSR = true; // getContainer 不会改变，不用响应式\n\n    var container;\n\n    var _useInjectPortal = useInjectPortal(),\n        shouldRender = _useInjectPortal.shouldRender;\n\n    onBeforeMount(function () {\n      isSSR = false;\n\n      if (shouldRender.value) {\n        container = props.getContainer();\n      }\n    });\n    var stopWatch = watch(shouldRender, function () {\n      if (shouldRender.value && !container) {\n        container = props.getContainer();\n      }\n\n      if (container) {\n        stopWatch();\n      }\n    });\n    onUpdated(function () {\n      nextTick(function () {\n        var _a;\n\n        if (shouldRender.value) {\n          (_a = props.didUpdate) === null || _a === void 0 ? void 0 : _a.call(props, props);\n        }\n      });\n    });\n    onBeforeUnmount(function () {\n      if (container && container.parentNode) {\n        container.parentNode.removeChild(container);\n      }\n    });\n    return function () {\n      var _a;\n\n      if (!shouldRender.value) return null;\n\n      if (isSSR) {\n        return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n      }\n\n      return container ? _createVNode(Teleport, {\n        \"to\": container\n      }, slots) : null;\n    };\n  }\n});"],"mappings":"AAAA,SAASA,WAAW,IAAIC,YAAxB,EAAsCC,gBAAgB,IAAIC,iBAA1D,QAAmF,KAAnF;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,eAAT,EAA0BC,QAA1B,EAAoCC,aAApC,EAAmDC,eAAnD,EAAoEC,SAApE,EAA+EC,QAA/E,EAAyFC,KAAzF,QAAsG,KAAtG;AACA,SAASC,eAAT,QAAgC,uBAAhC;AACA,eAAeP,eAAe,CAAC;EAC7BQ,IAAI,EAAE,QADuB;EAE7BC,YAAY,EAAE,KAFe;EAG7BC,KAAK,EAAE;IACLC,YAAY,EAAEZ,SAAS,CAACa,IAAV,CAAeC,UADxB;IAELC,SAAS,EAAEC;EAFN,CAHsB;EAO7BC,KAAK,EAAE,SAASA,KAAT,CAAeN,KAAf,EAAsBO,IAAtB,EAA4B;IACjC,IAAIC,KAAK,GAAGD,IAAI,CAACC,KAAjB;IACA,IAAIC,KAAK,GAAG,IAAZ,CAFiC,CAEf;;IAElB,IAAIC,SAAJ;;IAEA,IAAIC,gBAAgB,GAAGd,eAAe,EAAtC;IAAA,IACIe,YAAY,GAAGD,gBAAgB,CAACC,YADpC;;IAGApB,aAAa,CAAC,YAAY;MACxBiB,KAAK,GAAG,KAAR;;MAEA,IAAIG,YAAY,CAACC,KAAjB,EAAwB;QACtBH,SAAS,GAAGV,KAAK,CAACC,YAAN,EAAZ;MACD;IACF,CANY,CAAb;IAOA,IAAIa,SAAS,GAAGlB,KAAK,CAACgB,YAAD,EAAe,YAAY;MAC9C,IAAIA,YAAY,CAACC,KAAb,IAAsB,CAACH,SAA3B,EAAsC;QACpCA,SAAS,GAAGV,KAAK,CAACC,YAAN,EAAZ;MACD;;MAED,IAAIS,SAAJ,EAAe;QACbI,SAAS;MACV;IACF,CARoB,CAArB;IASApB,SAAS,CAAC,YAAY;MACpBH,QAAQ,CAAC,YAAY;QACnB,IAAIwB,EAAJ;;QAEA,IAAIH,YAAY,CAACC,KAAjB,EAAwB;UACtB,CAACE,EAAE,GAAGf,KAAK,CAACI,SAAZ,MAA2B,IAA3B,IAAmCW,EAAE,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,EAAE,CAACC,IAAH,CAAQhB,KAAR,EAAeA,KAAf,CAA5D;QACD;MACF,CANO,CAAR;IAOD,CARQ,CAAT;IASAP,eAAe,CAAC,YAAY;MAC1B,IAAIiB,SAAS,IAAIA,SAAS,CAACO,UAA3B,EAAuC;QACrCP,SAAS,CAACO,UAAV,CAAqBC,WAArB,CAAiCR,SAAjC;MACD;IACF,CAJc,CAAf;IAKA,OAAO,YAAY;MACjB,IAAIK,EAAJ;;MAEA,IAAI,CAACH,YAAY,CAACC,KAAlB,EAAyB,OAAO,IAAP;;MAEzB,IAAIJ,KAAJ,EAAW;QACT,OAAO,CAACM,EAAE,GAAGP,KAAK,CAACW,OAAZ,MAAyB,IAAzB,IAAiCJ,EAAE,KAAK,KAAK,CAA7C,GAAiD,KAAK,CAAtD,GAA0DA,EAAE,CAACC,IAAH,CAAQR,KAAR,CAAjE;MACD;;MAED,OAAOE,SAAS,GAAGxB,YAAY,CAACS,QAAD,EAAW;QACxC,MAAMe;MADkC,CAAX,EAE5BF,KAF4B,CAAf,GAEJ,IAFZ;IAGD,CAZD;EAaD;AA3D4B,CAAD,CAA9B"},"metadata":{},"sourceType":"module"}