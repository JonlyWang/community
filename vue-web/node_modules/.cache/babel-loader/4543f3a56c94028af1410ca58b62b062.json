{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { Fragment as _Fragment, createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport { computed, defineComponent, inject, provide, ref } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport contains from '../vc-util/Dom/contains';\nimport raf from '../_util/raf';\nimport { hasProp, getComponent as _getComponent, getEvents, filterEmpty, getSlot, findDOMNode } from '../_util/props-util';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../_util/requestAnimationTimeout';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport Popup from './Popup';\nimport { getAlignFromPlacement, getAlignPopupClassName } from './utils/alignUtil';\nimport BaseMixin from '../_util/BaseMixin';\nimport Portal from '../_util/Portal';\nimport classNames from '../_util/classNames';\nimport { cloneElement } from '../_util/vnode';\nimport supportsPassive from '../_util/supportsPassive';\nimport { useInjectTrigger, useProvidePortal } from './context';\n\nfunction noop() {}\n\nfunction returnEmptyString() {\n  return '';\n}\n\nfunction returnDocument(element) {\n  if (element) {\n    return element.ownerDocument;\n  }\n\n  return window.document;\n}\n\nvar ALL_HANDLERS = ['onClick', 'onMousedown', 'onTouchstart', 'onMouseenter', 'onMouseleave', 'onFocus', 'onBlur', 'onContextmenu'];\nexport default defineComponent({\n  name: 'Trigger',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: {\n    action: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).def([]),\n    showAction: PropTypes.any.def([]),\n    hideAction: PropTypes.any.def([]),\n    getPopupClassNameFromAlign: PropTypes.any.def(returnEmptyString),\n    onPopupVisibleChange: Function,\n    afterPopupVisibleChange: PropTypes.func.def(noop),\n    popup: PropTypes.any,\n    popupStyle: {\n      type: Object,\n      default: undefined\n    },\n    prefixCls: PropTypes.string.def('rc-trigger-popup'),\n    popupClassName: PropTypes.string.def(''),\n    popupPlacement: String,\n    builtinPlacements: PropTypes.object,\n    popupTransitionName: String,\n    popupAnimation: PropTypes.any,\n    mouseEnterDelay: PropTypes.number.def(0),\n    mouseLeaveDelay: PropTypes.number.def(0.1),\n    zIndex: Number,\n    focusDelay: PropTypes.number.def(0),\n    blurDelay: PropTypes.number.def(0.15),\n    getPopupContainer: Function,\n    getDocument: PropTypes.func.def(returnDocument),\n    forceRender: {\n      type: Boolean,\n      default: undefined\n    },\n    destroyPopupOnHide: {\n      type: Boolean,\n      default: false\n    },\n    mask: {\n      type: Boolean,\n      default: false\n    },\n    maskClosable: {\n      type: Boolean,\n      default: true\n    },\n    // onPopupAlign: PropTypes.func.def(noop),\n    popupAlign: PropTypes.object.def(function () {\n      return {};\n    }),\n    popupVisible: {\n      type: Boolean,\n      default: undefined\n    },\n    defaultPopupVisible: {\n      type: Boolean,\n      default: false\n    },\n    maskTransitionName: String,\n    maskAnimation: String,\n    stretch: String,\n    alignPoint: {\n      type: Boolean,\n      default: undefined\n    },\n    autoDestroy: {\n      type: Boolean,\n      default: false\n    },\n    mobile: Object,\n    getTriggerDOMNode: Function\n  },\n  setup: function setup(props) {\n    var align = computed(function () {\n      var popupPlacement = props.popupPlacement,\n          popupAlign = props.popupAlign,\n          builtinPlacements = props.builtinPlacements;\n\n      if (popupPlacement && builtinPlacements) {\n        return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n      }\n\n      return popupAlign;\n    });\n\n    var _useInjectTrigger = useInjectTrigger(),\n        setPortal = _useInjectTrigger.setPortal,\n        popPortal = _useInjectTrigger.popPortal;\n\n    var popupRef = ref(null);\n\n    var setPopupRef = function setPopupRef(val) {\n      popupRef.value = val;\n    };\n\n    return {\n      popPortal: popPortal,\n      setPortal: setPortal,\n      vcTriggerContext: inject('vcTriggerContext', {}),\n      popupRef: popupRef,\n      setPopupRef: setPopupRef,\n      triggerRef: ref(null),\n      align: align,\n      focusTime: null,\n      clickOutsideHandler: null,\n      contextmenuOutsideHandler1: null,\n      contextmenuOutsideHandler2: null,\n      touchOutsideHandler: null,\n      attachId: null,\n      delayTimer: null,\n      hasPopupMouseDown: false,\n      preClickTime: null,\n      preTouchTime: null,\n      mouseDownTimeout: null,\n      childOriginEvents: {}\n    };\n  },\n  data: function data() {\n    var _this = this;\n\n    var _a, _b;\n\n    var props = this.$props;\n    var popupVisible;\n\n    if (this.popupVisible !== undefined) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n\n    ALL_HANDLERS.forEach(function (h) {\n      _this[\"fire\".concat(h)] = function (e) {\n        _this.fireEvents(h, e);\n      };\n    });\n    (_b = (_a = this).setPortal) === null || _b === void 0 ? void 0 : _b.call(_a, _createVNode(Portal, {\n      \"key\": \"portal\",\n      \"getContainer\": this.getContainer,\n      \"didUpdate\": this.handlePortalUpdate\n    }, {\n      default: this.getComponent\n    }));\n    return {\n      prevPopupVisible: popupVisible,\n      sPopupVisible: popupVisible,\n      point: null\n    };\n  },\n  watch: {\n    popupVisible: function popupVisible(val) {\n      if (val !== undefined) {\n        this.prevPopupVisible = this.sPopupVisible;\n        this.sPopupVisible = val;\n      }\n    }\n  },\n  created: function created() {\n    provide('vcTriggerContext', {\n      onPopupMouseDown: this.onPopupMouseDown\n    });\n    useProvidePortal(this);\n  },\n  deactivated: function deactivated() {\n    this.setPopupVisible(false);\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.updatedCal();\n    });\n  },\n  updated: function updated() {\n    var _this3 = this;\n\n    this.$nextTick(function () {\n      _this3.updatedCal();\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    this.clearDelayTimer();\n    this.clearOutsideHandler();\n    clearTimeout(this.mouseDownTimeout);\n    raf.cancel(this.attachId);\n  },\n  methods: {\n    updatedCal: function updatedCal() {\n      var props = this.$props;\n      var state = this.$data; // We must listen to `mousedown` or `touchstart`, edge case:\n      // https://github.com/ant-design/ant-design/issues/5804\n      // https://github.com/react-component/calendar/issues/250\n      // https://github.com/react-component/trigger/issues/50\n\n      if (state.sPopupVisible) {\n        var currentDocument;\n\n        if (!this.clickOutsideHandler && (this.isClickToHide() || this.isContextmenuToShow())) {\n          currentDocument = props.getDocument(this.getRootDomNode());\n          this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n        } // always hide on mobile\n\n\n        if (!this.touchOutsideHandler) {\n          currentDocument = currentDocument || props.getDocument(this.getRootDomNode());\n          this.touchOutsideHandler = addEventListener(currentDocument, 'touchstart', this.onDocumentClick, supportsPassive ? {\n            passive: false\n          } : false);\n        } // close popup when trigger type contains 'onContextmenu' and document is scrolling.\n\n\n        if (!this.contextmenuOutsideHandler1 && this.isContextmenuToShow()) {\n          currentDocument = currentDocument || props.getDocument(this.getRootDomNode());\n          this.contextmenuOutsideHandler1 = addEventListener(currentDocument, 'scroll', this.onContextmenuClose);\n        } // close popup when trigger type contains 'onContextmenu' and window is blur.\n\n\n        if (!this.contextmenuOutsideHandler2 && this.isContextmenuToShow()) {\n          this.contextmenuOutsideHandler2 = addEventListener(window, 'blur', this.onContextmenuClose);\n        }\n      } else {\n        this.clearOutsideHandler();\n      }\n    },\n    onMouseenter: function onMouseenter(e) {\n      var mouseEnterDelay = this.$props.mouseEnterDelay;\n      this.fireEvents('onMouseenter', e);\n      this.delaySetPopupVisible(true, mouseEnterDelay, mouseEnterDelay ? null : e);\n    },\n    onMouseMove: function onMouseMove(e) {\n      this.fireEvents('onMousemove', e);\n      this.setPoint(e);\n    },\n    onMouseleave: function onMouseleave(e) {\n      this.fireEvents('onMouseleave', e);\n      this.delaySetPopupVisible(false, this.$props.mouseLeaveDelay);\n    },\n    onPopupMouseenter: function onPopupMouseenter() {\n      this.clearDelayTimer();\n    },\n    onPopupMouseleave: function onPopupMouseleave(e) {\n      var _a;\n\n      if (e && e.relatedTarget && !e.relatedTarget.setTimeout && contains((_a = this.popupRef) === null || _a === void 0 ? void 0 : _a.getElement(), e.relatedTarget)) {\n        return;\n      }\n\n      this.delaySetPopupVisible(false, this.$props.mouseLeaveDelay);\n    },\n    onFocus: function onFocus(e) {\n      this.fireEvents('onFocus', e); // incase focusin and focusout\n\n      this.clearDelayTimer();\n\n      if (this.isFocusToShow()) {\n        this.focusTime = Date.now();\n        this.delaySetPopupVisible(true, this.$props.focusDelay);\n      }\n    },\n    onMousedown: function onMousedown(e) {\n      this.fireEvents('onMousedown', e);\n      this.preClickTime = Date.now();\n    },\n    onTouchstart: function onTouchstart(e) {\n      this.fireEvents('onTouchstart', e);\n      this.preTouchTime = Date.now();\n    },\n    onBlur: function onBlur(e) {\n      if (!contains(e.target, e.relatedTarget || document.activeElement)) {\n        this.fireEvents('onBlur', e);\n        this.clearDelayTimer();\n\n        if (this.isBlurToHide()) {\n          this.delaySetPopupVisible(false, this.$props.blurDelay);\n        }\n      }\n    },\n    onContextmenu: function onContextmenu(e) {\n      e.preventDefault();\n      this.fireEvents('onContextmenu', e);\n      this.setPopupVisible(true, e);\n    },\n    onContextmenuClose: function onContextmenuClose() {\n      if (this.isContextmenuToShow()) {\n        this.close();\n      }\n    },\n    onClick: function onClick(event) {\n      this.fireEvents('onClick', event); // focus will trigger click\n\n      if (this.focusTime) {\n        var preTime;\n\n        if (this.preClickTime && this.preTouchTime) {\n          preTime = Math.min(this.preClickTime, this.preTouchTime);\n        } else if (this.preClickTime) {\n          preTime = this.preClickTime;\n        } else if (this.preTouchTime) {\n          preTime = this.preTouchTime;\n        }\n\n        if (Math.abs(preTime - this.focusTime) < 20) {\n          return;\n        }\n\n        this.focusTime = 0;\n      }\n\n      this.preClickTime = 0;\n      this.preTouchTime = 0; // Only prevent default when all the action is click.\n      // https://github.com/ant-design/ant-design/issues/17043\n      // https://github.com/ant-design/ant-design/issues/17291\n\n      if (this.isClickToShow() && (this.isClickToHide() || this.isBlurToHide()) && event && event.preventDefault) {\n        event.preventDefault();\n      }\n\n      if (event && event.domEvent) {\n        event.domEvent.preventDefault();\n      }\n\n      var nextVisible = !this.$data.sPopupVisible;\n\n      if (this.isClickToHide() && !nextVisible || nextVisible && this.isClickToShow()) {\n        this.setPopupVisible(!this.$data.sPopupVisible, event);\n      }\n    },\n    onPopupMouseDown: function onPopupMouseDown() {\n      var _this4 = this;\n\n      var _this$vcTriggerContex = this.vcTriggerContext,\n          vcTriggerContext = _this$vcTriggerContex === void 0 ? {} : _this$vcTriggerContex;\n      this.hasPopupMouseDown = true;\n      clearTimeout(this.mouseDownTimeout);\n      this.mouseDownTimeout = setTimeout(function () {\n        _this4.hasPopupMouseDown = false;\n      }, 0);\n\n      if (vcTriggerContext.onPopupMouseDown) {\n        vcTriggerContext.onPopupMouseDown.apply(vcTriggerContext, arguments);\n      }\n    },\n    onDocumentClick: function onDocumentClick(event) {\n      if (this.$props.mask && !this.$props.maskClosable) {\n        return;\n      }\n\n      var target = event.target;\n      var root = this.getRootDomNode();\n      var popupNode = this.getPopupDomNode();\n\n      if ( // mousedown on the target should also close popup when action is contextMenu.\n      // https://github.com/ant-design/ant-design/issues/29853\n      (!contains(root, target) || this.isContextMenuOnly()) && !contains(popupNode, target) && !this.hasPopupMouseDown) {\n        // https://github.com/vuejs/core/issues/4462\n        // vue 动画bug导致 https://github.com/vueComponent/ant-design-vue/issues/5259，\n        // 改成延时解决\n        this.delaySetPopupVisible(false, 0.1);\n      }\n    },\n    getPopupDomNode: function getPopupDomNode() {\n      var _a; // for test\n\n\n      return ((_a = this.popupRef) === null || _a === void 0 ? void 0 : _a.getElement()) || null;\n    },\n    getRootDomNode: function getRootDomNode() {\n      var getTriggerDOMNode = this.$props.getTriggerDOMNode;\n\n      if (getTriggerDOMNode) {\n        var domNode = findDOMNode(this.triggerRef);\n        return findDOMNode(getTriggerDOMNode(domNode));\n      }\n\n      try {\n        var _domNode = findDOMNode(this.triggerRef);\n\n        if (_domNode) {\n          return _domNode;\n        }\n      } catch (err) {// Do nothing\n      }\n\n      return findDOMNode(this);\n    },\n    handleGetPopupClassFromAlign: function handleGetPopupClassFromAlign(align) {\n      var className = [];\n      var props = this.$props;\n      var popupPlacement = props.popupPlacement,\n          builtinPlacements = props.builtinPlacements,\n          prefixCls = props.prefixCls,\n          alignPoint = props.alignPoint,\n          getPopupClassNameFromAlign = props.getPopupClassNameFromAlign;\n\n      if (popupPlacement && builtinPlacements) {\n        className.push(getAlignPopupClassName(builtinPlacements, prefixCls, align, alignPoint));\n      }\n\n      if (getPopupClassNameFromAlign) {\n        className.push(getPopupClassNameFromAlign(align));\n      }\n\n      return className.join(' ');\n    },\n    getPopupAlign: function getPopupAlign() {\n      var props = this.$props;\n      var popupPlacement = props.popupPlacement,\n          popupAlign = props.popupAlign,\n          builtinPlacements = props.builtinPlacements;\n\n      if (popupPlacement && builtinPlacements) {\n        return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n      }\n\n      return popupAlign;\n    },\n    getComponent: function getComponent() {\n      var _this5 = this;\n\n      var mouseProps = {};\n\n      if (this.isMouseEnterToShow()) {\n        mouseProps.onMouseenter = this.onPopupMouseenter;\n      }\n\n      if (this.isMouseLeaveToHide()) {\n        mouseProps.onMouseleave = this.onPopupMouseleave;\n      }\n\n      mouseProps.onMousedown = this.onPopupMouseDown;\n      mouseProps[supportsPassive ? 'onTouchstartPassive' : 'onTouchstart'] = this.onPopupMouseDown;\n      var handleGetPopupClassFromAlign = this.handleGetPopupClassFromAlign,\n          getRootDomNode = this.getRootDomNode,\n          getContainer = this.getContainer,\n          $attrs = this.$attrs;\n      var _this$$props = this.$props,\n          prefixCls = _this$$props.prefixCls,\n          destroyPopupOnHide = _this$$props.destroyPopupOnHide,\n          popupClassName = _this$$props.popupClassName,\n          popupAnimation = _this$$props.popupAnimation,\n          popupTransitionName = _this$$props.popupTransitionName,\n          popupStyle = _this$$props.popupStyle,\n          mask = _this$$props.mask,\n          maskAnimation = _this$$props.maskAnimation,\n          maskTransitionName = _this$$props.maskTransitionName,\n          zIndex = _this$$props.zIndex,\n          stretch = _this$$props.stretch,\n          alignPoint = _this$$props.alignPoint,\n          mobile = _this$$props.mobile,\n          forceRender = _this$$props.forceRender;\n      var _this$$data = this.$data,\n          sPopupVisible = _this$$data.sPopupVisible,\n          point = _this$$data.point;\n\n      var popupProps = _extends(_extends({\n        prefixCls: prefixCls,\n        destroyPopupOnHide: destroyPopupOnHide,\n        visible: sPopupVisible,\n        point: alignPoint ? point : null,\n        align: this.align,\n        animation: popupAnimation,\n        getClassNameFromAlign: handleGetPopupClassFromAlign,\n        stretch: stretch,\n        getRootDomNode: getRootDomNode,\n        mask: mask,\n        zIndex: zIndex,\n        transitionName: popupTransitionName,\n        maskAnimation: maskAnimation,\n        maskTransitionName: maskTransitionName,\n        getContainer: getContainer,\n        class: popupClassName,\n        style: popupStyle,\n        onAlign: $attrs.onPopupAlign || noop\n      }, mouseProps), {\n        ref: this.setPopupRef,\n        mobile: mobile,\n        forceRender: forceRender\n      });\n\n      return _createVNode(Popup, popupProps, {\n        default: this.$slots.popup || function () {\n          return _getComponent(_this5, 'popup');\n        }\n      });\n    },\n    attachParent: function attachParent(popupContainer) {\n      var _this6 = this;\n\n      raf.cancel(this.attachId);\n      var _this$$props2 = this.$props,\n          getPopupContainer = _this$$props2.getPopupContainer,\n          getDocument = _this$$props2.getDocument;\n      var domNode = this.getRootDomNode();\n      var mountNode;\n\n      if (!getPopupContainer) {\n        mountNode = getDocument(this.getRootDomNode()).body;\n      } else if (domNode || getPopupContainer.length === 0) {\n        // Compatible for legacy getPopupContainer with domNode argument.\n        // If no need `domNode` argument, will call directly.\n        // https://codesandbox.io/s/eloquent-mclean-ss93m?file=/src/App.js\n        mountNode = getPopupContainer(domNode);\n      }\n\n      if (mountNode) {\n        mountNode.appendChild(popupContainer);\n      } else {\n        // Retry after frame render in case parent not ready\n        this.attachId = raf(function () {\n          _this6.attachParent(popupContainer);\n        });\n      }\n    },\n    getContainer: function getContainer() {\n      var props = this.$props;\n      var getDocument = props.getDocument;\n      var popupContainer = getDocument(this.getRootDomNode()).createElement('div'); // Make sure default popup container will never cause scrollbar appearing\n      // https://github.com/react-component/trigger/issues/41\n\n      popupContainer.style.position = 'absolute';\n      popupContainer.style.top = '0';\n      popupContainer.style.left = '0';\n      popupContainer.style.width = '100%';\n      this.attachParent(popupContainer);\n      return popupContainer;\n    },\n    setPopupVisible: function setPopupVisible(sPopupVisible, event) {\n      var alignPoint = this.alignPoint,\n          prevPopupVisible = this.sPopupVisible,\n          onPopupVisibleChange = this.onPopupVisibleChange;\n      this.clearDelayTimer();\n\n      if (prevPopupVisible !== sPopupVisible) {\n        if (!hasProp(this, 'popupVisible')) {\n          this.setState({\n            sPopupVisible: sPopupVisible,\n            prevPopupVisible: prevPopupVisible\n          });\n        }\n\n        onPopupVisibleChange && onPopupVisibleChange(sPopupVisible);\n      } // Always record the point position since mouseEnterDelay will delay the show\n\n\n      if (alignPoint && event && sPopupVisible) {\n        this.setPoint(event);\n      }\n    },\n    setPoint: function setPoint(point) {\n      var alignPoint = this.$props.alignPoint;\n      if (!alignPoint || !point) return;\n      this.setState({\n        point: {\n          pageX: point.pageX,\n          pageY: point.pageY\n        }\n      });\n    },\n    handlePortalUpdate: function handlePortalUpdate() {\n      if (this.prevPopupVisible !== this.sPopupVisible) {\n        this.afterPopupVisibleChange(this.sPopupVisible);\n      }\n    },\n    delaySetPopupVisible: function delaySetPopupVisible(visible, delayS, event) {\n      var _this7 = this;\n\n      var delay = delayS * 1000;\n      this.clearDelayTimer();\n\n      if (delay) {\n        var point = event ? {\n          pageX: event.pageX,\n          pageY: event.pageY\n        } : null;\n        this.delayTimer = requestAnimationTimeout(function () {\n          _this7.setPopupVisible(visible, point);\n\n          _this7.clearDelayTimer();\n        }, delay);\n      } else {\n        this.setPopupVisible(visible, event);\n      }\n    },\n    clearDelayTimer: function clearDelayTimer() {\n      if (this.delayTimer) {\n        cancelAnimationTimeout(this.delayTimer);\n        this.delayTimer = null;\n      }\n    },\n    clearOutsideHandler: function clearOutsideHandler() {\n      if (this.clickOutsideHandler) {\n        this.clickOutsideHandler.remove();\n        this.clickOutsideHandler = null;\n      }\n\n      if (this.contextmenuOutsideHandler1) {\n        this.contextmenuOutsideHandler1.remove();\n        this.contextmenuOutsideHandler1 = null;\n      }\n\n      if (this.contextmenuOutsideHandler2) {\n        this.contextmenuOutsideHandler2.remove();\n        this.contextmenuOutsideHandler2 = null;\n      }\n\n      if (this.touchOutsideHandler) {\n        this.touchOutsideHandler.remove();\n        this.touchOutsideHandler = null;\n      }\n    },\n    createTwoChains: function createTwoChains(event) {\n      var fn = function fn() {};\n\n      var events = getEvents(this);\n\n      if (this.childOriginEvents[event] && events[event]) {\n        return this[\"fire\".concat(event)];\n      }\n\n      fn = this.childOriginEvents[event] || events[event] || fn;\n      return fn;\n    },\n    isClickToShow: function isClickToShow() {\n      var _this$$props3 = this.$props,\n          action = _this$$props3.action,\n          showAction = _this$$props3.showAction;\n      return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n    },\n    isContextMenuOnly: function isContextMenuOnly() {\n      var action = this.$props.action;\n      return action === 'contextmenu' || action.length === 1 && action[0] === 'contextmenu';\n    },\n    isContextmenuToShow: function isContextmenuToShow() {\n      var _this$$props4 = this.$props,\n          action = _this$$props4.action,\n          showAction = _this$$props4.showAction;\n      return action.indexOf('contextmenu') !== -1 || showAction.indexOf('contextmenu') !== -1;\n    },\n    isClickToHide: function isClickToHide() {\n      var _this$$props5 = this.$props,\n          action = _this$$props5.action,\n          hideAction = _this$$props5.hideAction;\n      return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n    },\n    isMouseEnterToShow: function isMouseEnterToShow() {\n      var _this$$props6 = this.$props,\n          action = _this$$props6.action,\n          showAction = _this$$props6.showAction;\n      return action.indexOf('hover') !== -1 || showAction.indexOf('mouseenter') !== -1;\n    },\n    isMouseLeaveToHide: function isMouseLeaveToHide() {\n      var _this$$props7 = this.$props,\n          action = _this$$props7.action,\n          hideAction = _this$$props7.hideAction;\n      return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseleave') !== -1;\n    },\n    isFocusToShow: function isFocusToShow() {\n      var _this$$props8 = this.$props,\n          action = _this$$props8.action,\n          showAction = _this$$props8.showAction;\n      return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n    },\n    isBlurToHide: function isBlurToHide() {\n      var _this$$props9 = this.$props,\n          action = _this$$props9.action,\n          hideAction = _this$$props9.hideAction;\n      return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n    },\n    forcePopupAlign: function forcePopupAlign() {\n      var _a;\n\n      if (this.$data.sPopupVisible) {\n        (_a = this.popupRef) === null || _a === void 0 ? void 0 : _a.forceAlign();\n      }\n    },\n    fireEvents: function fireEvents(type, e) {\n      if (this.childOriginEvents[type]) {\n        this.childOriginEvents[type](e);\n      }\n\n      var event = this.$props[type] || this.$attrs[type];\n\n      if (event) {\n        event(e);\n      }\n    },\n    close: function close() {\n      this.setPopupVisible(false);\n    }\n  },\n  render: function render() {\n    var _this8 = this;\n\n    var $attrs = this.$attrs;\n    var children = filterEmpty(getSlot(this));\n    var alignPoint = this.$props.alignPoint;\n    var child = children[0];\n    this.childOriginEvents = getEvents(child);\n    var newChildProps = {\n      key: 'trigger'\n    };\n\n    if (this.isContextmenuToShow()) {\n      newChildProps.onContextmenu = this.onContextmenu;\n    } else {\n      newChildProps.onContextmenu = this.createTwoChains('onContextmenu');\n    }\n\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.onClick = this.onClick;\n      newChildProps.onMousedown = this.onMousedown;\n      newChildProps[supportsPassive ? 'onTouchstartPassive' : 'onTouchstart'] = this.onTouchstart;\n    } else {\n      newChildProps.onClick = this.createTwoChains('onClick');\n      newChildProps.onMousedown = this.createTwoChains('onMousedown');\n      newChildProps[supportsPassive ? 'onTouchstartPassive' : 'onTouchstart'] = this.createTwoChains('onTouchstart');\n    }\n\n    if (this.isMouseEnterToShow()) {\n      newChildProps.onMouseenter = this.onMouseenter;\n\n      if (alignPoint) {\n        newChildProps.onMousemove = this.onMouseMove;\n      }\n    } else {\n      newChildProps.onMouseenter = this.createTwoChains('onMouseenter');\n    }\n\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.onMouseleave = this.onMouseleave;\n    } else {\n      newChildProps.onMouseleave = this.createTwoChains('onMouseleave');\n    }\n\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.onFocus = this.onFocus;\n      newChildProps.onBlur = this.onBlur;\n    } else {\n      newChildProps.onFocus = this.createTwoChains('onFocus');\n\n      newChildProps.onBlur = function (e) {\n        if (e && (!e.relatedTarget || !contains(e.target, e.relatedTarget))) {\n          _this8.createTwoChains('onBlur')(e);\n        }\n      };\n    }\n\n    var childrenClassName = classNames(child && child.props && child.props.class, $attrs.class);\n\n    if (childrenClassName) {\n      newChildProps.class = childrenClassName;\n    }\n\n    var trigger = cloneElement(child, _extends(_extends({}, newChildProps), {\n      ref: 'triggerRef'\n    }), true, true);\n\n    if (this.popPortal) {\n      return trigger;\n    } else {\n      var portal = _createVNode(Portal, {\n        \"key\": \"portal\",\n        \"getContainer\": this.getContainer,\n        \"didUpdate\": this.handlePortalUpdate\n      }, {\n        default: this.getComponent\n      });\n\n      return _createVNode(_Fragment, null, [portal, trigger]);\n    }\n  }\n});","map":{"version":3,"names":["_extends","Fragment","_Fragment","createVNode","_createVNode","resolveDirective","_resolveDirective","computed","defineComponent","inject","provide","ref","PropTypes","contains","raf","hasProp","getComponent","_getComponent","getEvents","filterEmpty","getSlot","findDOMNode","requestAnimationTimeout","cancelAnimationTimeout","addEventListener","Popup","getAlignFromPlacement","getAlignPopupClassName","BaseMixin","Portal","classNames","cloneElement","supportsPassive","useInjectTrigger","useProvidePortal","noop","returnEmptyString","returnDocument","element","ownerDocument","window","document","ALL_HANDLERS","name","mixins","inheritAttrs","props","action","oneOfType","string","arrayOf","def","showAction","any","hideAction","getPopupClassNameFromAlign","onPopupVisibleChange","Function","afterPopupVisibleChange","func","popup","popupStyle","type","Object","default","undefined","prefixCls","popupClassName","popupPlacement","String","builtinPlacements","object","popupTransitionName","popupAnimation","mouseEnterDelay","number","mouseLeaveDelay","zIndex","Number","focusDelay","blurDelay","getPopupContainer","getDocument","forceRender","Boolean","destroyPopupOnHide","mask","maskClosable","popupAlign","popupVisible","defaultPopupVisible","maskTransitionName","maskAnimation","stretch","alignPoint","autoDestroy","mobile","getTriggerDOMNode","setup","align","_useInjectTrigger","setPortal","popPortal","popupRef","setPopupRef","val","value","vcTriggerContext","triggerRef","focusTime","clickOutsideHandler","contextmenuOutsideHandler1","contextmenuOutsideHandler2","touchOutsideHandler","attachId","delayTimer","hasPopupMouseDown","preClickTime","preTouchTime","mouseDownTimeout","childOriginEvents","data","_this","_a","_b","$props","forEach","h","concat","e","fireEvents","call","getContainer","handlePortalUpdate","prevPopupVisible","sPopupVisible","point","watch","created","onPopupMouseDown","deactivated","setPopupVisible","mounted","_this2","$nextTick","updatedCal","updated","_this3","beforeUnmount","clearDelayTimer","clearOutsideHandler","clearTimeout","cancel","methods","state","$data","currentDocument","isClickToHide","isContextmenuToShow","getRootDomNode","onDocumentClick","passive","onContextmenuClose","onMouseenter","delaySetPopupVisible","onMouseMove","setPoint","onMouseleave","onPopupMouseenter","onPopupMouseleave","relatedTarget","setTimeout","getElement","onFocus","isFocusToShow","Date","now","onMousedown","onTouchstart","onBlur","target","activeElement","isBlurToHide","onContextmenu","preventDefault","close","onClick","event","preTime","Math","min","abs","isClickToShow","domEvent","nextVisible","_this4","_this$vcTriggerContex","apply","arguments","root","popupNode","getPopupDomNode","isContextMenuOnly","domNode","_domNode","err","handleGetPopupClassFromAlign","className","push","join","getPopupAlign","_this5","mouseProps","isMouseEnterToShow","isMouseLeaveToHide","$attrs","_this$$props","_this$$data","popupProps","visible","animation","getClassNameFromAlign","transitionName","class","style","onAlign","onPopupAlign","$slots","attachParent","popupContainer","_this6","_this$$props2","mountNode","body","length","appendChild","createElement","position","top","left","width","setState","pageX","pageY","delayS","_this7","delay","remove","createTwoChains","fn","events","_this$$props3","indexOf","_this$$props4","_this$$props5","_this$$props6","_this$$props7","_this$$props8","_this$$props9","forcePopupAlign","forceAlign","render","_this8","children","child","newChildProps","key","onMousemove","childrenClassName","trigger","portal"],"sources":["/home/ubuntu/voting/vue-web/node_modules/ant-design-vue/es/vc-trigger/Trigger.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { Fragment as _Fragment, createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport { computed, defineComponent, inject, provide, ref } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport contains from '../vc-util/Dom/contains';\nimport raf from '../_util/raf';\nimport { hasProp, getComponent as _getComponent, getEvents, filterEmpty, getSlot, findDOMNode } from '../_util/props-util';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../_util/requestAnimationTimeout';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport Popup from './Popup';\nimport { getAlignFromPlacement, getAlignPopupClassName } from './utils/alignUtil';\nimport BaseMixin from '../_util/BaseMixin';\nimport Portal from '../_util/Portal';\nimport classNames from '../_util/classNames';\nimport { cloneElement } from '../_util/vnode';\nimport supportsPassive from '../_util/supportsPassive';\nimport { useInjectTrigger, useProvidePortal } from './context';\n\nfunction noop() {}\n\nfunction returnEmptyString() {\n  return '';\n}\n\nfunction returnDocument(element) {\n  if (element) {\n    return element.ownerDocument;\n  }\n\n  return window.document;\n}\n\nvar ALL_HANDLERS = ['onClick', 'onMousedown', 'onTouchstart', 'onMouseenter', 'onMouseleave', 'onFocus', 'onBlur', 'onContextmenu'];\nexport default defineComponent({\n  name: 'Trigger',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: {\n    action: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).def([]),\n    showAction: PropTypes.any.def([]),\n    hideAction: PropTypes.any.def([]),\n    getPopupClassNameFromAlign: PropTypes.any.def(returnEmptyString),\n    onPopupVisibleChange: Function,\n    afterPopupVisibleChange: PropTypes.func.def(noop),\n    popup: PropTypes.any,\n    popupStyle: {\n      type: Object,\n      default: undefined\n    },\n    prefixCls: PropTypes.string.def('rc-trigger-popup'),\n    popupClassName: PropTypes.string.def(''),\n    popupPlacement: String,\n    builtinPlacements: PropTypes.object,\n    popupTransitionName: String,\n    popupAnimation: PropTypes.any,\n    mouseEnterDelay: PropTypes.number.def(0),\n    mouseLeaveDelay: PropTypes.number.def(0.1),\n    zIndex: Number,\n    focusDelay: PropTypes.number.def(0),\n    blurDelay: PropTypes.number.def(0.15),\n    getPopupContainer: Function,\n    getDocument: PropTypes.func.def(returnDocument),\n    forceRender: {\n      type: Boolean,\n      default: undefined\n    },\n    destroyPopupOnHide: {\n      type: Boolean,\n      default: false\n    },\n    mask: {\n      type: Boolean,\n      default: false\n    },\n    maskClosable: {\n      type: Boolean,\n      default: true\n    },\n    // onPopupAlign: PropTypes.func.def(noop),\n    popupAlign: PropTypes.object.def(function () {\n      return {};\n    }),\n    popupVisible: {\n      type: Boolean,\n      default: undefined\n    },\n    defaultPopupVisible: {\n      type: Boolean,\n      default: false\n    },\n    maskTransitionName: String,\n    maskAnimation: String,\n    stretch: String,\n    alignPoint: {\n      type: Boolean,\n      default: undefined\n    },\n    autoDestroy: {\n      type: Boolean,\n      default: false\n    },\n    mobile: Object,\n    getTriggerDOMNode: Function\n  },\n  setup: function setup(props) {\n    var align = computed(function () {\n      var popupPlacement = props.popupPlacement,\n          popupAlign = props.popupAlign,\n          builtinPlacements = props.builtinPlacements;\n\n      if (popupPlacement && builtinPlacements) {\n        return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n      }\n\n      return popupAlign;\n    });\n\n    var _useInjectTrigger = useInjectTrigger(),\n        setPortal = _useInjectTrigger.setPortal,\n        popPortal = _useInjectTrigger.popPortal;\n\n    var popupRef = ref(null);\n\n    var setPopupRef = function setPopupRef(val) {\n      popupRef.value = val;\n    };\n\n    return {\n      popPortal: popPortal,\n      setPortal: setPortal,\n      vcTriggerContext: inject('vcTriggerContext', {}),\n      popupRef: popupRef,\n      setPopupRef: setPopupRef,\n      triggerRef: ref(null),\n      align: align,\n      focusTime: null,\n      clickOutsideHandler: null,\n      contextmenuOutsideHandler1: null,\n      contextmenuOutsideHandler2: null,\n      touchOutsideHandler: null,\n      attachId: null,\n      delayTimer: null,\n      hasPopupMouseDown: false,\n      preClickTime: null,\n      preTouchTime: null,\n      mouseDownTimeout: null,\n      childOriginEvents: {}\n    };\n  },\n  data: function data() {\n    var _this = this;\n\n    var _a, _b;\n\n    var props = this.$props;\n    var popupVisible;\n\n    if (this.popupVisible !== undefined) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n\n    ALL_HANDLERS.forEach(function (h) {\n      _this[\"fire\".concat(h)] = function (e) {\n        _this.fireEvents(h, e);\n      };\n    });\n    (_b = (_a = this).setPortal) === null || _b === void 0 ? void 0 : _b.call(_a, _createVNode(Portal, {\n      \"key\": \"portal\",\n      \"getContainer\": this.getContainer,\n      \"didUpdate\": this.handlePortalUpdate\n    }, {\n      default: this.getComponent\n    }));\n    return {\n      prevPopupVisible: popupVisible,\n      sPopupVisible: popupVisible,\n      point: null\n    };\n  },\n  watch: {\n    popupVisible: function popupVisible(val) {\n      if (val !== undefined) {\n        this.prevPopupVisible = this.sPopupVisible;\n        this.sPopupVisible = val;\n      }\n    }\n  },\n  created: function created() {\n    provide('vcTriggerContext', {\n      onPopupMouseDown: this.onPopupMouseDown\n    });\n    useProvidePortal(this);\n  },\n  deactivated: function deactivated() {\n    this.setPopupVisible(false);\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.updatedCal();\n    });\n  },\n  updated: function updated() {\n    var _this3 = this;\n\n    this.$nextTick(function () {\n      _this3.updatedCal();\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    this.clearDelayTimer();\n    this.clearOutsideHandler();\n    clearTimeout(this.mouseDownTimeout);\n    raf.cancel(this.attachId);\n  },\n  methods: {\n    updatedCal: function updatedCal() {\n      var props = this.$props;\n      var state = this.$data; // We must listen to `mousedown` or `touchstart`, edge case:\n      // https://github.com/ant-design/ant-design/issues/5804\n      // https://github.com/react-component/calendar/issues/250\n      // https://github.com/react-component/trigger/issues/50\n\n      if (state.sPopupVisible) {\n        var currentDocument;\n\n        if (!this.clickOutsideHandler && (this.isClickToHide() || this.isContextmenuToShow())) {\n          currentDocument = props.getDocument(this.getRootDomNode());\n          this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n        } // always hide on mobile\n\n\n        if (!this.touchOutsideHandler) {\n          currentDocument = currentDocument || props.getDocument(this.getRootDomNode());\n          this.touchOutsideHandler = addEventListener(currentDocument, 'touchstart', this.onDocumentClick, supportsPassive ? {\n            passive: false\n          } : false);\n        } // close popup when trigger type contains 'onContextmenu' and document is scrolling.\n\n\n        if (!this.contextmenuOutsideHandler1 && this.isContextmenuToShow()) {\n          currentDocument = currentDocument || props.getDocument(this.getRootDomNode());\n          this.contextmenuOutsideHandler1 = addEventListener(currentDocument, 'scroll', this.onContextmenuClose);\n        } // close popup when trigger type contains 'onContextmenu' and window is blur.\n\n\n        if (!this.contextmenuOutsideHandler2 && this.isContextmenuToShow()) {\n          this.contextmenuOutsideHandler2 = addEventListener(window, 'blur', this.onContextmenuClose);\n        }\n      } else {\n        this.clearOutsideHandler();\n      }\n    },\n    onMouseenter: function onMouseenter(e) {\n      var mouseEnterDelay = this.$props.mouseEnterDelay;\n      this.fireEvents('onMouseenter', e);\n      this.delaySetPopupVisible(true, mouseEnterDelay, mouseEnterDelay ? null : e);\n    },\n    onMouseMove: function onMouseMove(e) {\n      this.fireEvents('onMousemove', e);\n      this.setPoint(e);\n    },\n    onMouseleave: function onMouseleave(e) {\n      this.fireEvents('onMouseleave', e);\n      this.delaySetPopupVisible(false, this.$props.mouseLeaveDelay);\n    },\n    onPopupMouseenter: function onPopupMouseenter() {\n      this.clearDelayTimer();\n    },\n    onPopupMouseleave: function onPopupMouseleave(e) {\n      var _a;\n\n      if (e && e.relatedTarget && !e.relatedTarget.setTimeout && contains((_a = this.popupRef) === null || _a === void 0 ? void 0 : _a.getElement(), e.relatedTarget)) {\n        return;\n      }\n\n      this.delaySetPopupVisible(false, this.$props.mouseLeaveDelay);\n    },\n    onFocus: function onFocus(e) {\n      this.fireEvents('onFocus', e); // incase focusin and focusout\n\n      this.clearDelayTimer();\n\n      if (this.isFocusToShow()) {\n        this.focusTime = Date.now();\n        this.delaySetPopupVisible(true, this.$props.focusDelay);\n      }\n    },\n    onMousedown: function onMousedown(e) {\n      this.fireEvents('onMousedown', e);\n      this.preClickTime = Date.now();\n    },\n    onTouchstart: function onTouchstart(e) {\n      this.fireEvents('onTouchstart', e);\n      this.preTouchTime = Date.now();\n    },\n    onBlur: function onBlur(e) {\n      if (!contains(e.target, e.relatedTarget || document.activeElement)) {\n        this.fireEvents('onBlur', e);\n        this.clearDelayTimer();\n\n        if (this.isBlurToHide()) {\n          this.delaySetPopupVisible(false, this.$props.blurDelay);\n        }\n      }\n    },\n    onContextmenu: function onContextmenu(e) {\n      e.preventDefault();\n      this.fireEvents('onContextmenu', e);\n      this.setPopupVisible(true, e);\n    },\n    onContextmenuClose: function onContextmenuClose() {\n      if (this.isContextmenuToShow()) {\n        this.close();\n      }\n    },\n    onClick: function onClick(event) {\n      this.fireEvents('onClick', event); // focus will trigger click\n\n      if (this.focusTime) {\n        var preTime;\n\n        if (this.preClickTime && this.preTouchTime) {\n          preTime = Math.min(this.preClickTime, this.preTouchTime);\n        } else if (this.preClickTime) {\n          preTime = this.preClickTime;\n        } else if (this.preTouchTime) {\n          preTime = this.preTouchTime;\n        }\n\n        if (Math.abs(preTime - this.focusTime) < 20) {\n          return;\n        }\n\n        this.focusTime = 0;\n      }\n\n      this.preClickTime = 0;\n      this.preTouchTime = 0; // Only prevent default when all the action is click.\n      // https://github.com/ant-design/ant-design/issues/17043\n      // https://github.com/ant-design/ant-design/issues/17291\n\n      if (this.isClickToShow() && (this.isClickToHide() || this.isBlurToHide()) && event && event.preventDefault) {\n        event.preventDefault();\n      }\n\n      if (event && event.domEvent) {\n        event.domEvent.preventDefault();\n      }\n\n      var nextVisible = !this.$data.sPopupVisible;\n\n      if (this.isClickToHide() && !nextVisible || nextVisible && this.isClickToShow()) {\n        this.setPopupVisible(!this.$data.sPopupVisible, event);\n      }\n    },\n    onPopupMouseDown: function onPopupMouseDown() {\n      var _this4 = this;\n\n      var _this$vcTriggerContex = this.vcTriggerContext,\n          vcTriggerContext = _this$vcTriggerContex === void 0 ? {} : _this$vcTriggerContex;\n      this.hasPopupMouseDown = true;\n      clearTimeout(this.mouseDownTimeout);\n      this.mouseDownTimeout = setTimeout(function () {\n        _this4.hasPopupMouseDown = false;\n      }, 0);\n\n      if (vcTriggerContext.onPopupMouseDown) {\n        vcTriggerContext.onPopupMouseDown.apply(vcTriggerContext, arguments);\n      }\n    },\n    onDocumentClick: function onDocumentClick(event) {\n      if (this.$props.mask && !this.$props.maskClosable) {\n        return;\n      }\n\n      var target = event.target;\n      var root = this.getRootDomNode();\n      var popupNode = this.getPopupDomNode();\n\n      if ( // mousedown on the target should also close popup when action is contextMenu.\n      // https://github.com/ant-design/ant-design/issues/29853\n      (!contains(root, target) || this.isContextMenuOnly()) && !contains(popupNode, target) && !this.hasPopupMouseDown) {\n        // https://github.com/vuejs/core/issues/4462\n        // vue 动画bug导致 https://github.com/vueComponent/ant-design-vue/issues/5259，\n        // 改成延时解决\n        this.delaySetPopupVisible(false, 0.1);\n      }\n    },\n    getPopupDomNode: function getPopupDomNode() {\n      var _a; // for test\n\n\n      return ((_a = this.popupRef) === null || _a === void 0 ? void 0 : _a.getElement()) || null;\n    },\n    getRootDomNode: function getRootDomNode() {\n      var getTriggerDOMNode = this.$props.getTriggerDOMNode;\n\n      if (getTriggerDOMNode) {\n        var domNode = findDOMNode(this.triggerRef);\n        return findDOMNode(getTriggerDOMNode(domNode));\n      }\n\n      try {\n        var _domNode = findDOMNode(this.triggerRef);\n\n        if (_domNode) {\n          return _domNode;\n        }\n      } catch (err) {// Do nothing\n      }\n\n      return findDOMNode(this);\n    },\n    handleGetPopupClassFromAlign: function handleGetPopupClassFromAlign(align) {\n      var className = [];\n      var props = this.$props;\n      var popupPlacement = props.popupPlacement,\n          builtinPlacements = props.builtinPlacements,\n          prefixCls = props.prefixCls,\n          alignPoint = props.alignPoint,\n          getPopupClassNameFromAlign = props.getPopupClassNameFromAlign;\n\n      if (popupPlacement && builtinPlacements) {\n        className.push(getAlignPopupClassName(builtinPlacements, prefixCls, align, alignPoint));\n      }\n\n      if (getPopupClassNameFromAlign) {\n        className.push(getPopupClassNameFromAlign(align));\n      }\n\n      return className.join(' ');\n    },\n    getPopupAlign: function getPopupAlign() {\n      var props = this.$props;\n      var popupPlacement = props.popupPlacement,\n          popupAlign = props.popupAlign,\n          builtinPlacements = props.builtinPlacements;\n\n      if (popupPlacement && builtinPlacements) {\n        return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n      }\n\n      return popupAlign;\n    },\n    getComponent: function getComponent() {\n      var _this5 = this;\n\n      var mouseProps = {};\n\n      if (this.isMouseEnterToShow()) {\n        mouseProps.onMouseenter = this.onPopupMouseenter;\n      }\n\n      if (this.isMouseLeaveToHide()) {\n        mouseProps.onMouseleave = this.onPopupMouseleave;\n      }\n\n      mouseProps.onMousedown = this.onPopupMouseDown;\n      mouseProps[supportsPassive ? 'onTouchstartPassive' : 'onTouchstart'] = this.onPopupMouseDown;\n      var handleGetPopupClassFromAlign = this.handleGetPopupClassFromAlign,\n          getRootDomNode = this.getRootDomNode,\n          getContainer = this.getContainer,\n          $attrs = this.$attrs;\n      var _this$$props = this.$props,\n          prefixCls = _this$$props.prefixCls,\n          destroyPopupOnHide = _this$$props.destroyPopupOnHide,\n          popupClassName = _this$$props.popupClassName,\n          popupAnimation = _this$$props.popupAnimation,\n          popupTransitionName = _this$$props.popupTransitionName,\n          popupStyle = _this$$props.popupStyle,\n          mask = _this$$props.mask,\n          maskAnimation = _this$$props.maskAnimation,\n          maskTransitionName = _this$$props.maskTransitionName,\n          zIndex = _this$$props.zIndex,\n          stretch = _this$$props.stretch,\n          alignPoint = _this$$props.alignPoint,\n          mobile = _this$$props.mobile,\n          forceRender = _this$$props.forceRender;\n      var _this$$data = this.$data,\n          sPopupVisible = _this$$data.sPopupVisible,\n          point = _this$$data.point;\n\n      var popupProps = _extends(_extends({\n        prefixCls: prefixCls,\n        destroyPopupOnHide: destroyPopupOnHide,\n        visible: sPopupVisible,\n        point: alignPoint ? point : null,\n        align: this.align,\n        animation: popupAnimation,\n        getClassNameFromAlign: handleGetPopupClassFromAlign,\n        stretch: stretch,\n        getRootDomNode: getRootDomNode,\n        mask: mask,\n        zIndex: zIndex,\n        transitionName: popupTransitionName,\n        maskAnimation: maskAnimation,\n        maskTransitionName: maskTransitionName,\n        getContainer: getContainer,\n        class: popupClassName,\n        style: popupStyle,\n        onAlign: $attrs.onPopupAlign || noop\n      }, mouseProps), {\n        ref: this.setPopupRef,\n        mobile: mobile,\n        forceRender: forceRender\n      });\n\n      return _createVNode(Popup, popupProps, {\n        default: this.$slots.popup || function () {\n          return _getComponent(_this5, 'popup');\n        }\n      });\n    },\n    attachParent: function attachParent(popupContainer) {\n      var _this6 = this;\n\n      raf.cancel(this.attachId);\n      var _this$$props2 = this.$props,\n          getPopupContainer = _this$$props2.getPopupContainer,\n          getDocument = _this$$props2.getDocument;\n      var domNode = this.getRootDomNode();\n      var mountNode;\n\n      if (!getPopupContainer) {\n        mountNode = getDocument(this.getRootDomNode()).body;\n      } else if (domNode || getPopupContainer.length === 0) {\n        // Compatible for legacy getPopupContainer with domNode argument.\n        // If no need `domNode` argument, will call directly.\n        // https://codesandbox.io/s/eloquent-mclean-ss93m?file=/src/App.js\n        mountNode = getPopupContainer(domNode);\n      }\n\n      if (mountNode) {\n        mountNode.appendChild(popupContainer);\n      } else {\n        // Retry after frame render in case parent not ready\n        this.attachId = raf(function () {\n          _this6.attachParent(popupContainer);\n        });\n      }\n    },\n    getContainer: function getContainer() {\n      var props = this.$props;\n      var getDocument = props.getDocument;\n      var popupContainer = getDocument(this.getRootDomNode()).createElement('div'); // Make sure default popup container will never cause scrollbar appearing\n      // https://github.com/react-component/trigger/issues/41\n\n      popupContainer.style.position = 'absolute';\n      popupContainer.style.top = '0';\n      popupContainer.style.left = '0';\n      popupContainer.style.width = '100%';\n      this.attachParent(popupContainer);\n      return popupContainer;\n    },\n    setPopupVisible: function setPopupVisible(sPopupVisible, event) {\n      var alignPoint = this.alignPoint,\n          prevPopupVisible = this.sPopupVisible,\n          onPopupVisibleChange = this.onPopupVisibleChange;\n      this.clearDelayTimer();\n\n      if (prevPopupVisible !== sPopupVisible) {\n        if (!hasProp(this, 'popupVisible')) {\n          this.setState({\n            sPopupVisible: sPopupVisible,\n            prevPopupVisible: prevPopupVisible\n          });\n        }\n\n        onPopupVisibleChange && onPopupVisibleChange(sPopupVisible);\n      } // Always record the point position since mouseEnterDelay will delay the show\n\n\n      if (alignPoint && event && sPopupVisible) {\n        this.setPoint(event);\n      }\n    },\n    setPoint: function setPoint(point) {\n      var alignPoint = this.$props.alignPoint;\n      if (!alignPoint || !point) return;\n      this.setState({\n        point: {\n          pageX: point.pageX,\n          pageY: point.pageY\n        }\n      });\n    },\n    handlePortalUpdate: function handlePortalUpdate() {\n      if (this.prevPopupVisible !== this.sPopupVisible) {\n        this.afterPopupVisibleChange(this.sPopupVisible);\n      }\n    },\n    delaySetPopupVisible: function delaySetPopupVisible(visible, delayS, event) {\n      var _this7 = this;\n\n      var delay = delayS * 1000;\n      this.clearDelayTimer();\n\n      if (delay) {\n        var point = event ? {\n          pageX: event.pageX,\n          pageY: event.pageY\n        } : null;\n        this.delayTimer = requestAnimationTimeout(function () {\n          _this7.setPopupVisible(visible, point);\n\n          _this7.clearDelayTimer();\n        }, delay);\n      } else {\n        this.setPopupVisible(visible, event);\n      }\n    },\n    clearDelayTimer: function clearDelayTimer() {\n      if (this.delayTimer) {\n        cancelAnimationTimeout(this.delayTimer);\n        this.delayTimer = null;\n      }\n    },\n    clearOutsideHandler: function clearOutsideHandler() {\n      if (this.clickOutsideHandler) {\n        this.clickOutsideHandler.remove();\n        this.clickOutsideHandler = null;\n      }\n\n      if (this.contextmenuOutsideHandler1) {\n        this.contextmenuOutsideHandler1.remove();\n        this.contextmenuOutsideHandler1 = null;\n      }\n\n      if (this.contextmenuOutsideHandler2) {\n        this.contextmenuOutsideHandler2.remove();\n        this.contextmenuOutsideHandler2 = null;\n      }\n\n      if (this.touchOutsideHandler) {\n        this.touchOutsideHandler.remove();\n        this.touchOutsideHandler = null;\n      }\n    },\n    createTwoChains: function createTwoChains(event) {\n      var fn = function fn() {};\n\n      var events = getEvents(this);\n\n      if (this.childOriginEvents[event] && events[event]) {\n        return this[\"fire\".concat(event)];\n      }\n\n      fn = this.childOriginEvents[event] || events[event] || fn;\n      return fn;\n    },\n    isClickToShow: function isClickToShow() {\n      var _this$$props3 = this.$props,\n          action = _this$$props3.action,\n          showAction = _this$$props3.showAction;\n      return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n    },\n    isContextMenuOnly: function isContextMenuOnly() {\n      var action = this.$props.action;\n      return action === 'contextmenu' || action.length === 1 && action[0] === 'contextmenu';\n    },\n    isContextmenuToShow: function isContextmenuToShow() {\n      var _this$$props4 = this.$props,\n          action = _this$$props4.action,\n          showAction = _this$$props4.showAction;\n      return action.indexOf('contextmenu') !== -1 || showAction.indexOf('contextmenu') !== -1;\n    },\n    isClickToHide: function isClickToHide() {\n      var _this$$props5 = this.$props,\n          action = _this$$props5.action,\n          hideAction = _this$$props5.hideAction;\n      return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n    },\n    isMouseEnterToShow: function isMouseEnterToShow() {\n      var _this$$props6 = this.$props,\n          action = _this$$props6.action,\n          showAction = _this$$props6.showAction;\n      return action.indexOf('hover') !== -1 || showAction.indexOf('mouseenter') !== -1;\n    },\n    isMouseLeaveToHide: function isMouseLeaveToHide() {\n      var _this$$props7 = this.$props,\n          action = _this$$props7.action,\n          hideAction = _this$$props7.hideAction;\n      return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseleave') !== -1;\n    },\n    isFocusToShow: function isFocusToShow() {\n      var _this$$props8 = this.$props,\n          action = _this$$props8.action,\n          showAction = _this$$props8.showAction;\n      return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n    },\n    isBlurToHide: function isBlurToHide() {\n      var _this$$props9 = this.$props,\n          action = _this$$props9.action,\n          hideAction = _this$$props9.hideAction;\n      return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n    },\n    forcePopupAlign: function forcePopupAlign() {\n      var _a;\n\n      if (this.$data.sPopupVisible) {\n        (_a = this.popupRef) === null || _a === void 0 ? void 0 : _a.forceAlign();\n      }\n    },\n    fireEvents: function fireEvents(type, e) {\n      if (this.childOriginEvents[type]) {\n        this.childOriginEvents[type](e);\n      }\n\n      var event = this.$props[type] || this.$attrs[type];\n\n      if (event) {\n        event(e);\n      }\n    },\n    close: function close() {\n      this.setPopupVisible(false);\n    }\n  },\n  render: function render() {\n    var _this8 = this;\n\n    var $attrs = this.$attrs;\n    var children = filterEmpty(getSlot(this));\n    var alignPoint = this.$props.alignPoint;\n    var child = children[0];\n    this.childOriginEvents = getEvents(child);\n    var newChildProps = {\n      key: 'trigger'\n    };\n\n    if (this.isContextmenuToShow()) {\n      newChildProps.onContextmenu = this.onContextmenu;\n    } else {\n      newChildProps.onContextmenu = this.createTwoChains('onContextmenu');\n    }\n\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.onClick = this.onClick;\n      newChildProps.onMousedown = this.onMousedown;\n      newChildProps[supportsPassive ? 'onTouchstartPassive' : 'onTouchstart'] = this.onTouchstart;\n    } else {\n      newChildProps.onClick = this.createTwoChains('onClick');\n      newChildProps.onMousedown = this.createTwoChains('onMousedown');\n      newChildProps[supportsPassive ? 'onTouchstartPassive' : 'onTouchstart'] = this.createTwoChains('onTouchstart');\n    }\n\n    if (this.isMouseEnterToShow()) {\n      newChildProps.onMouseenter = this.onMouseenter;\n\n      if (alignPoint) {\n        newChildProps.onMousemove = this.onMouseMove;\n      }\n    } else {\n      newChildProps.onMouseenter = this.createTwoChains('onMouseenter');\n    }\n\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.onMouseleave = this.onMouseleave;\n    } else {\n      newChildProps.onMouseleave = this.createTwoChains('onMouseleave');\n    }\n\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.onFocus = this.onFocus;\n      newChildProps.onBlur = this.onBlur;\n    } else {\n      newChildProps.onFocus = this.createTwoChains('onFocus');\n\n      newChildProps.onBlur = function (e) {\n        if (e && (!e.relatedTarget || !contains(e.target, e.relatedTarget))) {\n          _this8.createTwoChains('onBlur')(e);\n        }\n      };\n    }\n\n    var childrenClassName = classNames(child && child.props && child.props.class, $attrs.class);\n\n    if (childrenClassName) {\n      newChildProps.class = childrenClassName;\n    }\n\n    var trigger = cloneElement(child, _extends(_extends({}, newChildProps), {\n      ref: 'triggerRef'\n    }), true, true);\n\n    if (this.popPortal) {\n      return trigger;\n    } else {\n      var portal = _createVNode(Portal, {\n        \"key\": \"portal\",\n        \"getContainer\": this.getContainer,\n        \"didUpdate\": this.handlePortalUpdate\n      }, {\n        default: this.getComponent\n      });\n\n      return _createVNode(_Fragment, null, [portal, trigger]);\n    }\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}