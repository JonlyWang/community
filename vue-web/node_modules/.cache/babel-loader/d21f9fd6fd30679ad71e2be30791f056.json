{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport Trigger from '../../vc-trigger';\nimport { computed, defineComponent, onBeforeUnmount, ref, watch } from 'vue';\nimport { useInjectForceRender, useInjectMenu } from './hooks/useMenuContext';\nimport { placements, placementsRtl } from './placements';\nimport raf from '../../_util/raf';\nimport classNames from '../../_util/classNames';\nimport { getTransitionProps } from '../../_util/transition';\nvar popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop'\n};\nexport default defineComponent({\n  name: 'PopupTrigger',\n  inheritAttrs: false,\n  props: {\n    prefixCls: String,\n    mode: String,\n    visible: Boolean,\n    // popup: React.ReactNode;\n    popupClassName: String,\n    popupOffset: Array,\n    disabled: Boolean,\n    onVisibleChange: Function\n  },\n  slots: ['popup'],\n  emits: ['visibleChange'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n        emit = _ref.emit;\n    var innerVisible = ref(false);\n\n    var _useInjectMenu = useInjectMenu(),\n        getPopupContainer = _useInjectMenu.getPopupContainer,\n        rtl = _useInjectMenu.rtl,\n        subMenuOpenDelay = _useInjectMenu.subMenuOpenDelay,\n        subMenuCloseDelay = _useInjectMenu.subMenuCloseDelay,\n        builtinPlacements = _useInjectMenu.builtinPlacements,\n        triggerSubMenuAction = _useInjectMenu.triggerSubMenuAction,\n        isRootMenu = _useInjectMenu.isRootMenu,\n        forceSubMenuRender = _useInjectMenu.forceSubMenuRender,\n        motion = _useInjectMenu.motion,\n        defaultMotions = _useInjectMenu.defaultMotions;\n\n    var forceRender = useInjectForceRender();\n    var placement = computed(function () {\n      return rtl.value ? _extends(_extends({}, placementsRtl), builtinPlacements.value) : _extends(_extends({}, placements), builtinPlacements.value);\n    });\n    var popupPlacement = computed(function () {\n      return popupPlacementMap[props.mode];\n    });\n    var visibleRef = ref();\n    watch(function () {\n      return props.visible;\n    }, function (visible) {\n      raf.cancel(visibleRef.value);\n      visibleRef.value = raf(function () {\n        innerVisible.value = visible;\n      });\n    }, {\n      immediate: true\n    });\n    onBeforeUnmount(function () {\n      raf.cancel(visibleRef.value);\n    });\n\n    var onVisibleChange = function onVisibleChange(visible) {\n      emit('visibleChange', visible);\n    };\n\n    var mergedMotion = computed(function () {\n      var _a, _b;\n\n      var m = motion.value || ((_a = defaultMotions.value) === null || _a === void 0 ? void 0 : _a[props.mode]) || ((_b = defaultMotions.value) === null || _b === void 0 ? void 0 : _b.other);\n      var res = typeof m === 'function' ? m() : m;\n      return res ? getTransitionProps(res.name, {\n        css: true\n      }) : undefined;\n    });\n    return function () {\n      var prefixCls = props.prefixCls,\n          popupClassName = props.popupClassName,\n          mode = props.mode,\n          popupOffset = props.popupOffset,\n          disabled = props.disabled;\n      return _createVNode(Trigger, {\n        \"prefixCls\": prefixCls,\n        \"popupClassName\": classNames(\"\".concat(prefixCls, \"-popup\"), _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), rtl.value), popupClassName),\n        \"stretch\": mode === 'horizontal' ? 'minWidth' : null,\n        \"getPopupContainer\": isRootMenu.value ? getPopupContainer.value : function (triggerNode) {\n          return triggerNode.parentNode;\n        },\n        \"builtinPlacements\": placement.value,\n        \"popupPlacement\": popupPlacement.value,\n        \"popupVisible\": innerVisible.value,\n        \"popupAlign\": popupOffset && {\n          offset: popupOffset\n        },\n        \"action\": disabled ? [] : [triggerSubMenuAction.value],\n        \"mouseEnterDelay\": subMenuOpenDelay.value,\n        \"mouseLeaveDelay\": subMenuCloseDelay.value,\n        \"onPopupVisibleChange\": onVisibleChange,\n        \"forceRender\": forceRender || forceSubMenuRender.value,\n        \"popupAnimation\": mergedMotion.value\n      }, {\n        popup: slots.popup,\n        default: slots.default\n      });\n    };\n  }\n});","map":{"version":3,"names":["_defineProperty","_extends","createVNode","_createVNode","resolveDirective","_resolveDirective","Trigger","computed","defineComponent","onBeforeUnmount","ref","watch","useInjectForceRender","useInjectMenu","placements","placementsRtl","raf","classNames","getTransitionProps","popupPlacementMap","horizontal","vertical","name","inheritAttrs","props","prefixCls","String","mode","visible","Boolean","popupClassName","popupOffset","Array","disabled","onVisibleChange","Function","slots","emits","setup","_ref","emit","innerVisible","_useInjectMenu","getPopupContainer","rtl","subMenuOpenDelay","subMenuCloseDelay","builtinPlacements","triggerSubMenuAction","isRootMenu","forceSubMenuRender","motion","defaultMotions","forceRender","placement","value","popupPlacement","visibleRef","cancel","immediate","mergedMotion","_a","_b","m","other","res","css","undefined","concat","triggerNode","parentNode","offset","popup","default"],"sources":["C:/Users/USTC/Desktop/community1/vue-web/node_modules/ant-design-vue/es/menu/src/PopupTrigger.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport Trigger from '../../vc-trigger';\nimport { computed, defineComponent, onBeforeUnmount, ref, watch } from 'vue';\nimport { useInjectForceRender, useInjectMenu } from './hooks/useMenuContext';\nimport { placements, placementsRtl } from './placements';\nimport raf from '../../_util/raf';\nimport classNames from '../../_util/classNames';\nimport { getTransitionProps } from '../../_util/transition';\nvar popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop'\n};\nexport default defineComponent({\n  name: 'PopupTrigger',\n  inheritAttrs: false,\n  props: {\n    prefixCls: String,\n    mode: String,\n    visible: Boolean,\n    // popup: React.ReactNode;\n    popupClassName: String,\n    popupOffset: Array,\n    disabled: Boolean,\n    onVisibleChange: Function\n  },\n  slots: ['popup'],\n  emits: ['visibleChange'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n        emit = _ref.emit;\n    var innerVisible = ref(false);\n\n    var _useInjectMenu = useInjectMenu(),\n        getPopupContainer = _useInjectMenu.getPopupContainer,\n        rtl = _useInjectMenu.rtl,\n        subMenuOpenDelay = _useInjectMenu.subMenuOpenDelay,\n        subMenuCloseDelay = _useInjectMenu.subMenuCloseDelay,\n        builtinPlacements = _useInjectMenu.builtinPlacements,\n        triggerSubMenuAction = _useInjectMenu.triggerSubMenuAction,\n        isRootMenu = _useInjectMenu.isRootMenu,\n        forceSubMenuRender = _useInjectMenu.forceSubMenuRender,\n        motion = _useInjectMenu.motion,\n        defaultMotions = _useInjectMenu.defaultMotions;\n\n    var forceRender = useInjectForceRender();\n    var placement = computed(function () {\n      return rtl.value ? _extends(_extends({}, placementsRtl), builtinPlacements.value) : _extends(_extends({}, placements), builtinPlacements.value);\n    });\n    var popupPlacement = computed(function () {\n      return popupPlacementMap[props.mode];\n    });\n    var visibleRef = ref();\n    watch(function () {\n      return props.visible;\n    }, function (visible) {\n      raf.cancel(visibleRef.value);\n      visibleRef.value = raf(function () {\n        innerVisible.value = visible;\n      });\n    }, {\n      immediate: true\n    });\n    onBeforeUnmount(function () {\n      raf.cancel(visibleRef.value);\n    });\n\n    var onVisibleChange = function onVisibleChange(visible) {\n      emit('visibleChange', visible);\n    };\n\n    var mergedMotion = computed(function () {\n      var _a, _b;\n\n      var m = motion.value || ((_a = defaultMotions.value) === null || _a === void 0 ? void 0 : _a[props.mode]) || ((_b = defaultMotions.value) === null || _b === void 0 ? void 0 : _b.other);\n      var res = typeof m === 'function' ? m() : m;\n      return res ? getTransitionProps(res.name, {\n        css: true\n      }) : undefined;\n    });\n    return function () {\n      var prefixCls = props.prefixCls,\n          popupClassName = props.popupClassName,\n          mode = props.mode,\n          popupOffset = props.popupOffset,\n          disabled = props.disabled;\n      return _createVNode(Trigger, {\n        \"prefixCls\": prefixCls,\n        \"popupClassName\": classNames(\"\".concat(prefixCls, \"-popup\"), _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), rtl.value), popupClassName),\n        \"stretch\": mode === 'horizontal' ? 'minWidth' : null,\n        \"getPopupContainer\": isRootMenu.value ? getPopupContainer.value : function (triggerNode) {\n          return triggerNode.parentNode;\n        },\n        \"builtinPlacements\": placement.value,\n        \"popupPlacement\": popupPlacement.value,\n        \"popupVisible\": innerVisible.value,\n        \"popupAlign\": popupOffset && {\n          offset: popupOffset\n        },\n        \"action\": disabled ? [] : [triggerSubMenuAction.value],\n        \"mouseEnterDelay\": subMenuOpenDelay.value,\n        \"mouseLeaveDelay\": subMenuCloseDelay.value,\n        \"onPopupVisibleChange\": onVisibleChange,\n        \"forceRender\": forceRender || forceSubMenuRender.value,\n        \"popupAnimation\": mergedMotion.value\n      }, {\n        popup: slots.popup,\n        default: slots.default\n      });\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}