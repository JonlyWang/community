{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { Fragment as _Fragment, resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport warning from '../_util/warning';\nimport TransButton from '../_util/transButton';\nimport raf from '../_util/raf';\nimport { isStyleSupport } from '../_util/styleChecker';\nimport Editable from './Editable';\nimport measure from './util';\nimport Typography from './Typography';\nimport ResizeObserver from '../vc-resize-observer';\nimport Tooltip from '../tooltip';\nimport copy from '../_util/copy-to-clipboard';\nimport CheckOutlined from \"@ant-design/icons-vue/es/icons/CheckOutlined\";\nimport CopyOutlined from \"@ant-design/icons-vue/es/icons/CopyOutlined\";\nimport EditOutlined from \"@ant-design/icons-vue/es/icons/EditOutlined\";\nimport { defineComponent, reactive, ref, onMounted, onBeforeUnmount, watch, watchEffect, nextTick, computed, toRaw } from 'vue';\nimport useConfigInject from '../_util/hooks/useConfigInject';\nimport omit from '../_util/omit';\nimport useMergedState from '../_util/hooks/useMergedState';\nvar isLineClampSupport = isStyleSupport('webkitLineClamp');\nvar isTextOverflowSupport = isStyleSupport('textOverflow');\nvar ELLIPSIS_STR = '...';\nexport var baseProps = function baseProps() {\n  return {\n    editable: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    copyable: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    prefixCls: String,\n    component: String,\n    type: String,\n    disabled: {\n      type: Boolean,\n      default: undefined\n    },\n    ellipsis: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    code: {\n      type: Boolean,\n      default: undefined\n    },\n    mark: {\n      type: Boolean,\n      default: undefined\n    },\n    underline: {\n      type: Boolean,\n      default: undefined\n    },\n    delete: {\n      type: Boolean,\n      default: undefined\n    },\n    strong: {\n      type: Boolean,\n      default: undefined\n    },\n    keyboard: {\n      type: Boolean,\n      default: undefined\n    },\n    content: String,\n    'onUpdate:content': Function\n  };\n};\nvar Base = defineComponent({\n  name: 'Base',\n  inheritAttrs: false,\n  props: baseProps(),\n  // emits: ['update:content'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n        attrs = _ref.attrs,\n        emit = _ref.emit;\n\n    var _useConfigInject = useConfigInject('typography', props),\n        prefixCls = _useConfigInject.prefixCls,\n        direction = _useConfigInject.direction;\n\n    var state = reactive({\n      copied: false,\n      ellipsisText: '',\n      ellipsisContent: null,\n      isEllipsis: false,\n      expanded: false,\n      clientRendered: false,\n      //locale\n      expandStr: '',\n      copyStr: '',\n      copiedStr: '',\n      editStr: '',\n      copyId: undefined,\n      rafId: undefined,\n      prevProps: undefined,\n      originContent: ''\n    });\n    var contentRef = ref();\n    var editIcon = ref();\n    var ellipsis = computed(function () {\n      var ellipsis = props.ellipsis;\n      if (!ellipsis) return {};\n      return _extends({\n        rows: 1,\n        expandable: false\n      }, _typeof(ellipsis) === 'object' ? ellipsis : null);\n    });\n    onMounted(function () {\n      state.clientRendered = true;\n    });\n    onBeforeUnmount(function () {\n      clearTimeout(state.copyId);\n      raf.cancel(state.rafId);\n    });\n    watch([function () {\n      return ellipsis.value.rows;\n    }, function () {\n      return props.content;\n    }], function () {\n      nextTick(function () {\n        resizeOnNextFrame();\n      });\n    }, {\n      flush: 'post',\n      deep: true,\n      immediate: true\n    });\n    watchEffect(function () {\n      if (props.content === undefined) {\n        warning(!props.editable, 'Typography', 'When `editable` is enabled, please use `content` instead of children');\n        warning(!props.ellipsis, 'Typography', 'When `ellipsis` is enabled, please use `content` instead of children');\n      }\n    });\n\n    function getChildrenText() {\n      var _a, _b;\n\n      return props.ellipsis || props.editable ? props.content : (_b = (_a = contentRef.value) === null || _a === void 0 ? void 0 : _a.$el) === null || _b === void 0 ? void 0 : _b.innerText;\n    } // =============== Expand ===============\n\n\n    function onExpandClick(e) {\n      var onExpand = ellipsis.value.onExpand;\n      state.expanded = true;\n      onExpand === null || onExpand === void 0 ? void 0 : onExpand(e);\n    } // ================ Edit ================\n\n\n    function onEditClick(e) {\n      e.preventDefault();\n      state.originContent = props.content;\n      triggerEdit(true);\n    }\n\n    function onEditChange(value) {\n      onContentChange(value);\n      triggerEdit(false);\n    }\n\n    function onContentChange(value) {\n      var onChange = editable.value.onChange;\n\n      if (value !== props.content) {\n        emit('update:content', value);\n        onChange === null || onChange === void 0 ? void 0 : onChange(value);\n      }\n    }\n\n    function onEditCancel() {\n      var _a, _b;\n\n      (_b = (_a = editable.value).onCancel) === null || _b === void 0 ? void 0 : _b.call(_a);\n      triggerEdit(false);\n    } // ================ Copy ================\n\n\n    function onCopyClick(e) {\n      e.preventDefault();\n      var copyable = props.copyable;\n\n      var copyConfig = _extends({}, _typeof(copyable) === 'object' ? copyable : null);\n\n      if (copyConfig.text === undefined) {\n        copyConfig.text = getChildrenText();\n      }\n\n      copy(copyConfig.text || '');\n      state.copied = true;\n      nextTick(function () {\n        if (copyConfig.onCopy) {\n          copyConfig.onCopy();\n        }\n\n        state.copyId = setTimeout(function () {\n          state.copied = false;\n        }, 3000);\n      });\n    }\n\n    var editable = computed(function () {\n      var editable = props.editable;\n      if (!editable) return {\n        editing: false\n      };\n      return _extends({}, _typeof(editable) === 'object' ? editable : null);\n    });\n\n    var _useMergedState = useMergedState(false, {\n      value: computed(function () {\n        return editable.value.editing;\n      })\n    }),\n        _useMergedState2 = _slicedToArray(_useMergedState, 2),\n        editing = _useMergedState2[0],\n        setEditing = _useMergedState2[1];\n\n    function triggerEdit(edit) {\n      var onStart = editable.value.onStart;\n\n      if (edit && onStart) {\n        onStart();\n      }\n\n      setEditing(edit);\n    }\n\n    watch(editing, function (val) {\n      var _a;\n\n      if (!val) {\n        (_a = editIcon.value) === null || _a === void 0 ? void 0 : _a.focus();\n      }\n    }, {\n      flush: 'post'\n    }); // ============== Ellipsis ==============\n\n    function resizeOnNextFrame() {\n      raf.cancel(state.rafId);\n      state.rafId = raf(function () {\n        // Do not bind `syncEllipsis`. It need for test usage on prototype\n        syncEllipsis();\n      });\n    }\n\n    var canUseCSSEllipsis = computed(function () {\n      var _ellipsis$value = ellipsis.value,\n          rows = _ellipsis$value.rows,\n          expandable = _ellipsis$value.expandable,\n          suffix = _ellipsis$value.suffix,\n          onEllipsis = _ellipsis$value.onEllipsis,\n          tooltip = _ellipsis$value.tooltip;\n      if (suffix || tooltip) return false; // Can't use css ellipsis since we need to provide the place for button\n\n      if (props.editable || props.copyable || expandable || onEllipsis) {\n        return false;\n      }\n\n      if (rows === 1) {\n        return isTextOverflowSupport;\n      }\n\n      return isLineClampSupport;\n    });\n\n    var syncEllipsis = function syncEllipsis() {\n      var _a, _b;\n\n      var ellipsisText = state.ellipsisText,\n          isEllipsis = state.isEllipsis;\n      var _ellipsis$value2 = ellipsis.value,\n          rows = _ellipsis$value2.rows,\n          suffix = _ellipsis$value2.suffix,\n          onEllipsis = _ellipsis$value2.onEllipsis;\n      if (!rows || rows < 0 || !((_a = contentRef.value) === null || _a === void 0 ? void 0 : _a.$el) || state.expanded || props.content === undefined) return; // Do not measure if css already support ellipsis\n\n      if (canUseCSSEllipsis.value) return;\n\n      var _measure = measure((_b = contentRef.value) === null || _b === void 0 ? void 0 : _b.$el, {\n        rows: rows,\n        suffix: suffix\n      }, props.content, renderOperations(true), ELLIPSIS_STR),\n          content = _measure.content,\n          text = _measure.text,\n          ell = _measure.ellipsis;\n\n      if (ellipsisText !== text || state.isEllipsis !== ell) {\n        state.ellipsisText = text;\n        state.ellipsisContent = content;\n        state.isEllipsis = ell;\n\n        if (isEllipsis !== ell && onEllipsis) {\n          onEllipsis(ell);\n        }\n      }\n    };\n\n    function wrapperDecorations(_ref2, content) {\n      var mark = _ref2.mark,\n          code = _ref2.code,\n          underline = _ref2.underline,\n          del = _ref2.delete,\n          strong = _ref2.strong,\n          keyboard = _ref2.keyboard;\n      var currentContent = content;\n\n      function wrap(needed, Tag) {\n        if (!needed) return;\n\n        var _currentContent = function () {\n          return currentContent;\n        }();\n\n        currentContent = _createVNode(Tag, null, {\n          default: function _default() {\n            return [_currentContent];\n          }\n        });\n      }\n\n      wrap(strong, 'strong');\n      wrap(underline, 'u');\n      wrap(del, 'del');\n      wrap(code, 'code');\n      wrap(mark, 'mark');\n      wrap(keyboard, 'kbd');\n      return currentContent;\n    }\n\n    function renderExpand(forceRender) {\n      var _ellipsis$value3 = ellipsis.value,\n          expandable = _ellipsis$value3.expandable,\n          symbol = _ellipsis$value3.symbol;\n      if (!expandable) return null; // force render expand icon for measure usage or it will cause dead loop\n\n      if (!forceRender && (state.expanded || !state.isEllipsis)) return null;\n      var expandContent = (slots.ellipsisSymbol ? slots.ellipsisSymbol() : symbol) || state.expandStr;\n      return _createVNode(\"a\", {\n        \"key\": \"expand\",\n        \"class\": \"\".concat(prefixCls.value, \"-expand\"),\n        \"onClick\": onExpandClick,\n        \"aria-label\": state.expandStr\n      }, [expandContent]);\n    }\n\n    function renderEdit() {\n      if (!props.editable) return;\n      var _props$editable = props.editable,\n          tooltip = _props$editable.tooltip,\n          _props$editable$trigg = _props$editable.triggerType,\n          triggerType = _props$editable$trigg === void 0 ? ['icon'] : _props$editable$trigg;\n      var icon = slots.editableIcon ? slots.editableIcon() : _createVNode(EditOutlined, {\n        \"role\": \"button\"\n      }, null);\n      var title = slots.editableTooltip ? slots.editableTooltip() : state.editStr;\n      var ariaLabel = typeof title === 'string' ? title : '';\n      return triggerType.indexOf('icon') !== -1 ? _createVNode(Tooltip, {\n        \"key\": \"edit\",\n        \"title\": tooltip === false ? '' : title\n      }, {\n        default: function _default() {\n          return [_createVNode(TransButton, {\n            \"ref\": editIcon,\n            \"class\": \"\".concat(prefixCls.value, \"-edit\"),\n            \"onClick\": onEditClick,\n            \"aria-label\": ariaLabel\n          }, {\n            default: function _default() {\n              return [icon];\n            }\n          })];\n        }\n      }) : null;\n    }\n\n    function renderCopy() {\n      if (!props.copyable) return;\n      var tooltip = props.copyable.tooltip;\n      var defaultTitle = state.copied ? state.copiedStr : state.copyStr;\n      var title = slots.copyableTooltip ? slots.copyableTooltip({\n        copied: state.copied\n      }) : defaultTitle;\n      var ariaLabel = typeof title === 'string' ? title : '';\n      var defaultIcon = state.copied ? _createVNode(CheckOutlined, null, null) : _createVNode(CopyOutlined, null, null);\n      var icon = slots.copyableIcon ? slots.copyableIcon({\n        copied: !!state.copied\n      }) : defaultIcon;\n      return _createVNode(Tooltip, {\n        \"key\": \"copy\",\n        \"title\": tooltip === false ? '' : title\n      }, {\n        default: function _default() {\n          return [_createVNode(TransButton, {\n            \"class\": [\"\".concat(prefixCls.value, \"-copy\"), _defineProperty({}, \"\".concat(prefixCls.value, \"-copy-success\"), state.copied)],\n            \"onClick\": onCopyClick,\n            \"aria-label\": ariaLabel\n          }, {\n            default: function _default() {\n              return [icon];\n            }\n          })];\n        }\n      });\n    }\n\n    function renderEditInput() {\n      var className = attrs.class,\n          style = attrs.style;\n      var _editable$value = editable.value,\n          maxlength = _editable$value.maxlength,\n          autoSize = _editable$value.autoSize,\n          onEnd = _editable$value.onEnd;\n      return _createVNode(Editable, {\n        \"class\": className,\n        \"style\": style,\n        \"prefixCls\": prefixCls.value,\n        \"value\": props.content,\n        \"originContent\": state.originContent,\n        \"maxlength\": maxlength,\n        \"autoSize\": autoSize,\n        \"onSave\": onEditChange,\n        \"onChange\": onContentChange,\n        \"onCancel\": onEditCancel,\n        \"onEnd\": onEnd,\n        \"direction\": direction.value\n      }, {\n        enterIcon: slots.editableEnterIcon\n      });\n    }\n\n    function renderOperations(forceRenderExpanded) {\n      return [renderExpand(forceRenderExpanded), renderEdit(), renderCopy()].filter(function (node) {\n        return node;\n      });\n    }\n\n    return function () {\n      var _a;\n\n      var _editable$value$trigg = editable.value.triggerType,\n          triggerType = _editable$value$trigg === void 0 ? ['icon'] : _editable$value$trigg;\n\n      var _children = props.ellipsis || props.editable ? props.content !== undefined ? props.content : (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots) : slots.default ? slots.default() : props.content;\n\n      if (editing.value) {\n        return renderEditInput();\n      }\n\n      return _createVNode(LocaleReceiver, {\n        \"componentName\": \"Text\",\n        \"children\": function children(locale) {\n          var _ref4;\n\n          var _a = _extends(_extends({}, props), attrs),\n              type = _a.type,\n              disabled = _a.disabled,\n              content = _a.content,\n              className = _a.class,\n              style = _a.style,\n              restProps = __rest(_a, [\"type\", \"disabled\", \"content\", \"class\", \"style\"]);\n\n          var _ellipsis$value4 = ellipsis.value,\n              rows = _ellipsis$value4.rows,\n              suffix = _ellipsis$value4.suffix,\n              tooltip = _ellipsis$value4.tooltip;\n          var edit = locale.edit,\n              copyStr = locale.copy,\n              copied = locale.copied,\n              expand = locale.expand;\n          state.editStr = edit;\n          state.copyStr = copyStr;\n          state.copiedStr = copied;\n          state.expandStr = expand;\n          var textProps = omit(restProps, ['prefixCls', 'editable', 'copyable', 'ellipsis', 'mark', 'code', 'delete', 'underline', 'strong', 'keyboard', 'onUpdate:content']);\n          var cssEllipsis = canUseCSSEllipsis.value;\n          var cssTextOverflow = rows === 1 && cssEllipsis;\n          var cssLineClamp = rows && rows > 1 && cssEllipsis;\n          var textNode = _children;\n          var ariaLabel; // Only use js ellipsis when css ellipsis not support\n\n          if (rows && state.isEllipsis && !state.expanded && !cssEllipsis) {\n            var _title = restProps.title;\n            var restContent = _title || '';\n\n            if (!_title && (typeof _children === 'string' || typeof _children === 'number')) {\n              restContent = String(_children);\n            } // show rest content as title on symbol\n\n\n            restContent = restContent === null || restContent === void 0 ? void 0 : restContent.slice(String(state.ellipsisContent || '').length); // We move full content to outer element to avoid repeat read the content by accessibility\n\n            textNode = _createVNode(_Fragment, null, [toRaw(state.ellipsisContent), _createVNode(\"span\", {\n              \"title\": restContent,\n              \"aria-hidden\": \"true\"\n            }, [ELLIPSIS_STR]), suffix]);\n          } else {\n            textNode = _createVNode(_Fragment, null, [_children, suffix]);\n          }\n\n          textNode = wrapperDecorations(props, textNode);\n          var showTooltip = tooltip && rows && state.isEllipsis && !state.expanded && !cssEllipsis;\n          var title = slots.ellipsisTooltip ? slots.ellipsisTooltip() : tooltip;\n          return _createVNode(ResizeObserver, {\n            \"onResize\": resizeOnNextFrame,\n            \"disabled\": !rows\n          }, {\n            default: function _default() {\n              return [_createVNode(Typography, _objectSpread({\n                \"ref\": contentRef,\n                \"class\": [(_ref4 = {}, _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-\").concat(type), type), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-disabled\"), disabled), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-ellipsis\"), rows), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-single-line\"), rows === 1 && !state.isEllipsis), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-ellipsis-single-line\"), cssTextOverflow), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-ellipsis-multiple-line\"), cssLineClamp), _ref4), className],\n                \"style\": _extends(_extends({}, style), {\n                  WebkitLineClamp: cssLineClamp ? rows : undefined\n                }),\n                \"aria-label\": ariaLabel,\n                \"direction\": direction.value,\n                \"onClick\": triggerType.indexOf('text') !== -1 ? onEditClick : function () {}\n              }, textProps), {\n                default: function _default() {\n                  return [showTooltip ? _createVNode(Tooltip, {\n                    \"title\": tooltip === true ? _children : title\n                  }, {\n                    default: function _default() {\n                      return [_createVNode(\"span\", null, [textNode])];\n                    }\n                  }) : textNode, renderOperations()];\n                }\n              })];\n            }\n          });\n        }\n      }, null);\n    };\n  }\n});\nexport default Base;","map":{"version":3,"names":["_objectSpread","_defineProperty","_slicedToArray","_typeof","_extends","Fragment","_Fragment","resolveDirective","_resolveDirective","createVNode","_createVNode","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","LocaleReceiver","warning","TransButton","raf","isStyleSupport","Editable","measure","Typography","ResizeObserver","Tooltip","copy","CheckOutlined","CopyOutlined","EditOutlined","defineComponent","reactive","ref","onMounted","onBeforeUnmount","watch","watchEffect","nextTick","computed","toRaw","useConfigInject","omit","useMergedState","isLineClampSupport","isTextOverflowSupport","ELLIPSIS_STR","baseProps","editable","type","Boolean","default","undefined","copyable","prefixCls","String","component","disabled","ellipsis","code","mark","underline","delete","strong","keyboard","content","Function","Base","name","inheritAttrs","props","setup","_ref","slots","attrs","emit","_useConfigInject","direction","state","copied","ellipsisText","ellipsisContent","isEllipsis","expanded","clientRendered","expandStr","copyStr","copiedStr","editStr","copyId","rafId","prevProps","originContent","contentRef","editIcon","rows","expandable","clearTimeout","cancel","value","resizeOnNextFrame","flush","deep","immediate","getChildrenText","_a","_b","$el","innerText","onExpandClick","onExpand","onEditClick","preventDefault","triggerEdit","onEditChange","onContentChange","onChange","onEditCancel","onCancel","onCopyClick","copyConfig","text","onCopy","setTimeout","editing","_useMergedState","_useMergedState2","setEditing","edit","onStart","val","focus","syncEllipsis","canUseCSSEllipsis","_ellipsis$value","suffix","onEllipsis","tooltip","_ellipsis$value2","_measure","renderOperations","ell","wrapperDecorations","_ref2","del","currentContent","wrap","needed","Tag","_currentContent","_default","renderExpand","forceRender","_ellipsis$value3","symbol","expandContent","ellipsisSymbol","concat","renderEdit","_props$editable","_props$editable$trigg","triggerType","icon","editableIcon","title","editableTooltip","ariaLabel","renderCopy","defaultTitle","copyableTooltip","defaultIcon","copyableIcon","renderEditInput","className","class","style","_editable$value","maxlength","autoSize","onEnd","enterIcon","editableEnterIcon","forceRenderExpanded","filter","node","_editable$value$trigg","_children","children","locale","_ref4","restProps","_ellipsis$value4","expand","textProps","cssEllipsis","cssTextOverflow","cssLineClamp","textNode","_title","restContent","slice","showTooltip","ellipsisTooltip","WebkitLineClamp"],"sources":["/home/ubuntu/community/vue-web/node_modules/ant-design-vue/es/typography/Base.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { Fragment as _Fragment, resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport warning from '../_util/warning';\nimport TransButton from '../_util/transButton';\nimport raf from '../_util/raf';\nimport { isStyleSupport } from '../_util/styleChecker';\nimport Editable from './Editable';\nimport measure from './util';\nimport Typography from './Typography';\nimport ResizeObserver from '../vc-resize-observer';\nimport Tooltip from '../tooltip';\nimport copy from '../_util/copy-to-clipboard';\nimport CheckOutlined from \"@ant-design/icons-vue/es/icons/CheckOutlined\";\nimport CopyOutlined from \"@ant-design/icons-vue/es/icons/CopyOutlined\";\nimport EditOutlined from \"@ant-design/icons-vue/es/icons/EditOutlined\";\nimport { defineComponent, reactive, ref, onMounted, onBeforeUnmount, watch, watchEffect, nextTick, computed, toRaw } from 'vue';\nimport useConfigInject from '../_util/hooks/useConfigInject';\nimport omit from '../_util/omit';\nimport useMergedState from '../_util/hooks/useMergedState';\nvar isLineClampSupport = isStyleSupport('webkitLineClamp');\nvar isTextOverflowSupport = isStyleSupport('textOverflow');\nvar ELLIPSIS_STR = '...';\nexport var baseProps = function baseProps() {\n  return {\n    editable: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    copyable: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    prefixCls: String,\n    component: String,\n    type: String,\n    disabled: {\n      type: Boolean,\n      default: undefined\n    },\n    ellipsis: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    code: {\n      type: Boolean,\n      default: undefined\n    },\n    mark: {\n      type: Boolean,\n      default: undefined\n    },\n    underline: {\n      type: Boolean,\n      default: undefined\n    },\n    delete: {\n      type: Boolean,\n      default: undefined\n    },\n    strong: {\n      type: Boolean,\n      default: undefined\n    },\n    keyboard: {\n      type: Boolean,\n      default: undefined\n    },\n    content: String,\n    'onUpdate:content': Function\n  };\n};\nvar Base = defineComponent({\n  name: 'Base',\n  inheritAttrs: false,\n  props: baseProps(),\n  // emits: ['update:content'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n        attrs = _ref.attrs,\n        emit = _ref.emit;\n\n    var _useConfigInject = useConfigInject('typography', props),\n        prefixCls = _useConfigInject.prefixCls,\n        direction = _useConfigInject.direction;\n\n    var state = reactive({\n      copied: false,\n      ellipsisText: '',\n      ellipsisContent: null,\n      isEllipsis: false,\n      expanded: false,\n      clientRendered: false,\n      //locale\n      expandStr: '',\n      copyStr: '',\n      copiedStr: '',\n      editStr: '',\n      copyId: undefined,\n      rafId: undefined,\n      prevProps: undefined,\n      originContent: ''\n    });\n    var contentRef = ref();\n    var editIcon = ref();\n    var ellipsis = computed(function () {\n      var ellipsis = props.ellipsis;\n      if (!ellipsis) return {};\n      return _extends({\n        rows: 1,\n        expandable: false\n      }, _typeof(ellipsis) === 'object' ? ellipsis : null);\n    });\n    onMounted(function () {\n      state.clientRendered = true;\n    });\n    onBeforeUnmount(function () {\n      clearTimeout(state.copyId);\n      raf.cancel(state.rafId);\n    });\n    watch([function () {\n      return ellipsis.value.rows;\n    }, function () {\n      return props.content;\n    }], function () {\n      nextTick(function () {\n        resizeOnNextFrame();\n      });\n    }, {\n      flush: 'post',\n      deep: true,\n      immediate: true\n    });\n    watchEffect(function () {\n      if (props.content === undefined) {\n        warning(!props.editable, 'Typography', 'When `editable` is enabled, please use `content` instead of children');\n        warning(!props.ellipsis, 'Typography', 'When `ellipsis` is enabled, please use `content` instead of children');\n      }\n    });\n\n    function getChildrenText() {\n      var _a, _b;\n\n      return props.ellipsis || props.editable ? props.content : (_b = (_a = contentRef.value) === null || _a === void 0 ? void 0 : _a.$el) === null || _b === void 0 ? void 0 : _b.innerText;\n    } // =============== Expand ===============\n\n\n    function onExpandClick(e) {\n      var onExpand = ellipsis.value.onExpand;\n      state.expanded = true;\n      onExpand === null || onExpand === void 0 ? void 0 : onExpand(e);\n    } // ================ Edit ================\n\n\n    function onEditClick(e) {\n      e.preventDefault();\n      state.originContent = props.content;\n      triggerEdit(true);\n    }\n\n    function onEditChange(value) {\n      onContentChange(value);\n      triggerEdit(false);\n    }\n\n    function onContentChange(value) {\n      var onChange = editable.value.onChange;\n\n      if (value !== props.content) {\n        emit('update:content', value);\n        onChange === null || onChange === void 0 ? void 0 : onChange(value);\n      }\n    }\n\n    function onEditCancel() {\n      var _a, _b;\n\n      (_b = (_a = editable.value).onCancel) === null || _b === void 0 ? void 0 : _b.call(_a);\n      triggerEdit(false);\n    } // ================ Copy ================\n\n\n    function onCopyClick(e) {\n      e.preventDefault();\n      var copyable = props.copyable;\n\n      var copyConfig = _extends({}, _typeof(copyable) === 'object' ? copyable : null);\n\n      if (copyConfig.text === undefined) {\n        copyConfig.text = getChildrenText();\n      }\n\n      copy(copyConfig.text || '');\n      state.copied = true;\n      nextTick(function () {\n        if (copyConfig.onCopy) {\n          copyConfig.onCopy();\n        }\n\n        state.copyId = setTimeout(function () {\n          state.copied = false;\n        }, 3000);\n      });\n    }\n\n    var editable = computed(function () {\n      var editable = props.editable;\n      if (!editable) return {\n        editing: false\n      };\n      return _extends({}, _typeof(editable) === 'object' ? editable : null);\n    });\n\n    var _useMergedState = useMergedState(false, {\n      value: computed(function () {\n        return editable.value.editing;\n      })\n    }),\n        _useMergedState2 = _slicedToArray(_useMergedState, 2),\n        editing = _useMergedState2[0],\n        setEditing = _useMergedState2[1];\n\n    function triggerEdit(edit) {\n      var onStart = editable.value.onStart;\n\n      if (edit && onStart) {\n        onStart();\n      }\n\n      setEditing(edit);\n    }\n\n    watch(editing, function (val) {\n      var _a;\n\n      if (!val) {\n        (_a = editIcon.value) === null || _a === void 0 ? void 0 : _a.focus();\n      }\n    }, {\n      flush: 'post'\n    }); // ============== Ellipsis ==============\n\n    function resizeOnNextFrame() {\n      raf.cancel(state.rafId);\n      state.rafId = raf(function () {\n        // Do not bind `syncEllipsis`. It need for test usage on prototype\n        syncEllipsis();\n      });\n    }\n\n    var canUseCSSEllipsis = computed(function () {\n      var _ellipsis$value = ellipsis.value,\n          rows = _ellipsis$value.rows,\n          expandable = _ellipsis$value.expandable,\n          suffix = _ellipsis$value.suffix,\n          onEllipsis = _ellipsis$value.onEllipsis,\n          tooltip = _ellipsis$value.tooltip;\n      if (suffix || tooltip) return false; // Can't use css ellipsis since we need to provide the place for button\n\n      if (props.editable || props.copyable || expandable || onEllipsis) {\n        return false;\n      }\n\n      if (rows === 1) {\n        return isTextOverflowSupport;\n      }\n\n      return isLineClampSupport;\n    });\n\n    var syncEllipsis = function syncEllipsis() {\n      var _a, _b;\n\n      var ellipsisText = state.ellipsisText,\n          isEllipsis = state.isEllipsis;\n      var _ellipsis$value2 = ellipsis.value,\n          rows = _ellipsis$value2.rows,\n          suffix = _ellipsis$value2.suffix,\n          onEllipsis = _ellipsis$value2.onEllipsis;\n      if (!rows || rows < 0 || !((_a = contentRef.value) === null || _a === void 0 ? void 0 : _a.$el) || state.expanded || props.content === undefined) return; // Do not measure if css already support ellipsis\n\n      if (canUseCSSEllipsis.value) return;\n\n      var _measure = measure((_b = contentRef.value) === null || _b === void 0 ? void 0 : _b.$el, {\n        rows: rows,\n        suffix: suffix\n      }, props.content, renderOperations(true), ELLIPSIS_STR),\n          content = _measure.content,\n          text = _measure.text,\n          ell = _measure.ellipsis;\n\n      if (ellipsisText !== text || state.isEllipsis !== ell) {\n        state.ellipsisText = text;\n        state.ellipsisContent = content;\n        state.isEllipsis = ell;\n\n        if (isEllipsis !== ell && onEllipsis) {\n          onEllipsis(ell);\n        }\n      }\n    };\n\n    function wrapperDecorations(_ref2, content) {\n      var mark = _ref2.mark,\n          code = _ref2.code,\n          underline = _ref2.underline,\n          del = _ref2.delete,\n          strong = _ref2.strong,\n          keyboard = _ref2.keyboard;\n      var currentContent = content;\n\n      function wrap(needed, Tag) {\n        if (!needed) return;\n\n        var _currentContent = function () {\n          return currentContent;\n        }();\n\n        currentContent = _createVNode(Tag, null, {\n          default: function _default() {\n            return [_currentContent];\n          }\n        });\n      }\n\n      wrap(strong, 'strong');\n      wrap(underline, 'u');\n      wrap(del, 'del');\n      wrap(code, 'code');\n      wrap(mark, 'mark');\n      wrap(keyboard, 'kbd');\n      return currentContent;\n    }\n\n    function renderExpand(forceRender) {\n      var _ellipsis$value3 = ellipsis.value,\n          expandable = _ellipsis$value3.expandable,\n          symbol = _ellipsis$value3.symbol;\n      if (!expandable) return null; // force render expand icon for measure usage or it will cause dead loop\n\n      if (!forceRender && (state.expanded || !state.isEllipsis)) return null;\n      var expandContent = (slots.ellipsisSymbol ? slots.ellipsisSymbol() : symbol) || state.expandStr;\n      return _createVNode(\"a\", {\n        \"key\": \"expand\",\n        \"class\": \"\".concat(prefixCls.value, \"-expand\"),\n        \"onClick\": onExpandClick,\n        \"aria-label\": state.expandStr\n      }, [expandContent]);\n    }\n\n    function renderEdit() {\n      if (!props.editable) return;\n      var _props$editable = props.editable,\n          tooltip = _props$editable.tooltip,\n          _props$editable$trigg = _props$editable.triggerType,\n          triggerType = _props$editable$trigg === void 0 ? ['icon'] : _props$editable$trigg;\n      var icon = slots.editableIcon ? slots.editableIcon() : _createVNode(EditOutlined, {\n        \"role\": \"button\"\n      }, null);\n      var title = slots.editableTooltip ? slots.editableTooltip() : state.editStr;\n      var ariaLabel = typeof title === 'string' ? title : '';\n      return triggerType.indexOf('icon') !== -1 ? _createVNode(Tooltip, {\n        \"key\": \"edit\",\n        \"title\": tooltip === false ? '' : title\n      }, {\n        default: function _default() {\n          return [_createVNode(TransButton, {\n            \"ref\": editIcon,\n            \"class\": \"\".concat(prefixCls.value, \"-edit\"),\n            \"onClick\": onEditClick,\n            \"aria-label\": ariaLabel\n          }, {\n            default: function _default() {\n              return [icon];\n            }\n          })];\n        }\n      }) : null;\n    }\n\n    function renderCopy() {\n      if (!props.copyable) return;\n      var tooltip = props.copyable.tooltip;\n      var defaultTitle = state.copied ? state.copiedStr : state.copyStr;\n      var title = slots.copyableTooltip ? slots.copyableTooltip({\n        copied: state.copied\n      }) : defaultTitle;\n      var ariaLabel = typeof title === 'string' ? title : '';\n      var defaultIcon = state.copied ? _createVNode(CheckOutlined, null, null) : _createVNode(CopyOutlined, null, null);\n      var icon = slots.copyableIcon ? slots.copyableIcon({\n        copied: !!state.copied\n      }) : defaultIcon;\n      return _createVNode(Tooltip, {\n        \"key\": \"copy\",\n        \"title\": tooltip === false ? '' : title\n      }, {\n        default: function _default() {\n          return [_createVNode(TransButton, {\n            \"class\": [\"\".concat(prefixCls.value, \"-copy\"), _defineProperty({}, \"\".concat(prefixCls.value, \"-copy-success\"), state.copied)],\n            \"onClick\": onCopyClick,\n            \"aria-label\": ariaLabel\n          }, {\n            default: function _default() {\n              return [icon];\n            }\n          })];\n        }\n      });\n    }\n\n    function renderEditInput() {\n      var className = attrs.class,\n          style = attrs.style;\n      var _editable$value = editable.value,\n          maxlength = _editable$value.maxlength,\n          autoSize = _editable$value.autoSize,\n          onEnd = _editable$value.onEnd;\n      return _createVNode(Editable, {\n        \"class\": className,\n        \"style\": style,\n        \"prefixCls\": prefixCls.value,\n        \"value\": props.content,\n        \"originContent\": state.originContent,\n        \"maxlength\": maxlength,\n        \"autoSize\": autoSize,\n        \"onSave\": onEditChange,\n        \"onChange\": onContentChange,\n        \"onCancel\": onEditCancel,\n        \"onEnd\": onEnd,\n        \"direction\": direction.value\n      }, {\n        enterIcon: slots.editableEnterIcon\n      });\n    }\n\n    function renderOperations(forceRenderExpanded) {\n      return [renderExpand(forceRenderExpanded), renderEdit(), renderCopy()].filter(function (node) {\n        return node;\n      });\n    }\n\n    return function () {\n      var _a;\n\n      var _editable$value$trigg = editable.value.triggerType,\n          triggerType = _editable$value$trigg === void 0 ? ['icon'] : _editable$value$trigg;\n\n      var _children = props.ellipsis || props.editable ? props.content !== undefined ? props.content : (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots) : slots.default ? slots.default() : props.content;\n\n      if (editing.value) {\n        return renderEditInput();\n      }\n\n      return _createVNode(LocaleReceiver, {\n        \"componentName\": \"Text\",\n        \"children\": function children(locale) {\n          var _ref4;\n\n          var _a = _extends(_extends({}, props), attrs),\n              type = _a.type,\n              disabled = _a.disabled,\n              content = _a.content,\n              className = _a.class,\n              style = _a.style,\n              restProps = __rest(_a, [\"type\", \"disabled\", \"content\", \"class\", \"style\"]);\n\n          var _ellipsis$value4 = ellipsis.value,\n              rows = _ellipsis$value4.rows,\n              suffix = _ellipsis$value4.suffix,\n              tooltip = _ellipsis$value4.tooltip;\n          var edit = locale.edit,\n              copyStr = locale.copy,\n              copied = locale.copied,\n              expand = locale.expand;\n          state.editStr = edit;\n          state.copyStr = copyStr;\n          state.copiedStr = copied;\n          state.expandStr = expand;\n          var textProps = omit(restProps, ['prefixCls', 'editable', 'copyable', 'ellipsis', 'mark', 'code', 'delete', 'underline', 'strong', 'keyboard', 'onUpdate:content']);\n          var cssEllipsis = canUseCSSEllipsis.value;\n          var cssTextOverflow = rows === 1 && cssEllipsis;\n          var cssLineClamp = rows && rows > 1 && cssEllipsis;\n          var textNode = _children;\n          var ariaLabel; // Only use js ellipsis when css ellipsis not support\n\n          if (rows && state.isEllipsis && !state.expanded && !cssEllipsis) {\n            var _title = restProps.title;\n            var restContent = _title || '';\n\n            if (!_title && (typeof _children === 'string' || typeof _children === 'number')) {\n              restContent = String(_children);\n            } // show rest content as title on symbol\n\n\n            restContent = restContent === null || restContent === void 0 ? void 0 : restContent.slice(String(state.ellipsisContent || '').length); // We move full content to outer element to avoid repeat read the content by accessibility\n\n            textNode = _createVNode(_Fragment, null, [toRaw(state.ellipsisContent), _createVNode(\"span\", {\n              \"title\": restContent,\n              \"aria-hidden\": \"true\"\n            }, [ELLIPSIS_STR]), suffix]);\n          } else {\n            textNode = _createVNode(_Fragment, null, [_children, suffix]);\n          }\n\n          textNode = wrapperDecorations(props, textNode);\n          var showTooltip = tooltip && rows && state.isEllipsis && !state.expanded && !cssEllipsis;\n          var title = slots.ellipsisTooltip ? slots.ellipsisTooltip() : tooltip;\n          return _createVNode(ResizeObserver, {\n            \"onResize\": resizeOnNextFrame,\n            \"disabled\": !rows\n          }, {\n            default: function _default() {\n              return [_createVNode(Typography, _objectSpread({\n                \"ref\": contentRef,\n                \"class\": [(_ref4 = {}, _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-\").concat(type), type), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-disabled\"), disabled), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-ellipsis\"), rows), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-single-line\"), rows === 1 && !state.isEllipsis), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-ellipsis-single-line\"), cssTextOverflow), _defineProperty(_ref4, \"\".concat(prefixCls.value, \"-ellipsis-multiple-line\"), cssLineClamp), _ref4), className],\n                \"style\": _extends(_extends({}, style), {\n                  WebkitLineClamp: cssLineClamp ? rows : undefined\n                }),\n                \"aria-label\": ariaLabel,\n                \"direction\": direction.value,\n                \"onClick\": triggerType.indexOf('text') !== -1 ? onEditClick : function () {}\n              }, textProps), {\n                default: function _default() {\n                  return [showTooltip ? _createVNode(Tooltip, {\n                    \"title\": tooltip === true ? _children : title\n                  }, {\n                    default: function _default() {\n                      return [_createVNode(\"span\", null, [textNode])];\n                    }\n                  }) : textNode, renderOperations()];\n                }\n              })];\n            }\n          });\n        }\n      }, null);\n    };\n  }\n});\nexport default Base;"],"mappings":"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"},"metadata":{},"sourceType":"module"}