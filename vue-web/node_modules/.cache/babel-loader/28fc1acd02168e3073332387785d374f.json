{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { resolveDirective as _resolveDirective, Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\nimport PickerTrigger from './PickerTrigger';\nimport PickerPanel from './PickerPanel';\nimport usePickerInput from './hooks/usePickerInput';\nimport getDataOrAriaProps, { toArray, getValue, updateValues } from './utils/miscUtil';\nimport { getDefaultFormat, getInputSize, elementsContains } from './utils/uiUtil';\nimport { useProvidePanel } from './PanelContext';\nimport { isEqual, getClosingViewDate, isSameDate, isSameWeek, isSameQuarter, formatValue, parseValue } from './utils/dateUtil';\nimport useValueTexts from './hooks/useValueTexts';\nimport useTextValueMapping from './hooks/useTextValueMapping';\nimport { RangeContextProvider } from './RangeContext';\nimport useRangeDisabled from './hooks/useRangeDisabled';\nimport getExtraFooter from './utils/getExtraFooter';\nimport getRanges from './utils/getRanges';\nimport useRangeViewDates from './hooks/useRangeViewDates';\nimport useHoverValue from './hooks/useHoverValue';\nimport { computed, defineComponent, ref, toRef, watch, watchEffect } from 'vue';\nimport useMergedState from '../_util/hooks/useMergedState';\nimport { warning } from '../vc-util/warning';\nimport useState from '../_util/hooks/useState';\nimport classNames from '../_util/classNames';\nimport { useProviderTrigger } from '../vc-trigger/context';\nimport { legacyPropsWarning } from './utils/warnUtil';\n\nfunction reorderValues(values, generateConfig) {\n  if (values && values[0] && values[1] && generateConfig.isAfter(values[0], values[1])) {\n    return [values[1], values[0]];\n  }\n\n  return values;\n}\n\nfunction canValueTrigger(value, index, disabled, allowEmpty) {\n  if (value) {\n    return true;\n  }\n\n  if (allowEmpty && allowEmpty[index]) {\n    return true;\n  }\n\n  if (disabled[(index + 1) % 2]) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction RangerPicker() {\n  return defineComponent({\n    name: 'RangerPicker',\n    inheritAttrs: false,\n    props: ['prefixCls', 'id', 'popupStyle', 'dropdownClassName', 'transitionName', 'dropdownAlign', 'getPopupContainer', 'generateConfig', 'locale', 'placeholder', 'autofocus', 'disabled', 'format', 'picker', 'showTime', 'showNow', 'showHour', 'showMinute', 'showSecond', 'use12Hours', 'separator', 'value', 'defaultValue', 'defaultPickerValue', 'open', 'defaultOpen', 'disabledDate', 'disabledTime', 'dateRender', 'panelRender', 'ranges', 'allowEmpty', 'allowClear', 'suffixIcon', 'clearIcon', 'pickerRef', 'inputReadOnly', 'mode', 'renderExtraFooter', 'onChange', 'onOpenChange', 'onPanelChange', 'onCalendarChange', 'onFocus', 'onBlur', 'onMousedown', 'onMouseup', 'onMouseenter', 'onMouseleave', 'onClick', 'onOk', 'onKeydown', 'components', 'order', 'direction', 'activePickerIndex', 'autocomplete', 'minuteStep', 'hourStep', 'secondStep', 'hideDisabledOptions', 'disabledMinutes'],\n    setup: function setup(props, _ref) {\n      var attrs = _ref.attrs,\n          expose = _ref.expose;\n      var needConfirmButton = computed(function () {\n        return props.picker === 'date' && !!props.showTime || props.picker === 'time';\n      });\n      var getPortal = useProviderTrigger(); // We record opened status here in case repeat open with picker\n\n      var openRecordsRef = ref({});\n      var containerRef = ref(null);\n      var panelDivRef = ref(null);\n      var startInputDivRef = ref(null);\n      var endInputDivRef = ref(null);\n      var separatorRef = ref(null);\n      var startInputRef = ref(null);\n      var endInputRef = ref(null);\n      var arrowRef = ref(null); // ============================ Warning ============================\n\n      if (process.env.NODE_ENV !== 'production') {\n        legacyPropsWarning(props);\n      } // ============================= Misc ==============================\n\n\n      var formatList = computed(function () {\n        return toArray(getDefaultFormat(props.format, props.picker, props.showTime, props.use12Hours));\n      }); // Active picker\n\n      var _useMergedState = useMergedState(0, {\n        value: toRef(props, 'activePickerIndex')\n      }),\n          _useMergedState2 = _slicedToArray(_useMergedState, 2),\n          mergedActivePickerIndex = _useMergedState2[0],\n          setMergedActivePickerIndex = _useMergedState2[1]; // Operation ref\n\n\n      var operationRef = ref(null);\n      var mergedDisabled = computed(function () {\n        var disabled = props.disabled;\n\n        if (Array.isArray(disabled)) {\n          return disabled;\n        }\n\n        return [disabled || false, disabled || false];\n      }); // ============================= Value =============================\n\n      var _useMergedState3 = useMergedState(null, {\n        value: toRef(props, 'value'),\n        defaultValue: props.defaultValue,\n        postState: function postState(values) {\n          return props.picker === 'time' && !props.order ? values : reorderValues(values, props.generateConfig);\n        }\n      }),\n          _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n          mergedValue = _useMergedState4[0],\n          setInnerValue = _useMergedState4[1]; // =========================== View Date ===========================\n      // Config view panel\n\n\n      var _useRangeViewDates = useRangeViewDates({\n        values: mergedValue,\n        picker: toRef(props, 'picker'),\n        defaultDates: props.defaultPickerValue,\n        generateConfig: toRef(props, 'generateConfig')\n      }),\n          _useRangeViewDates2 = _slicedToArray(_useRangeViewDates, 3),\n          startViewDate = _useRangeViewDates2[0],\n          endViewDate = _useRangeViewDates2[1],\n          setViewDate = _useRangeViewDates2[2]; // ========================= Select Values =========================\n\n\n      var _useMergedState5 = useMergedState(mergedValue.value, {\n        postState: function postState(values) {\n          var postValues = values;\n\n          if (mergedDisabled.value[0] && mergedDisabled.value[1]) {\n            return postValues;\n          } // Fill disabled unit\n\n\n          for (var i = 0; i < 2; i += 1) {\n            if (mergedDisabled[i] && !getValue(postValues, i) && !getValue(props.allowEmpty, i)) {\n              postValues = updateValues(postValues, props.generateConfig.getNow(), i);\n            }\n          }\n\n          return postValues;\n        }\n      }),\n          _useMergedState6 = _slicedToArray(_useMergedState5, 2),\n          selectedValue = _useMergedState6[0],\n          setSelectedValue = _useMergedState6[1]; // ============================= Modes =============================\n\n\n      var _useMergedState7 = useMergedState([props.picker, props.picker], {\n        value: toRef(props, 'mode')\n      }),\n          _useMergedState8 = _slicedToArray(_useMergedState7, 2),\n          mergedModes = _useMergedState8[0],\n          setInnerModes = _useMergedState8[1];\n\n      watch(function () {\n        return props.picker;\n      }, function () {\n        setInnerModes([props.picker, props.picker]);\n      });\n\n      var triggerModesChange = function triggerModesChange(modes, values) {\n        var _a;\n\n        setInnerModes(modes);\n        (_a = props.onPanelChange) === null || _a === void 0 ? void 0 : _a.call(props, values, modes);\n      }; // ========================= Disable Date ==========================\n\n\n      var _useRangeDisabled = useRangeDisabled({\n        picker: toRef(props, 'picker'),\n        selectedValue: selectedValue,\n        locale: toRef(props, 'locale'),\n        disabled: mergedDisabled,\n        disabledDate: toRef(props, 'disabledDate'),\n        generateConfig: toRef(props, 'generateConfig')\n      }, openRecordsRef),\n          _useRangeDisabled2 = _slicedToArray(_useRangeDisabled, 2),\n          disabledStartDate = _useRangeDisabled2[0],\n          disabledEndDate = _useRangeDisabled2[1]; // ============================= Open ==============================\n\n\n      var _useMergedState9 = useMergedState(false, {\n        value: toRef(props, 'open'),\n        defaultValue: props.defaultOpen,\n        postState: function postState(postOpen) {\n          return mergedDisabled.value[mergedActivePickerIndex.value] ? false : postOpen;\n        },\n        onChange: function onChange(newOpen) {\n          var _a;\n\n          (_a = props.onOpenChange) === null || _a === void 0 ? void 0 : _a.call(props, newOpen);\n\n          if (!newOpen && operationRef.value && operationRef.value.onClose) {\n            operationRef.value.onClose();\n          }\n        }\n      }),\n          _useMergedState10 = _slicedToArray(_useMergedState9, 2),\n          mergedOpen = _useMergedState10[0],\n          triggerInnerOpen = _useMergedState10[1];\n\n      var startOpen = computed(function () {\n        return mergedOpen.value && mergedActivePickerIndex.value === 0;\n      });\n      var endOpen = computed(function () {\n        return mergedOpen.value && mergedActivePickerIndex.value === 1;\n      }); // ============================= Popup =============================\n      // Popup min width\n\n      var popupMinWidth = ref(0);\n      watch(mergedOpen, function () {\n        if (!mergedOpen.value && containerRef.value) {\n          popupMinWidth.value = containerRef.value.offsetWidth;\n        }\n      }); // ============================ Trigger ============================\n\n      var triggerRef = ref();\n\n      function _triggerOpen(newOpen, index) {\n        if (newOpen) {\n          clearTimeout(triggerRef.value);\n          openRecordsRef.value[index] = true;\n          setMergedActivePickerIndex(index);\n          triggerInnerOpen(newOpen); // Open to reset view date\n\n          if (!mergedOpen.value) {\n            setViewDate(null, index);\n          }\n        } else if (mergedActivePickerIndex.value === index) {\n          triggerInnerOpen(newOpen); // Clean up async\n          // This makes ref not quick refresh in case user open another input with blur trigger\n\n          var openRecords = openRecordsRef.value;\n          triggerRef.value = setTimeout(function () {\n            if (openRecords === openRecordsRef.value) {\n              openRecordsRef.value = {};\n            }\n          });\n        }\n      }\n\n      function triggerOpenAndFocus(index) {\n        _triggerOpen(true, index); // Use setTimeout to make sure panel DOM exists\n\n\n        setTimeout(function () {\n          var inputRef = [startInputRef, endInputRef][index];\n\n          if (inputRef.value) {\n            inputRef.value.focus();\n          }\n        }, 0);\n      }\n\n      function triggerChange(newValue, sourceIndex) {\n        var values = newValue;\n        var startValue = getValue(values, 0);\n        var endValue = getValue(values, 1);\n        var generateConfig = props.generateConfig,\n            locale = props.locale,\n            picker = props.picker,\n            order = props.order,\n            onCalendarChange = props.onCalendarChange,\n            allowEmpty = props.allowEmpty,\n            onChange = props.onChange,\n            showTime = props.showTime; // >>>>> Format start & end values\n\n        if (startValue && endValue && generateConfig.isAfter(startValue, endValue)) {\n          if ( // WeekPicker only compare week\n          picker === 'week' && !isSameWeek(generateConfig, locale.locale, startValue, endValue) || // QuotaPicker only compare week\n          picker === 'quarter' && !isSameQuarter(generateConfig, startValue, endValue) || // Other non-TimePicker compare date\n          picker !== 'week' && picker !== 'quarter' && picker !== 'time' && !(showTime ? isEqual(generateConfig, startValue, endValue) : isSameDate(generateConfig, startValue, endValue))) {\n            // Clean up end date when start date is after end date\n            if (sourceIndex === 0) {\n              values = [startValue, null];\n              endValue = null;\n            } else {\n              startValue = null;\n              values = [null, endValue];\n            } // Clean up cache since invalidate\n\n\n            openRecordsRef.value = _defineProperty({}, sourceIndex, true);\n          } else if (picker !== 'time' || order !== false) {\n            // Reorder when in same date\n            values = reorderValues(values, generateConfig);\n          }\n        }\n\n        setSelectedValue(values);\n        var startStr = values && values[0] ? formatValue(values[0], {\n          generateConfig: generateConfig,\n          locale: locale,\n          format: formatList.value[0]\n        }) : '';\n        var endStr = values && values[1] ? formatValue(values[1], {\n          generateConfig: generateConfig,\n          locale: locale,\n          format: formatList.value[0]\n        }) : '';\n\n        if (onCalendarChange) {\n          var info = {\n            range: sourceIndex === 0 ? 'start' : 'end'\n          };\n          onCalendarChange(values, [startStr, endStr], info);\n        } // >>>>> Trigger `onChange` event\n\n\n        var canStartValueTrigger = canValueTrigger(startValue, 0, mergedDisabled.value, allowEmpty);\n        var canEndValueTrigger = canValueTrigger(endValue, 1, mergedDisabled.value, allowEmpty);\n        var canTrigger = values === null || canStartValueTrigger && canEndValueTrigger;\n\n        if (canTrigger) {\n          // Trigger onChange only when value is validate\n          setInnerValue(values);\n\n          if (onChange && (!isEqual(generateConfig, getValue(mergedValue.value, 0), startValue) || !isEqual(generateConfig, getValue(mergedValue.value, 1), endValue))) {\n            onChange(values, [startStr, endStr]);\n          }\n        } // >>>>> Open picker when\n        // Always open another picker if possible\n\n\n        var nextOpenIndex = null;\n\n        if (sourceIndex === 0 && !mergedDisabled.value[1]) {\n          nextOpenIndex = 1;\n        } else if (sourceIndex === 1 && !mergedDisabled.value[0]) {\n          nextOpenIndex = 0;\n        }\n\n        if (nextOpenIndex !== null && nextOpenIndex !== mergedActivePickerIndex.value && (!openRecordsRef.value[nextOpenIndex] || !getValue(values, nextOpenIndex)) && getValue(values, sourceIndex)) {\n          // Delay to focus to avoid input blur trigger expired selectedValues\n          triggerOpenAndFocus(nextOpenIndex);\n        } else {\n          _triggerOpen(false, sourceIndex);\n        }\n      }\n\n      var forwardKeydown = function forwardKeydown(e) {\n        if (mergedOpen && operationRef.value && operationRef.value.onKeydown) {\n          // Let popup panel handle keyboard\n          return operationRef.value.onKeydown(e);\n        }\n        /* istanbul ignore next */\n\n        /* eslint-disable no-lone-blocks */\n\n\n        {\n          warning(false, 'Picker not correct forward Keydown operation. Please help to fire issue about this.');\n          return false;\n        }\n      }; // ============================= Text ==============================\n\n\n      var sharedTextHooksProps = {\n        formatList: formatList,\n        generateConfig: toRef(props, 'generateConfig'),\n        locale: toRef(props, 'locale')\n      };\n\n      var _useValueTexts = useValueTexts(computed(function () {\n        return getValue(selectedValue.value, 0);\n      }), sharedTextHooksProps),\n          _useValueTexts2 = _slicedToArray(_useValueTexts, 2),\n          startValueTexts = _useValueTexts2[0],\n          firstStartValueText = _useValueTexts2[1];\n\n      var _useValueTexts3 = useValueTexts(computed(function () {\n        return getValue(selectedValue.value, 1);\n      }), sharedTextHooksProps),\n          _useValueTexts4 = _slicedToArray(_useValueTexts3, 2),\n          endValueTexts = _useValueTexts4[0],\n          firstEndValueText = _useValueTexts4[1];\n\n      var _onTextChange = function onTextChange(newText, index) {\n        var inputDate = parseValue(newText, {\n          locale: props.locale,\n          formatList: formatList.value,\n          generateConfig: props.generateConfig\n        });\n        var disabledFunc = index === 0 ? disabledStartDate : disabledEndDate;\n\n        if (inputDate && !disabledFunc(inputDate)) {\n          setSelectedValue(updateValues(selectedValue.value, inputDate, index));\n          setViewDate(inputDate, index);\n        }\n      };\n\n      var _useTextValueMapping = useTextValueMapping({\n        valueTexts: startValueTexts,\n        onTextChange: function onTextChange(newText) {\n          return _onTextChange(newText, 0);\n        }\n      }),\n          _useTextValueMapping2 = _slicedToArray(_useTextValueMapping, 3),\n          startText = _useTextValueMapping2[0],\n          triggerStartTextChange = _useTextValueMapping2[1],\n          resetStartText = _useTextValueMapping2[2];\n\n      var _useTextValueMapping3 = useTextValueMapping({\n        valueTexts: endValueTexts,\n        onTextChange: function onTextChange(newText) {\n          return _onTextChange(newText, 1);\n        }\n      }),\n          _useTextValueMapping4 = _slicedToArray(_useTextValueMapping3, 3),\n          endText = _useTextValueMapping4[0],\n          triggerEndTextChange = _useTextValueMapping4[1],\n          resetEndText = _useTextValueMapping4[2];\n\n      var _useState = useState(null),\n          _useState2 = _slicedToArray(_useState, 2),\n          rangeHoverValue = _useState2[0],\n          setRangeHoverValue = _useState2[1]; // ========================== Hover Range ==========================\n\n\n      var _useState3 = useState(null),\n          _useState4 = _slicedToArray(_useState3, 2),\n          hoverRangedValue = _useState4[0],\n          setHoverRangedValue = _useState4[1];\n\n      var _useHoverValue = useHoverValue(startText, sharedTextHooksProps),\n          _useHoverValue2 = _slicedToArray(_useHoverValue, 3),\n          startHoverValue = _useHoverValue2[0],\n          onStartEnter = _useHoverValue2[1],\n          onStartLeave = _useHoverValue2[2];\n\n      var _useHoverValue3 = useHoverValue(endText, sharedTextHooksProps),\n          _useHoverValue4 = _slicedToArray(_useHoverValue3, 3),\n          endHoverValue = _useHoverValue4[0],\n          onEndEnter = _useHoverValue4[1],\n          onEndLeave = _useHoverValue4[2];\n\n      var onDateMouseenter = function onDateMouseenter(date) {\n        setHoverRangedValue(updateValues(selectedValue.value, date, mergedActivePickerIndex.value));\n\n        if (mergedActivePickerIndex.value === 0) {\n          onStartEnter(date);\n        } else {\n          onEndEnter(date);\n        }\n      };\n\n      var onDateMouseleave = function onDateMouseleave() {\n        setHoverRangedValue(updateValues(selectedValue.value, null, mergedActivePickerIndex.value));\n\n        if (mergedActivePickerIndex.value === 0) {\n          onStartLeave();\n        } else {\n          onEndLeave();\n        }\n      }; // ============================= Input =============================\n\n\n      var getSharedInputHookProps = function getSharedInputHookProps(index, resetText) {\n        return {\n          forwardKeydown: forwardKeydown,\n          onBlur: function onBlur(e) {\n            var _a;\n\n            (_a = props.onBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);\n          },\n          isClickOutside: function isClickOutside(target) {\n            return !elementsContains([panelDivRef.value, startInputDivRef.value, endInputDivRef.value, containerRef.value], target);\n          },\n          onFocus: function onFocus(e) {\n            var _a;\n\n            setMergedActivePickerIndex(index);\n            (_a = props.onFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);\n          },\n          triggerOpen: function triggerOpen(newOpen) {\n            _triggerOpen(newOpen, index);\n          },\n          onSubmit: function onSubmit() {\n            if ( // When user typing disabledDate with keyboard and enter, this value will be empty\n            !selectedValue.value || // Normal disabled check\n            props.disabledDate && props.disabledDate(selectedValue.value[index])) {\n              return false;\n            }\n\n            triggerChange(selectedValue.value, index);\n            resetText();\n          },\n          onCancel: function onCancel() {\n            _triggerOpen(false, index);\n\n            setSelectedValue(mergedValue.value);\n            resetText();\n          }\n        };\n      };\n\n      var _usePickerInput = usePickerInput(_extends(_extends({}, getSharedInputHookProps(0, resetStartText)), {\n        blurToCancel: needConfirmButton,\n        open: startOpen,\n        value: startText,\n        onKeydown: function onKeydown(e, preventDefault) {\n          var _a;\n\n          (_a = props.onKeydown) === null || _a === void 0 ? void 0 : _a.call(props, e, preventDefault);\n        }\n      })),\n          _usePickerInput2 = _slicedToArray(_usePickerInput, 2),\n          startInputProps = _usePickerInput2[0],\n          _usePickerInput2$ = _usePickerInput2[1],\n          startFocused = _usePickerInput2$.focused,\n          startTyping = _usePickerInput2$.typing;\n\n      var _usePickerInput3 = usePickerInput(_extends(_extends({}, getSharedInputHookProps(1, resetEndText)), {\n        blurToCancel: needConfirmButton,\n        open: endOpen,\n        value: endText,\n        onKeydown: function onKeydown(e, preventDefault) {\n          var _a;\n\n          (_a = props.onKeydown) === null || _a === void 0 ? void 0 : _a.call(props, e, preventDefault);\n        }\n      })),\n          _usePickerInput4 = _slicedToArray(_usePickerInput3, 2),\n          endInputProps = _usePickerInput4[0],\n          _usePickerInput4$ = _usePickerInput4[1],\n          endFocused = _usePickerInput4$.focused,\n          endTyping = _usePickerInput4$.typing; // ========================== Click Picker ==========================\n\n\n      var onPickerClick = function onPickerClick(e) {\n        var _a; // When click inside the picker & outside the picker's input elements\n        // the panel should still be opened\n\n\n        (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n\n        if (!mergedOpen.value && !startInputRef.value.contains(e.target) && !endInputRef.value.contains(e.target)) {\n          if (!mergedDisabled.value[0]) {\n            triggerOpenAndFocus(0);\n          } else if (!mergedDisabled.value[1]) {\n            triggerOpenAndFocus(1);\n          }\n        }\n      };\n\n      var onPickerMousedown = function onPickerMousedown(e) {\n        var _a; // shouldn't affect input elements if picker is active\n\n\n        (_a = props.onMousedown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n\n        if (mergedOpen.value && (startFocused.value || endFocused.value) && !startInputRef.value.contains(e.target) && !endInputRef.value.contains(e.target)) {\n          e.preventDefault();\n        }\n      }; // ============================= Sync ==============================\n      // Close should sync back with text value\n\n\n      var startStr = computed(function () {\n        var _a;\n\n        return ((_a = mergedValue.value) === null || _a === void 0 ? void 0 : _a[0]) ? formatValue(mergedValue.value[0], {\n          locale: props.locale,\n          format: 'YYYYMMDDHHmmss',\n          generateConfig: props.generateConfig\n        }) : '';\n      });\n      var endStr = computed(function () {\n        var _a;\n\n        return ((_a = mergedValue.value) === null || _a === void 0 ? void 0 : _a[1]) ? formatValue(mergedValue.value[1], {\n          locale: props.locale,\n          format: 'YYYYMMDDHHmmss',\n          generateConfig: props.generateConfig\n        }) : '';\n      });\n      watch([mergedOpen, startValueTexts, endValueTexts], function () {\n        if (!mergedOpen.value) {\n          setSelectedValue(mergedValue.value);\n\n          if (!startValueTexts.value.length || startValueTexts.value[0] === '') {\n            triggerStartTextChange('');\n          } else if (firstStartValueText.value !== startText.value) {\n            resetStartText();\n          }\n\n          if (!endValueTexts.value.length || endValueTexts.value[0] === '') {\n            triggerEndTextChange('');\n          } else if (firstEndValueText.value !== endText.value) {\n            resetEndText();\n          }\n        }\n      }); // Sync innerValue with control mode\n\n      watch([startStr, endStr], function () {\n        setSelectedValue(mergedValue.value);\n      }); // ============================ Warning ============================\n\n      if (process.env.NODE_ENV !== 'production') {\n        watchEffect(function () {\n          var value = props.value,\n              disabled = props.disabled;\n\n          if (value && Array.isArray(disabled) && (getValue(disabled, 0) && !getValue(value, 0) || getValue(disabled, 1) && !getValue(value, 1))) {\n            warning(false, '`disabled` should not set with empty `value`. You should set `allowEmpty` or `value` instead.');\n          }\n        });\n      }\n\n      expose({\n        focus: function focus() {\n          if (startInputRef.value) {\n            startInputRef.value.focus();\n          }\n        },\n        blur: function blur() {\n          if (startInputRef.value) {\n            startInputRef.value.blur();\n          }\n\n          if (endInputRef.value) {\n            endInputRef.value.blur();\n          }\n        }\n      }); // ============================ Ranges =============================\n\n      var rangeList = computed(function () {\n        return Object.keys(props.ranges || {}).map(function (label) {\n          var range = props.ranges[label];\n          var newValues = typeof range === 'function' ? range() : range;\n          return {\n            label: label,\n            onClick: function onClick() {\n              triggerChange(newValues, null);\n\n              _triggerOpen(false, mergedActivePickerIndex.value);\n            },\n            onMouseenter: function onMouseenter() {\n              setRangeHoverValue(newValues);\n            },\n            onMouseleave: function onMouseleave() {\n              setRangeHoverValue(null);\n            }\n          };\n        });\n      }); // ============================= Panel =============================\n\n      var panelHoverRangedValue = computed(function () {\n        if (mergedOpen.value && hoverRangedValue.value && hoverRangedValue.value[0] && hoverRangedValue.value[1] && props.generateConfig.isAfter(hoverRangedValue.value[1], hoverRangedValue.value[0])) {\n          return hoverRangedValue.value;\n        } else {\n          return null;\n        }\n      });\n\n      function renderPanel() {\n        var panelPosition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n        var panelProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var generateConfig = props.generateConfig,\n            showTime = props.showTime,\n            dateRender = props.dateRender,\n            direction = props.direction,\n            _disabledTime = props.disabledTime,\n            prefixCls = props.prefixCls,\n            locale = props.locale;\n        var panelShowTime = showTime;\n\n        if (showTime && _typeof(showTime) === 'object' && showTime.defaultValue) {\n          var timeDefaultValues = showTime.defaultValue;\n          panelShowTime = _extends(_extends({}, showTime), {\n            defaultValue: getValue(timeDefaultValues, mergedActivePickerIndex.value) || undefined\n          });\n        }\n\n        var panelDateRender = null;\n\n        if (dateRender) {\n          panelDateRender = function panelDateRender(_ref2) {\n            var date = _ref2.current,\n                today = _ref2.today;\n            return dateRender({\n              current: date,\n              today: today,\n              info: {\n                range: mergedActivePickerIndex.value ? 'end' : 'start'\n              }\n            });\n          };\n        }\n\n        return _createVNode(RangeContextProvider, {\n          \"value\": {\n            inRange: true,\n            panelPosition: panelPosition,\n            rangedValue: rangeHoverValue.value || selectedValue.value,\n            hoverRangedValue: panelHoverRangedValue.value\n          }\n        }, {\n          default: function _default() {\n            return [_createVNode(PickerPanel, _objectSpread(_objectSpread(_objectSpread({}, props), panelProps), {}, {\n              \"dateRender\": panelDateRender,\n              \"showTime\": panelShowTime,\n              \"mode\": mergedModes.value[mergedActivePickerIndex.value],\n              \"generateConfig\": generateConfig,\n              \"style\": undefined,\n              \"direction\": direction,\n              \"disabledDate\": mergedActivePickerIndex.value === 0 ? disabledStartDate : disabledEndDate,\n              \"disabledTime\": function disabledTime(date) {\n                if (_disabledTime) {\n                  return _disabledTime(date, mergedActivePickerIndex.value === 0 ? 'start' : 'end');\n                }\n\n                return false;\n              },\n              \"class\": classNames(_defineProperty({}, \"\".concat(prefixCls, \"-panel-focused\"), mergedActivePickerIndex.value === 0 ? !startTyping.value : !endTyping.value)),\n              \"value\": getValue(selectedValue.value, mergedActivePickerIndex.value),\n              \"locale\": locale,\n              \"tabIndex\": -1,\n              \"onPanelChange\": function onPanelChange(date, newMode) {\n                // clear hover value when panel change\n                if (mergedActivePickerIndex.value === 0) {\n                  onStartLeave(true);\n                }\n\n                if (mergedActivePickerIndex.value === 1) {\n                  onEndLeave(true);\n                }\n\n                triggerModesChange(updateValues(mergedModes.value, newMode, mergedActivePickerIndex.value), updateValues(selectedValue.value, date, mergedActivePickerIndex.value));\n                var viewDate = date;\n\n                if (panelPosition === 'right' && mergedModes.value[mergedActivePickerIndex.value] === newMode) {\n                  viewDate = getClosingViewDate(viewDate, newMode, generateConfig, -1);\n                }\n\n                setViewDate(viewDate, mergedActivePickerIndex.value);\n              },\n              \"onOk\": null,\n              \"onSelect\": undefined,\n              \"onChange\": undefined,\n              \"defaultValue\": mergedActivePickerIndex.value === 0 ? getValue(selectedValue.value, 1) : getValue(selectedValue.value, 0)\n            }), null)];\n          }\n        });\n      }\n\n      var onContextSelect = function onContextSelect(date, type) {\n        var values = updateValues(selectedValue.value, date, mergedActivePickerIndex.value);\n\n        if (type === 'submit' || type !== 'key' && !needConfirmButton.value) {\n          // triggerChange will also update selected values\n          triggerChange(values, mergedActivePickerIndex.value); // clear hover value style\n\n          if (mergedActivePickerIndex.value === 0) {\n            onStartLeave();\n          } else {\n            onEndLeave();\n          }\n        } else {\n          setSelectedValue(values);\n        }\n      };\n\n      useProvidePanel({\n        operationRef: operationRef,\n        hideHeader: computed(function () {\n          return props.picker === 'time';\n        }),\n        onDateMouseenter: onDateMouseenter,\n        onDateMouseleave: onDateMouseleave,\n        hideRanges: computed(function () {\n          return true;\n        }),\n        onSelect: onContextSelect,\n        open: mergedOpen\n      });\n      return function () {\n        var _classNames2, _classNames3, _classNames4;\n\n        var _props$prefixCls = props.prefixCls,\n            prefixCls = _props$prefixCls === void 0 ? 'rc-picker' : _props$prefixCls,\n            id = props.id,\n            popupStyle = props.popupStyle,\n            dropdownClassName = props.dropdownClassName,\n            transitionName = props.transitionName,\n            dropdownAlign = props.dropdownAlign,\n            getPopupContainer = props.getPopupContainer,\n            generateConfig = props.generateConfig,\n            locale = props.locale,\n            placeholder = props.placeholder,\n            autofocus = props.autofocus,\n            _props$picker = props.picker,\n            picker = _props$picker === void 0 ? 'date' : _props$picker,\n            showTime = props.showTime,\n            _props$separator = props.separator,\n            separator = _props$separator === void 0 ? '~' : _props$separator,\n            disabledDate = props.disabledDate,\n            panelRender = props.panelRender,\n            allowClear = props.allowClear,\n            suffixIcon = props.suffixIcon,\n            clearIcon = props.clearIcon,\n            inputReadOnly = props.inputReadOnly,\n            renderExtraFooter = props.renderExtraFooter,\n            onMouseenter = props.onMouseenter,\n            onMouseleave = props.onMouseleave,\n            onMouseup = props.onMouseup,\n            _onOk = props.onOk,\n            components = props.components,\n            direction = props.direction,\n            _props$autocomplete = props.autocomplete,\n            autocomplete = _props$autocomplete === void 0 ? 'off' : _props$autocomplete;\n        var arrowLeft = 0;\n        var panelLeft = 0;\n\n        if (mergedActivePickerIndex.value && startInputDivRef.value && separatorRef.value && panelDivRef.value) {\n          // Arrow offset\n          arrowLeft = startInputDivRef.value.offsetWidth + separatorRef.value.offsetWidth;\n\n          if (panelDivRef.value.offsetWidth && arrowRef.value.offsetWidth && arrowLeft > panelDivRef.value.offsetWidth - arrowRef.value.offsetWidth - (direction === 'rtl' || arrowRef.value.offsetLeft > arrowLeft ? 0 : arrowRef.value.offsetLeft)) {\n            panelLeft = arrowLeft;\n          }\n        }\n\n        var arrowPositionStyle = direction === 'rtl' ? {\n          right: \"\".concat(arrowLeft, \"px\")\n        } : {\n          left: \"\".concat(arrowLeft, \"px\")\n        };\n\n        function renderPanels() {\n          var panels;\n          var extraNode = getExtraFooter(prefixCls, mergedModes.value[mergedActivePickerIndex.value], renderExtraFooter);\n          var rangesNode = getRanges({\n            prefixCls: prefixCls,\n            components: components,\n            needConfirmButton: needConfirmButton.value,\n            okDisabled: !getValue(selectedValue.value, mergedActivePickerIndex.value) || disabledDate && disabledDate(selectedValue.value[mergedActivePickerIndex.value]),\n            locale: locale,\n            rangeList: rangeList.value,\n            onOk: function onOk() {\n              if (getValue(selectedValue.value, mergedActivePickerIndex.value)) {\n                // triggerChangeOld(selectedValue.value);\n                triggerChange(selectedValue.value, mergedActivePickerIndex.value);\n\n                if (_onOk) {\n                  _onOk(selectedValue.value);\n                }\n              }\n            }\n          });\n\n          if (picker !== 'time' && !showTime) {\n            var viewDate = mergedActivePickerIndex.value === 0 ? startViewDate.value : endViewDate.value;\n            var nextViewDate = getClosingViewDate(viewDate, picker, generateConfig);\n            var currentMode = mergedModes.value[mergedActivePickerIndex.value];\n            var showDoublePanel = currentMode === picker;\n            var leftPanel = renderPanel(showDoublePanel ? 'left' : false, {\n              pickerValue: viewDate,\n              onPickerValueChange: function onPickerValueChange(newViewDate) {\n                setViewDate(newViewDate, mergedActivePickerIndex.value);\n              }\n            });\n            var rightPanel = renderPanel('right', {\n              pickerValue: nextViewDate,\n              onPickerValueChange: function onPickerValueChange(newViewDate) {\n                setViewDate(getClosingViewDate(newViewDate, picker, generateConfig, -1), mergedActivePickerIndex.value);\n              }\n            });\n\n            if (direction === 'rtl') {\n              panels = _createVNode(_Fragment, null, [rightPanel, showDoublePanel && leftPanel]);\n            } else {\n              panels = _createVNode(_Fragment, null, [leftPanel, showDoublePanel && rightPanel]);\n            }\n          } else {\n            panels = renderPanel();\n          }\n\n          var mergedNodes = _createVNode(_Fragment, null, [_createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-panels\")\n          }, [panels]), (extraNode || rangesNode) && _createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-footer\")\n          }, [extraNode, rangesNode])]);\n\n          if (panelRender) {\n            mergedNodes = panelRender(mergedNodes);\n          }\n\n          return _createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-panel-container\"),\n            \"style\": {\n              marginLeft: \"\".concat(panelLeft, \"px\")\n            },\n            \"ref\": panelDivRef,\n            \"onMousedown\": function onMousedown(e) {\n              e.preventDefault();\n            }\n          }, [mergedNodes]);\n        }\n\n        var rangePanel = _createVNode(\"div\", {\n          \"class\": classNames(\"\".concat(prefixCls, \"-range-wrapper\"), \"\".concat(prefixCls, \"-\").concat(picker, \"-range-wrapper\")),\n          \"style\": {\n            minWidth: \"\".concat(popupMinWidth.value, \"px\")\n          }\n        }, [_createVNode(\"div\", {\n          \"ref\": arrowRef,\n          \"class\": \"\".concat(prefixCls, \"-range-arrow\"),\n          \"style\": arrowPositionStyle\n        }, null), renderPanels()]); // ============================= Icons =============================\n\n\n        var suffixNode;\n\n        if (suffixIcon) {\n          suffixNode = _createVNode(\"span\", {\n            \"class\": \"\".concat(prefixCls, \"-suffix\")\n          }, [suffixIcon]);\n        }\n\n        var clearNode;\n\n        if (allowClear && (getValue(mergedValue.value, 0) && !mergedDisabled.value[0] || getValue(mergedValue.value, 1) && !mergedDisabled.value[1])) {\n          clearNode = _createVNode(\"span\", {\n            \"onMousedown\": function onMousedown(e) {\n              e.preventDefault();\n              e.stopPropagation();\n            },\n            \"onMouseup\": function onMouseup(e) {\n              e.preventDefault();\n              e.stopPropagation();\n              var values = mergedValue.value;\n\n              if (!mergedDisabled.value[0]) {\n                values = updateValues(values, null, 0);\n              }\n\n              if (!mergedDisabled.value[1]) {\n                values = updateValues(values, null, 1);\n              }\n\n              triggerChange(values, null);\n\n              _triggerOpen(false, mergedActivePickerIndex.value);\n            },\n            \"class\": \"\".concat(prefixCls, \"-clear\")\n          }, [clearIcon || _createVNode(\"span\", {\n            \"class\": \"\".concat(prefixCls, \"-clear-btn\")\n          }, null)]);\n        }\n\n        var inputSharedProps = {\n          size: getInputSize(picker, formatList.value[0], generateConfig)\n        };\n        var activeBarLeft = 0;\n        var activeBarWidth = 0;\n\n        if (startInputDivRef.value && endInputDivRef.value && separatorRef.value) {\n          if (mergedActivePickerIndex.value === 0) {\n            activeBarWidth = startInputDivRef.value.offsetWidth;\n          } else {\n            activeBarLeft = arrowLeft;\n            activeBarWidth = endInputDivRef.value.offsetWidth;\n          }\n        }\n\n        var activeBarPositionStyle = direction === 'rtl' ? {\n          right: \"\".concat(activeBarLeft, \"px\")\n        } : {\n          left: \"\".concat(activeBarLeft, \"px\")\n        }; // ============================ Return =============================\n\n        return _createVNode(PickerTrigger, {\n          \"visible\": mergedOpen.value,\n          \"popupStyle\": popupStyle,\n          \"prefixCls\": prefixCls,\n          \"dropdownClassName\": dropdownClassName,\n          \"dropdownAlign\": dropdownAlign,\n          \"getPopupContainer\": getPopupContainer,\n          \"transitionName\": transitionName,\n          \"range\": true,\n          \"direction\": direction\n        }, {\n          default: function _default() {\n            return [_createVNode(\"div\", _objectSpread({\n              \"ref\": containerRef,\n              \"class\": classNames(prefixCls, \"\".concat(prefixCls, \"-range\"), attrs.class, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), mergedDisabled.value[0] && mergedDisabled.value[1]), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-focused\"), mergedActivePickerIndex.value === 0 ? startFocused.value : endFocused.value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2)),\n              \"style\": attrs.style,\n              \"onClick\": onPickerClick,\n              \"onMouseenter\": onMouseenter,\n              \"onMouseleave\": onMouseleave,\n              \"onMousedown\": onPickerMousedown,\n              \"onMouseup\": onMouseup\n            }, getDataOrAriaProps(props)), [_createVNode(\"div\", {\n              \"class\": classNames(\"\".concat(prefixCls, \"-input\"), (_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-input-active\"), mergedActivePickerIndex.value === 0), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-input-placeholder\"), !!startHoverValue.value), _classNames3)),\n              \"ref\": startInputDivRef\n            }, [_createVNode(\"input\", _objectSpread(_objectSpread(_objectSpread({\n              \"id\": id,\n              \"disabled\": mergedDisabled.value[0],\n              \"readonly\": inputReadOnly || typeof formatList.value[0] === 'function' || !startTyping.value,\n              \"value\": startHoverValue.value || startText.value,\n              \"onInput\": function onInput(e) {\n                triggerStartTextChange(e.target.value);\n              },\n              \"autofocus\": autofocus,\n              \"placeholder\": getValue(placeholder, 0) || '',\n              \"ref\": startInputRef\n            }, startInputProps.value), inputSharedProps), {}, {\n              \"autocomplete\": autocomplete\n            }), null)]), _createVNode(\"div\", {\n              \"class\": \"\".concat(prefixCls, \"-range-separator\"),\n              \"ref\": separatorRef\n            }, [separator]), _createVNode(\"div\", {\n              \"class\": classNames(\"\".concat(prefixCls, \"-input\"), (_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(prefixCls, \"-input-active\"), mergedActivePickerIndex.value === 1), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-input-placeholder\"), !!endHoverValue.value), _classNames4)),\n              \"ref\": endInputDivRef\n            }, [_createVNode(\"input\", _objectSpread(_objectSpread(_objectSpread({\n              \"disabled\": mergedDisabled.value[1],\n              \"readonly\": inputReadOnly || typeof formatList.value[0] === 'function' || !endTyping.value,\n              \"value\": endHoverValue.value || endText.value,\n              \"onInput\": function onInput(e) {\n                triggerEndTextChange(e.target.value);\n              },\n              \"placeholder\": getValue(placeholder, 1) || '',\n              \"ref\": endInputRef\n            }, endInputProps.value), inputSharedProps), {}, {\n              \"autocomplete\": autocomplete\n            }), null)]), _createVNode(\"div\", {\n              \"class\": \"\".concat(prefixCls, \"-active-bar\"),\n              \"style\": _extends(_extends({}, activeBarPositionStyle), {\n                width: \"\".concat(activeBarWidth, \"px\"),\n                position: 'absolute'\n              })\n            }, null), suffixNode, clearNode, getPortal()])];\n          },\n          popupElement: function popupElement() {\n            return rangePanel;\n          }\n        });\n      };\n    }\n  });\n}\n\nvar InterRangerPicker = RangerPicker();\nexport default InterRangerPicker;","map":{"version":3,"names":["_objectSpread","_typeof","_extends","_defineProperty","_slicedToArray","resolveDirective","_resolveDirective","Fragment","_Fragment","createVNode","_createVNode","PickerTrigger","PickerPanel","usePickerInput","getDataOrAriaProps","toArray","getValue","updateValues","getDefaultFormat","getInputSize","elementsContains","useProvidePanel","isEqual","getClosingViewDate","isSameDate","isSameWeek","isSameQuarter","formatValue","parseValue","useValueTexts","useTextValueMapping","RangeContextProvider","useRangeDisabled","getExtraFooter","getRanges","useRangeViewDates","useHoverValue","computed","defineComponent","ref","toRef","watch","watchEffect","useMergedState","warning","useState","classNames","useProviderTrigger","legacyPropsWarning","reorderValues","values","generateConfig","isAfter","canValueTrigger","value","index","disabled","allowEmpty","RangerPicker","name","inheritAttrs","props","setup","_ref","attrs","expose","needConfirmButton","picker","showTime","getPortal","openRecordsRef","containerRef","panelDivRef","startInputDivRef","endInputDivRef","separatorRef","startInputRef","endInputRef","arrowRef","process","env","NODE_ENV","formatList","format","use12Hours","_useMergedState","_useMergedState2","mergedActivePickerIndex","setMergedActivePickerIndex","operationRef","mergedDisabled","Array","isArray","_useMergedState3","defaultValue","postState","order","_useMergedState4","mergedValue","setInnerValue","_useRangeViewDates","defaultDates","defaultPickerValue","_useRangeViewDates2","startViewDate","endViewDate","setViewDate","_useMergedState5","postValues","i","getNow","_useMergedState6","selectedValue","setSelectedValue","_useMergedState7","_useMergedState8","mergedModes","setInnerModes","triggerModesChange","modes","_a","onPanelChange","call","_useRangeDisabled","locale","disabledDate","_useRangeDisabled2","disabledStartDate","disabledEndDate","_useMergedState9","defaultOpen","postOpen","onChange","newOpen","onOpenChange","onClose","_useMergedState10","mergedOpen","triggerInnerOpen","startOpen","endOpen","popupMinWidth","offsetWidth","triggerRef","_triggerOpen","clearTimeout","openRecords","setTimeout","triggerOpenAndFocus","inputRef","focus","triggerChange","newValue","sourceIndex","startValue","endValue","onCalendarChange","startStr","endStr","info","range","canStartValueTrigger","canEndValueTrigger","canTrigger","nextOpenIndex","forwardKeydown","e","onKeydown","sharedTextHooksProps","_useValueTexts","_useValueTexts2","startValueTexts","firstStartValueText","_useValueTexts3","_useValueTexts4","endValueTexts","firstEndValueText","_onTextChange","onTextChange","newText","inputDate","disabledFunc","_useTextValueMapping","valueTexts","_useTextValueMapping2","startText","triggerStartTextChange","resetStartText","_useTextValueMapping3","_useTextValueMapping4","endText","triggerEndTextChange","resetEndText","_useState","_useState2","rangeHoverValue","setRangeHoverValue","_useState3","_useState4","hoverRangedValue","setHoverRangedValue","_useHoverValue","_useHoverValue2","startHoverValue","onStartEnter","onStartLeave","_useHoverValue3","_useHoverValue4","endHoverValue","onEndEnter","onEndLeave","onDateMouseenter","date","onDateMouseleave","getSharedInputHookProps","resetText","onBlur","isClickOutside","target","onFocus","triggerOpen","onSubmit","onCancel","_usePickerInput","blurToCancel","open","preventDefault","_usePickerInput2","startInputProps","_usePickerInput2$","startFocused","focused","startTyping","typing","_usePickerInput3","_usePickerInput4","endInputProps","_usePickerInput4$","endFocused","endTyping","onPickerClick","onClick","contains","onPickerMousedown","onMousedown","length","blur","rangeList","Object","keys","ranges","map","label","newValues","onMouseenter","onMouseleave","panelHoverRangedValue","renderPanel","panelPosition","arguments","undefined","panelProps","dateRender","direction","_disabledTime","disabledTime","prefixCls","panelShowTime","timeDefaultValues","panelDateRender","_ref2","current","today","inRange","rangedValue","default","_default","concat","newMode","viewDate","onContextSelect","type","hideHeader","hideRanges","onSelect","_classNames2","_classNames3","_classNames4","_props$prefixCls","id","popupStyle","dropdownClassName","transitionName","dropdownAlign","getPopupContainer","placeholder","autofocus","_props$picker","_props$separator","separator","panelRender","allowClear","suffixIcon","clearIcon","inputReadOnly","renderExtraFooter","onMouseup","_onOk","onOk","components","_props$autocomplete","autocomplete","arrowLeft","panelLeft","offsetLeft","arrowPositionStyle","right","left","renderPanels","panels","extraNode","rangesNode","okDisabled","nextViewDate","currentMode","showDoublePanel","leftPanel","pickerValue","onPickerValueChange","newViewDate","rightPanel","mergedNodes","marginLeft","rangePanel","minWidth","suffixNode","clearNode","stopPropagation","inputSharedProps","size","activeBarLeft","activeBarWidth","activeBarPositionStyle","class","style","onInput","width","position","popupElement","InterRangerPicker"],"sources":["C:/Users/USTC/Desktop/community1/vue-web/node_modules/ant-design-vue/es/vc-picker/RangePicker.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { resolveDirective as _resolveDirective, Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\nimport PickerTrigger from './PickerTrigger';\nimport PickerPanel from './PickerPanel';\nimport usePickerInput from './hooks/usePickerInput';\nimport getDataOrAriaProps, { toArray, getValue, updateValues } from './utils/miscUtil';\nimport { getDefaultFormat, getInputSize, elementsContains } from './utils/uiUtil';\nimport { useProvidePanel } from './PanelContext';\nimport { isEqual, getClosingViewDate, isSameDate, isSameWeek, isSameQuarter, formatValue, parseValue } from './utils/dateUtil';\nimport useValueTexts from './hooks/useValueTexts';\nimport useTextValueMapping from './hooks/useTextValueMapping';\nimport { RangeContextProvider } from './RangeContext';\nimport useRangeDisabled from './hooks/useRangeDisabled';\nimport getExtraFooter from './utils/getExtraFooter';\nimport getRanges from './utils/getRanges';\nimport useRangeViewDates from './hooks/useRangeViewDates';\nimport useHoverValue from './hooks/useHoverValue';\nimport { computed, defineComponent, ref, toRef, watch, watchEffect } from 'vue';\nimport useMergedState from '../_util/hooks/useMergedState';\nimport { warning } from '../vc-util/warning';\nimport useState from '../_util/hooks/useState';\nimport classNames from '../_util/classNames';\nimport { useProviderTrigger } from '../vc-trigger/context';\nimport { legacyPropsWarning } from './utils/warnUtil';\n\nfunction reorderValues(values, generateConfig) {\n  if (values && values[0] && values[1] && generateConfig.isAfter(values[0], values[1])) {\n    return [values[1], values[0]];\n  }\n\n  return values;\n}\n\nfunction canValueTrigger(value, index, disabled, allowEmpty) {\n  if (value) {\n    return true;\n  }\n\n  if (allowEmpty && allowEmpty[index]) {\n    return true;\n  }\n\n  if (disabled[(index + 1) % 2]) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction RangerPicker() {\n  return defineComponent({\n    name: 'RangerPicker',\n    inheritAttrs: false,\n    props: ['prefixCls', 'id', 'popupStyle', 'dropdownClassName', 'transitionName', 'dropdownAlign', 'getPopupContainer', 'generateConfig', 'locale', 'placeholder', 'autofocus', 'disabled', 'format', 'picker', 'showTime', 'showNow', 'showHour', 'showMinute', 'showSecond', 'use12Hours', 'separator', 'value', 'defaultValue', 'defaultPickerValue', 'open', 'defaultOpen', 'disabledDate', 'disabledTime', 'dateRender', 'panelRender', 'ranges', 'allowEmpty', 'allowClear', 'suffixIcon', 'clearIcon', 'pickerRef', 'inputReadOnly', 'mode', 'renderExtraFooter', 'onChange', 'onOpenChange', 'onPanelChange', 'onCalendarChange', 'onFocus', 'onBlur', 'onMousedown', 'onMouseup', 'onMouseenter', 'onMouseleave', 'onClick', 'onOk', 'onKeydown', 'components', 'order', 'direction', 'activePickerIndex', 'autocomplete', 'minuteStep', 'hourStep', 'secondStep', 'hideDisabledOptions', 'disabledMinutes'],\n    setup: function setup(props, _ref) {\n      var attrs = _ref.attrs,\n          expose = _ref.expose;\n      var needConfirmButton = computed(function () {\n        return props.picker === 'date' && !!props.showTime || props.picker === 'time';\n      });\n      var getPortal = useProviderTrigger(); // We record opened status here in case repeat open with picker\n\n      var openRecordsRef = ref({});\n      var containerRef = ref(null);\n      var panelDivRef = ref(null);\n      var startInputDivRef = ref(null);\n      var endInputDivRef = ref(null);\n      var separatorRef = ref(null);\n      var startInputRef = ref(null);\n      var endInputRef = ref(null);\n      var arrowRef = ref(null); // ============================ Warning ============================\n\n      if (process.env.NODE_ENV !== 'production') {\n        legacyPropsWarning(props);\n      } // ============================= Misc ==============================\n\n\n      var formatList = computed(function () {\n        return toArray(getDefaultFormat(props.format, props.picker, props.showTime, props.use12Hours));\n      }); // Active picker\n\n      var _useMergedState = useMergedState(0, {\n        value: toRef(props, 'activePickerIndex')\n      }),\n          _useMergedState2 = _slicedToArray(_useMergedState, 2),\n          mergedActivePickerIndex = _useMergedState2[0],\n          setMergedActivePickerIndex = _useMergedState2[1]; // Operation ref\n\n\n      var operationRef = ref(null);\n      var mergedDisabled = computed(function () {\n        var disabled = props.disabled;\n\n        if (Array.isArray(disabled)) {\n          return disabled;\n        }\n\n        return [disabled || false, disabled || false];\n      }); // ============================= Value =============================\n\n      var _useMergedState3 = useMergedState(null, {\n        value: toRef(props, 'value'),\n        defaultValue: props.defaultValue,\n        postState: function postState(values) {\n          return props.picker === 'time' && !props.order ? values : reorderValues(values, props.generateConfig);\n        }\n      }),\n          _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n          mergedValue = _useMergedState4[0],\n          setInnerValue = _useMergedState4[1]; // =========================== View Date ===========================\n      // Config view panel\n\n\n      var _useRangeViewDates = useRangeViewDates({\n        values: mergedValue,\n        picker: toRef(props, 'picker'),\n        defaultDates: props.defaultPickerValue,\n        generateConfig: toRef(props, 'generateConfig')\n      }),\n          _useRangeViewDates2 = _slicedToArray(_useRangeViewDates, 3),\n          startViewDate = _useRangeViewDates2[0],\n          endViewDate = _useRangeViewDates2[1],\n          setViewDate = _useRangeViewDates2[2]; // ========================= Select Values =========================\n\n\n      var _useMergedState5 = useMergedState(mergedValue.value, {\n        postState: function postState(values) {\n          var postValues = values;\n\n          if (mergedDisabled.value[0] && mergedDisabled.value[1]) {\n            return postValues;\n          } // Fill disabled unit\n\n\n          for (var i = 0; i < 2; i += 1) {\n            if (mergedDisabled[i] && !getValue(postValues, i) && !getValue(props.allowEmpty, i)) {\n              postValues = updateValues(postValues, props.generateConfig.getNow(), i);\n            }\n          }\n\n          return postValues;\n        }\n      }),\n          _useMergedState6 = _slicedToArray(_useMergedState5, 2),\n          selectedValue = _useMergedState6[0],\n          setSelectedValue = _useMergedState6[1]; // ============================= Modes =============================\n\n\n      var _useMergedState7 = useMergedState([props.picker, props.picker], {\n        value: toRef(props, 'mode')\n      }),\n          _useMergedState8 = _slicedToArray(_useMergedState7, 2),\n          mergedModes = _useMergedState8[0],\n          setInnerModes = _useMergedState8[1];\n\n      watch(function () {\n        return props.picker;\n      }, function () {\n        setInnerModes([props.picker, props.picker]);\n      });\n\n      var triggerModesChange = function triggerModesChange(modes, values) {\n        var _a;\n\n        setInnerModes(modes);\n        (_a = props.onPanelChange) === null || _a === void 0 ? void 0 : _a.call(props, values, modes);\n      }; // ========================= Disable Date ==========================\n\n\n      var _useRangeDisabled = useRangeDisabled({\n        picker: toRef(props, 'picker'),\n        selectedValue: selectedValue,\n        locale: toRef(props, 'locale'),\n        disabled: mergedDisabled,\n        disabledDate: toRef(props, 'disabledDate'),\n        generateConfig: toRef(props, 'generateConfig')\n      }, openRecordsRef),\n          _useRangeDisabled2 = _slicedToArray(_useRangeDisabled, 2),\n          disabledStartDate = _useRangeDisabled2[0],\n          disabledEndDate = _useRangeDisabled2[1]; // ============================= Open ==============================\n\n\n      var _useMergedState9 = useMergedState(false, {\n        value: toRef(props, 'open'),\n        defaultValue: props.defaultOpen,\n        postState: function postState(postOpen) {\n          return mergedDisabled.value[mergedActivePickerIndex.value] ? false : postOpen;\n        },\n        onChange: function onChange(newOpen) {\n          var _a;\n\n          (_a = props.onOpenChange) === null || _a === void 0 ? void 0 : _a.call(props, newOpen);\n\n          if (!newOpen && operationRef.value && operationRef.value.onClose) {\n            operationRef.value.onClose();\n          }\n        }\n      }),\n          _useMergedState10 = _slicedToArray(_useMergedState9, 2),\n          mergedOpen = _useMergedState10[0],\n          triggerInnerOpen = _useMergedState10[1];\n\n      var startOpen = computed(function () {\n        return mergedOpen.value && mergedActivePickerIndex.value === 0;\n      });\n      var endOpen = computed(function () {\n        return mergedOpen.value && mergedActivePickerIndex.value === 1;\n      }); // ============================= Popup =============================\n      // Popup min width\n\n      var popupMinWidth = ref(0);\n      watch(mergedOpen, function () {\n        if (!mergedOpen.value && containerRef.value) {\n          popupMinWidth.value = containerRef.value.offsetWidth;\n        }\n      }); // ============================ Trigger ============================\n\n      var triggerRef = ref();\n\n      function _triggerOpen(newOpen, index) {\n        if (newOpen) {\n          clearTimeout(triggerRef.value);\n          openRecordsRef.value[index] = true;\n          setMergedActivePickerIndex(index);\n          triggerInnerOpen(newOpen); // Open to reset view date\n\n          if (!mergedOpen.value) {\n            setViewDate(null, index);\n          }\n        } else if (mergedActivePickerIndex.value === index) {\n          triggerInnerOpen(newOpen); // Clean up async\n          // This makes ref not quick refresh in case user open another input with blur trigger\n\n          var openRecords = openRecordsRef.value;\n          triggerRef.value = setTimeout(function () {\n            if (openRecords === openRecordsRef.value) {\n              openRecordsRef.value = {};\n            }\n          });\n        }\n      }\n\n      function triggerOpenAndFocus(index) {\n        _triggerOpen(true, index); // Use setTimeout to make sure panel DOM exists\n\n\n        setTimeout(function () {\n          var inputRef = [startInputRef, endInputRef][index];\n\n          if (inputRef.value) {\n            inputRef.value.focus();\n          }\n        }, 0);\n      }\n\n      function triggerChange(newValue, sourceIndex) {\n        var values = newValue;\n        var startValue = getValue(values, 0);\n        var endValue = getValue(values, 1);\n        var generateConfig = props.generateConfig,\n            locale = props.locale,\n            picker = props.picker,\n            order = props.order,\n            onCalendarChange = props.onCalendarChange,\n            allowEmpty = props.allowEmpty,\n            onChange = props.onChange,\n            showTime = props.showTime; // >>>>> Format start & end values\n\n        if (startValue && endValue && generateConfig.isAfter(startValue, endValue)) {\n          if ( // WeekPicker only compare week\n          picker === 'week' && !isSameWeek(generateConfig, locale.locale, startValue, endValue) || // QuotaPicker only compare week\n          picker === 'quarter' && !isSameQuarter(generateConfig, startValue, endValue) || // Other non-TimePicker compare date\n          picker !== 'week' && picker !== 'quarter' && picker !== 'time' && !(showTime ? isEqual(generateConfig, startValue, endValue) : isSameDate(generateConfig, startValue, endValue))) {\n            // Clean up end date when start date is after end date\n            if (sourceIndex === 0) {\n              values = [startValue, null];\n              endValue = null;\n            } else {\n              startValue = null;\n              values = [null, endValue];\n            } // Clean up cache since invalidate\n\n\n            openRecordsRef.value = _defineProperty({}, sourceIndex, true);\n          } else if (picker !== 'time' || order !== false) {\n            // Reorder when in same date\n            values = reorderValues(values, generateConfig);\n          }\n        }\n\n        setSelectedValue(values);\n        var startStr = values && values[0] ? formatValue(values[0], {\n          generateConfig: generateConfig,\n          locale: locale,\n          format: formatList.value[0]\n        }) : '';\n        var endStr = values && values[1] ? formatValue(values[1], {\n          generateConfig: generateConfig,\n          locale: locale,\n          format: formatList.value[0]\n        }) : '';\n\n        if (onCalendarChange) {\n          var info = {\n            range: sourceIndex === 0 ? 'start' : 'end'\n          };\n          onCalendarChange(values, [startStr, endStr], info);\n        } // >>>>> Trigger `onChange` event\n\n\n        var canStartValueTrigger = canValueTrigger(startValue, 0, mergedDisabled.value, allowEmpty);\n        var canEndValueTrigger = canValueTrigger(endValue, 1, mergedDisabled.value, allowEmpty);\n        var canTrigger = values === null || canStartValueTrigger && canEndValueTrigger;\n\n        if (canTrigger) {\n          // Trigger onChange only when value is validate\n          setInnerValue(values);\n\n          if (onChange && (!isEqual(generateConfig, getValue(mergedValue.value, 0), startValue) || !isEqual(generateConfig, getValue(mergedValue.value, 1), endValue))) {\n            onChange(values, [startStr, endStr]);\n          }\n        } // >>>>> Open picker when\n        // Always open another picker if possible\n\n\n        var nextOpenIndex = null;\n\n        if (sourceIndex === 0 && !mergedDisabled.value[1]) {\n          nextOpenIndex = 1;\n        } else if (sourceIndex === 1 && !mergedDisabled.value[0]) {\n          nextOpenIndex = 0;\n        }\n\n        if (nextOpenIndex !== null && nextOpenIndex !== mergedActivePickerIndex.value && (!openRecordsRef.value[nextOpenIndex] || !getValue(values, nextOpenIndex)) && getValue(values, sourceIndex)) {\n          // Delay to focus to avoid input blur trigger expired selectedValues\n          triggerOpenAndFocus(nextOpenIndex);\n        } else {\n          _triggerOpen(false, sourceIndex);\n        }\n      }\n\n      var forwardKeydown = function forwardKeydown(e) {\n        if (mergedOpen && operationRef.value && operationRef.value.onKeydown) {\n          // Let popup panel handle keyboard\n          return operationRef.value.onKeydown(e);\n        }\n        /* istanbul ignore next */\n\n        /* eslint-disable no-lone-blocks */\n\n\n        {\n          warning(false, 'Picker not correct forward Keydown operation. Please help to fire issue about this.');\n          return false;\n        }\n      }; // ============================= Text ==============================\n\n\n      var sharedTextHooksProps = {\n        formatList: formatList,\n        generateConfig: toRef(props, 'generateConfig'),\n        locale: toRef(props, 'locale')\n      };\n\n      var _useValueTexts = useValueTexts(computed(function () {\n        return getValue(selectedValue.value, 0);\n      }), sharedTextHooksProps),\n          _useValueTexts2 = _slicedToArray(_useValueTexts, 2),\n          startValueTexts = _useValueTexts2[0],\n          firstStartValueText = _useValueTexts2[1];\n\n      var _useValueTexts3 = useValueTexts(computed(function () {\n        return getValue(selectedValue.value, 1);\n      }), sharedTextHooksProps),\n          _useValueTexts4 = _slicedToArray(_useValueTexts3, 2),\n          endValueTexts = _useValueTexts4[0],\n          firstEndValueText = _useValueTexts4[1];\n\n      var _onTextChange = function onTextChange(newText, index) {\n        var inputDate = parseValue(newText, {\n          locale: props.locale,\n          formatList: formatList.value,\n          generateConfig: props.generateConfig\n        });\n        var disabledFunc = index === 0 ? disabledStartDate : disabledEndDate;\n\n        if (inputDate && !disabledFunc(inputDate)) {\n          setSelectedValue(updateValues(selectedValue.value, inputDate, index));\n          setViewDate(inputDate, index);\n        }\n      };\n\n      var _useTextValueMapping = useTextValueMapping({\n        valueTexts: startValueTexts,\n        onTextChange: function onTextChange(newText) {\n          return _onTextChange(newText, 0);\n        }\n      }),\n          _useTextValueMapping2 = _slicedToArray(_useTextValueMapping, 3),\n          startText = _useTextValueMapping2[0],\n          triggerStartTextChange = _useTextValueMapping2[1],\n          resetStartText = _useTextValueMapping2[2];\n\n      var _useTextValueMapping3 = useTextValueMapping({\n        valueTexts: endValueTexts,\n        onTextChange: function onTextChange(newText) {\n          return _onTextChange(newText, 1);\n        }\n      }),\n          _useTextValueMapping4 = _slicedToArray(_useTextValueMapping3, 3),\n          endText = _useTextValueMapping4[0],\n          triggerEndTextChange = _useTextValueMapping4[1],\n          resetEndText = _useTextValueMapping4[2];\n\n      var _useState = useState(null),\n          _useState2 = _slicedToArray(_useState, 2),\n          rangeHoverValue = _useState2[0],\n          setRangeHoverValue = _useState2[1]; // ========================== Hover Range ==========================\n\n\n      var _useState3 = useState(null),\n          _useState4 = _slicedToArray(_useState3, 2),\n          hoverRangedValue = _useState4[0],\n          setHoverRangedValue = _useState4[1];\n\n      var _useHoverValue = useHoverValue(startText, sharedTextHooksProps),\n          _useHoverValue2 = _slicedToArray(_useHoverValue, 3),\n          startHoverValue = _useHoverValue2[0],\n          onStartEnter = _useHoverValue2[1],\n          onStartLeave = _useHoverValue2[2];\n\n      var _useHoverValue3 = useHoverValue(endText, sharedTextHooksProps),\n          _useHoverValue4 = _slicedToArray(_useHoverValue3, 3),\n          endHoverValue = _useHoverValue4[0],\n          onEndEnter = _useHoverValue4[1],\n          onEndLeave = _useHoverValue4[2];\n\n      var onDateMouseenter = function onDateMouseenter(date) {\n        setHoverRangedValue(updateValues(selectedValue.value, date, mergedActivePickerIndex.value));\n\n        if (mergedActivePickerIndex.value === 0) {\n          onStartEnter(date);\n        } else {\n          onEndEnter(date);\n        }\n      };\n\n      var onDateMouseleave = function onDateMouseleave() {\n        setHoverRangedValue(updateValues(selectedValue.value, null, mergedActivePickerIndex.value));\n\n        if (mergedActivePickerIndex.value === 0) {\n          onStartLeave();\n        } else {\n          onEndLeave();\n        }\n      }; // ============================= Input =============================\n\n\n      var getSharedInputHookProps = function getSharedInputHookProps(index, resetText) {\n        return {\n          forwardKeydown: forwardKeydown,\n          onBlur: function onBlur(e) {\n            var _a;\n\n            (_a = props.onBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);\n          },\n          isClickOutside: function isClickOutside(target) {\n            return !elementsContains([panelDivRef.value, startInputDivRef.value, endInputDivRef.value, containerRef.value], target);\n          },\n          onFocus: function onFocus(e) {\n            var _a;\n\n            setMergedActivePickerIndex(index);\n            (_a = props.onFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);\n          },\n          triggerOpen: function triggerOpen(newOpen) {\n            _triggerOpen(newOpen, index);\n          },\n          onSubmit: function onSubmit() {\n            if ( // When user typing disabledDate with keyboard and enter, this value will be empty\n            !selectedValue.value || // Normal disabled check\n            props.disabledDate && props.disabledDate(selectedValue.value[index])) {\n              return false;\n            }\n\n            triggerChange(selectedValue.value, index);\n            resetText();\n          },\n          onCancel: function onCancel() {\n            _triggerOpen(false, index);\n\n            setSelectedValue(mergedValue.value);\n            resetText();\n          }\n        };\n      };\n\n      var _usePickerInput = usePickerInput(_extends(_extends({}, getSharedInputHookProps(0, resetStartText)), {\n        blurToCancel: needConfirmButton,\n        open: startOpen,\n        value: startText,\n        onKeydown: function onKeydown(e, preventDefault) {\n          var _a;\n\n          (_a = props.onKeydown) === null || _a === void 0 ? void 0 : _a.call(props, e, preventDefault);\n        }\n      })),\n          _usePickerInput2 = _slicedToArray(_usePickerInput, 2),\n          startInputProps = _usePickerInput2[0],\n          _usePickerInput2$ = _usePickerInput2[1],\n          startFocused = _usePickerInput2$.focused,\n          startTyping = _usePickerInput2$.typing;\n\n      var _usePickerInput3 = usePickerInput(_extends(_extends({}, getSharedInputHookProps(1, resetEndText)), {\n        blurToCancel: needConfirmButton,\n        open: endOpen,\n        value: endText,\n        onKeydown: function onKeydown(e, preventDefault) {\n          var _a;\n\n          (_a = props.onKeydown) === null || _a === void 0 ? void 0 : _a.call(props, e, preventDefault);\n        }\n      })),\n          _usePickerInput4 = _slicedToArray(_usePickerInput3, 2),\n          endInputProps = _usePickerInput4[0],\n          _usePickerInput4$ = _usePickerInput4[1],\n          endFocused = _usePickerInput4$.focused,\n          endTyping = _usePickerInput4$.typing; // ========================== Click Picker ==========================\n\n\n      var onPickerClick = function onPickerClick(e) {\n        var _a; // When click inside the picker & outside the picker's input elements\n        // the panel should still be opened\n\n\n        (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n\n        if (!mergedOpen.value && !startInputRef.value.contains(e.target) && !endInputRef.value.contains(e.target)) {\n          if (!mergedDisabled.value[0]) {\n            triggerOpenAndFocus(0);\n          } else if (!mergedDisabled.value[1]) {\n            triggerOpenAndFocus(1);\n          }\n        }\n      };\n\n      var onPickerMousedown = function onPickerMousedown(e) {\n        var _a; // shouldn't affect input elements if picker is active\n\n\n        (_a = props.onMousedown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n\n        if (mergedOpen.value && (startFocused.value || endFocused.value) && !startInputRef.value.contains(e.target) && !endInputRef.value.contains(e.target)) {\n          e.preventDefault();\n        }\n      }; // ============================= Sync ==============================\n      // Close should sync back with text value\n\n\n      var startStr = computed(function () {\n        var _a;\n\n        return ((_a = mergedValue.value) === null || _a === void 0 ? void 0 : _a[0]) ? formatValue(mergedValue.value[0], {\n          locale: props.locale,\n          format: 'YYYYMMDDHHmmss',\n          generateConfig: props.generateConfig\n        }) : '';\n      });\n      var endStr = computed(function () {\n        var _a;\n\n        return ((_a = mergedValue.value) === null || _a === void 0 ? void 0 : _a[1]) ? formatValue(mergedValue.value[1], {\n          locale: props.locale,\n          format: 'YYYYMMDDHHmmss',\n          generateConfig: props.generateConfig\n        }) : '';\n      });\n      watch([mergedOpen, startValueTexts, endValueTexts], function () {\n        if (!mergedOpen.value) {\n          setSelectedValue(mergedValue.value);\n\n          if (!startValueTexts.value.length || startValueTexts.value[0] === '') {\n            triggerStartTextChange('');\n          } else if (firstStartValueText.value !== startText.value) {\n            resetStartText();\n          }\n\n          if (!endValueTexts.value.length || endValueTexts.value[0] === '') {\n            triggerEndTextChange('');\n          } else if (firstEndValueText.value !== endText.value) {\n            resetEndText();\n          }\n        }\n      }); // Sync innerValue with control mode\n\n      watch([startStr, endStr], function () {\n        setSelectedValue(mergedValue.value);\n      }); // ============================ Warning ============================\n\n      if (process.env.NODE_ENV !== 'production') {\n        watchEffect(function () {\n          var value = props.value,\n              disabled = props.disabled;\n\n          if (value && Array.isArray(disabled) && (getValue(disabled, 0) && !getValue(value, 0) || getValue(disabled, 1) && !getValue(value, 1))) {\n            warning(false, '`disabled` should not set with empty `value`. You should set `allowEmpty` or `value` instead.');\n          }\n        });\n      }\n\n      expose({\n        focus: function focus() {\n          if (startInputRef.value) {\n            startInputRef.value.focus();\n          }\n        },\n        blur: function blur() {\n          if (startInputRef.value) {\n            startInputRef.value.blur();\n          }\n\n          if (endInputRef.value) {\n            endInputRef.value.blur();\n          }\n        }\n      }); // ============================ Ranges =============================\n\n      var rangeList = computed(function () {\n        return Object.keys(props.ranges || {}).map(function (label) {\n          var range = props.ranges[label];\n          var newValues = typeof range === 'function' ? range() : range;\n          return {\n            label: label,\n            onClick: function onClick() {\n              triggerChange(newValues, null);\n\n              _triggerOpen(false, mergedActivePickerIndex.value);\n            },\n            onMouseenter: function onMouseenter() {\n              setRangeHoverValue(newValues);\n            },\n            onMouseleave: function onMouseleave() {\n              setRangeHoverValue(null);\n            }\n          };\n        });\n      }); // ============================= Panel =============================\n\n      var panelHoverRangedValue = computed(function () {\n        if (mergedOpen.value && hoverRangedValue.value && hoverRangedValue.value[0] && hoverRangedValue.value[1] && props.generateConfig.isAfter(hoverRangedValue.value[1], hoverRangedValue.value[0])) {\n          return hoverRangedValue.value;\n        } else {\n          return null;\n        }\n      });\n\n      function renderPanel() {\n        var panelPosition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n        var panelProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var generateConfig = props.generateConfig,\n            showTime = props.showTime,\n            dateRender = props.dateRender,\n            direction = props.direction,\n            _disabledTime = props.disabledTime,\n            prefixCls = props.prefixCls,\n            locale = props.locale;\n        var panelShowTime = showTime;\n\n        if (showTime && _typeof(showTime) === 'object' && showTime.defaultValue) {\n          var timeDefaultValues = showTime.defaultValue;\n          panelShowTime = _extends(_extends({}, showTime), {\n            defaultValue: getValue(timeDefaultValues, mergedActivePickerIndex.value) || undefined\n          });\n        }\n\n        var panelDateRender = null;\n\n        if (dateRender) {\n          panelDateRender = function panelDateRender(_ref2) {\n            var date = _ref2.current,\n                today = _ref2.today;\n            return dateRender({\n              current: date,\n              today: today,\n              info: {\n                range: mergedActivePickerIndex.value ? 'end' : 'start'\n              }\n            });\n          };\n        }\n\n        return _createVNode(RangeContextProvider, {\n          \"value\": {\n            inRange: true,\n            panelPosition: panelPosition,\n            rangedValue: rangeHoverValue.value || selectedValue.value,\n            hoverRangedValue: panelHoverRangedValue.value\n          }\n        }, {\n          default: function _default() {\n            return [_createVNode(PickerPanel, _objectSpread(_objectSpread(_objectSpread({}, props), panelProps), {}, {\n              \"dateRender\": panelDateRender,\n              \"showTime\": panelShowTime,\n              \"mode\": mergedModes.value[mergedActivePickerIndex.value],\n              \"generateConfig\": generateConfig,\n              \"style\": undefined,\n              \"direction\": direction,\n              \"disabledDate\": mergedActivePickerIndex.value === 0 ? disabledStartDate : disabledEndDate,\n              \"disabledTime\": function disabledTime(date) {\n                if (_disabledTime) {\n                  return _disabledTime(date, mergedActivePickerIndex.value === 0 ? 'start' : 'end');\n                }\n\n                return false;\n              },\n              \"class\": classNames(_defineProperty({}, \"\".concat(prefixCls, \"-panel-focused\"), mergedActivePickerIndex.value === 0 ? !startTyping.value : !endTyping.value)),\n              \"value\": getValue(selectedValue.value, mergedActivePickerIndex.value),\n              \"locale\": locale,\n              \"tabIndex\": -1,\n              \"onPanelChange\": function onPanelChange(date, newMode) {\n                // clear hover value when panel change\n                if (mergedActivePickerIndex.value === 0) {\n                  onStartLeave(true);\n                }\n\n                if (mergedActivePickerIndex.value === 1) {\n                  onEndLeave(true);\n                }\n\n                triggerModesChange(updateValues(mergedModes.value, newMode, mergedActivePickerIndex.value), updateValues(selectedValue.value, date, mergedActivePickerIndex.value));\n                var viewDate = date;\n\n                if (panelPosition === 'right' && mergedModes.value[mergedActivePickerIndex.value] === newMode) {\n                  viewDate = getClosingViewDate(viewDate, newMode, generateConfig, -1);\n                }\n\n                setViewDate(viewDate, mergedActivePickerIndex.value);\n              },\n              \"onOk\": null,\n              \"onSelect\": undefined,\n              \"onChange\": undefined,\n              \"defaultValue\": mergedActivePickerIndex.value === 0 ? getValue(selectedValue.value, 1) : getValue(selectedValue.value, 0)\n            }), null)];\n          }\n        });\n      }\n\n      var onContextSelect = function onContextSelect(date, type) {\n        var values = updateValues(selectedValue.value, date, mergedActivePickerIndex.value);\n\n        if (type === 'submit' || type !== 'key' && !needConfirmButton.value) {\n          // triggerChange will also update selected values\n          triggerChange(values, mergedActivePickerIndex.value); // clear hover value style\n\n          if (mergedActivePickerIndex.value === 0) {\n            onStartLeave();\n          } else {\n            onEndLeave();\n          }\n        } else {\n          setSelectedValue(values);\n        }\n      };\n\n      useProvidePanel({\n        operationRef: operationRef,\n        hideHeader: computed(function () {\n          return props.picker === 'time';\n        }),\n        onDateMouseenter: onDateMouseenter,\n        onDateMouseleave: onDateMouseleave,\n        hideRanges: computed(function () {\n          return true;\n        }),\n        onSelect: onContextSelect,\n        open: mergedOpen\n      });\n      return function () {\n        var _classNames2, _classNames3, _classNames4;\n\n        var _props$prefixCls = props.prefixCls,\n            prefixCls = _props$prefixCls === void 0 ? 'rc-picker' : _props$prefixCls,\n            id = props.id,\n            popupStyle = props.popupStyle,\n            dropdownClassName = props.dropdownClassName,\n            transitionName = props.transitionName,\n            dropdownAlign = props.dropdownAlign,\n            getPopupContainer = props.getPopupContainer,\n            generateConfig = props.generateConfig,\n            locale = props.locale,\n            placeholder = props.placeholder,\n            autofocus = props.autofocus,\n            _props$picker = props.picker,\n            picker = _props$picker === void 0 ? 'date' : _props$picker,\n            showTime = props.showTime,\n            _props$separator = props.separator,\n            separator = _props$separator === void 0 ? '~' : _props$separator,\n            disabledDate = props.disabledDate,\n            panelRender = props.panelRender,\n            allowClear = props.allowClear,\n            suffixIcon = props.suffixIcon,\n            clearIcon = props.clearIcon,\n            inputReadOnly = props.inputReadOnly,\n            renderExtraFooter = props.renderExtraFooter,\n            onMouseenter = props.onMouseenter,\n            onMouseleave = props.onMouseleave,\n            onMouseup = props.onMouseup,\n            _onOk = props.onOk,\n            components = props.components,\n            direction = props.direction,\n            _props$autocomplete = props.autocomplete,\n            autocomplete = _props$autocomplete === void 0 ? 'off' : _props$autocomplete;\n        var arrowLeft = 0;\n        var panelLeft = 0;\n\n        if (mergedActivePickerIndex.value && startInputDivRef.value && separatorRef.value && panelDivRef.value) {\n          // Arrow offset\n          arrowLeft = startInputDivRef.value.offsetWidth + separatorRef.value.offsetWidth;\n\n          if (panelDivRef.value.offsetWidth && arrowRef.value.offsetWidth && arrowLeft > panelDivRef.value.offsetWidth - arrowRef.value.offsetWidth - (direction === 'rtl' || arrowRef.value.offsetLeft > arrowLeft ? 0 : arrowRef.value.offsetLeft)) {\n            panelLeft = arrowLeft;\n          }\n        }\n\n        var arrowPositionStyle = direction === 'rtl' ? {\n          right: \"\".concat(arrowLeft, \"px\")\n        } : {\n          left: \"\".concat(arrowLeft, \"px\")\n        };\n\n        function renderPanels() {\n          var panels;\n          var extraNode = getExtraFooter(prefixCls, mergedModes.value[mergedActivePickerIndex.value], renderExtraFooter);\n          var rangesNode = getRanges({\n            prefixCls: prefixCls,\n            components: components,\n            needConfirmButton: needConfirmButton.value,\n            okDisabled: !getValue(selectedValue.value, mergedActivePickerIndex.value) || disabledDate && disabledDate(selectedValue.value[mergedActivePickerIndex.value]),\n            locale: locale,\n            rangeList: rangeList.value,\n            onOk: function onOk() {\n              if (getValue(selectedValue.value, mergedActivePickerIndex.value)) {\n                // triggerChangeOld(selectedValue.value);\n                triggerChange(selectedValue.value, mergedActivePickerIndex.value);\n\n                if (_onOk) {\n                  _onOk(selectedValue.value);\n                }\n              }\n            }\n          });\n\n          if (picker !== 'time' && !showTime) {\n            var viewDate = mergedActivePickerIndex.value === 0 ? startViewDate.value : endViewDate.value;\n            var nextViewDate = getClosingViewDate(viewDate, picker, generateConfig);\n            var currentMode = mergedModes.value[mergedActivePickerIndex.value];\n            var showDoublePanel = currentMode === picker;\n            var leftPanel = renderPanel(showDoublePanel ? 'left' : false, {\n              pickerValue: viewDate,\n              onPickerValueChange: function onPickerValueChange(newViewDate) {\n                setViewDate(newViewDate, mergedActivePickerIndex.value);\n              }\n            });\n            var rightPanel = renderPanel('right', {\n              pickerValue: nextViewDate,\n              onPickerValueChange: function onPickerValueChange(newViewDate) {\n                setViewDate(getClosingViewDate(newViewDate, picker, generateConfig, -1), mergedActivePickerIndex.value);\n              }\n            });\n\n            if (direction === 'rtl') {\n              panels = _createVNode(_Fragment, null, [rightPanel, showDoublePanel && leftPanel]);\n            } else {\n              panels = _createVNode(_Fragment, null, [leftPanel, showDoublePanel && rightPanel]);\n            }\n          } else {\n            panels = renderPanel();\n          }\n\n          var mergedNodes = _createVNode(_Fragment, null, [_createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-panels\")\n          }, [panels]), (extraNode || rangesNode) && _createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-footer\")\n          }, [extraNode, rangesNode])]);\n\n          if (panelRender) {\n            mergedNodes = panelRender(mergedNodes);\n          }\n\n          return _createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-panel-container\"),\n            \"style\": {\n              marginLeft: \"\".concat(panelLeft, \"px\")\n            },\n            \"ref\": panelDivRef,\n            \"onMousedown\": function onMousedown(e) {\n              e.preventDefault();\n            }\n          }, [mergedNodes]);\n        }\n\n        var rangePanel = _createVNode(\"div\", {\n          \"class\": classNames(\"\".concat(prefixCls, \"-range-wrapper\"), \"\".concat(prefixCls, \"-\").concat(picker, \"-range-wrapper\")),\n          \"style\": {\n            minWidth: \"\".concat(popupMinWidth.value, \"px\")\n          }\n        }, [_createVNode(\"div\", {\n          \"ref\": arrowRef,\n          \"class\": \"\".concat(prefixCls, \"-range-arrow\"),\n          \"style\": arrowPositionStyle\n        }, null), renderPanels()]); // ============================= Icons =============================\n\n\n        var suffixNode;\n\n        if (suffixIcon) {\n          suffixNode = _createVNode(\"span\", {\n            \"class\": \"\".concat(prefixCls, \"-suffix\")\n          }, [suffixIcon]);\n        }\n\n        var clearNode;\n\n        if (allowClear && (getValue(mergedValue.value, 0) && !mergedDisabled.value[0] || getValue(mergedValue.value, 1) && !mergedDisabled.value[1])) {\n          clearNode = _createVNode(\"span\", {\n            \"onMousedown\": function onMousedown(e) {\n              e.preventDefault();\n              e.stopPropagation();\n            },\n            \"onMouseup\": function onMouseup(e) {\n              e.preventDefault();\n              e.stopPropagation();\n              var values = mergedValue.value;\n\n              if (!mergedDisabled.value[0]) {\n                values = updateValues(values, null, 0);\n              }\n\n              if (!mergedDisabled.value[1]) {\n                values = updateValues(values, null, 1);\n              }\n\n              triggerChange(values, null);\n\n              _triggerOpen(false, mergedActivePickerIndex.value);\n            },\n            \"class\": \"\".concat(prefixCls, \"-clear\")\n          }, [clearIcon || _createVNode(\"span\", {\n            \"class\": \"\".concat(prefixCls, \"-clear-btn\")\n          }, null)]);\n        }\n\n        var inputSharedProps = {\n          size: getInputSize(picker, formatList.value[0], generateConfig)\n        };\n        var activeBarLeft = 0;\n        var activeBarWidth = 0;\n\n        if (startInputDivRef.value && endInputDivRef.value && separatorRef.value) {\n          if (mergedActivePickerIndex.value === 0) {\n            activeBarWidth = startInputDivRef.value.offsetWidth;\n          } else {\n            activeBarLeft = arrowLeft;\n            activeBarWidth = endInputDivRef.value.offsetWidth;\n          }\n        }\n\n        var activeBarPositionStyle = direction === 'rtl' ? {\n          right: \"\".concat(activeBarLeft, \"px\")\n        } : {\n          left: \"\".concat(activeBarLeft, \"px\")\n        }; // ============================ Return =============================\n\n        return _createVNode(PickerTrigger, {\n          \"visible\": mergedOpen.value,\n          \"popupStyle\": popupStyle,\n          \"prefixCls\": prefixCls,\n          \"dropdownClassName\": dropdownClassName,\n          \"dropdownAlign\": dropdownAlign,\n          \"getPopupContainer\": getPopupContainer,\n          \"transitionName\": transitionName,\n          \"range\": true,\n          \"direction\": direction\n        }, {\n          default: function _default() {\n            return [_createVNode(\"div\", _objectSpread({\n              \"ref\": containerRef,\n              \"class\": classNames(prefixCls, \"\".concat(prefixCls, \"-range\"), attrs.class, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), mergedDisabled.value[0] && mergedDisabled.value[1]), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-focused\"), mergedActivePickerIndex.value === 0 ? startFocused.value : endFocused.value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2)),\n              \"style\": attrs.style,\n              \"onClick\": onPickerClick,\n              \"onMouseenter\": onMouseenter,\n              \"onMouseleave\": onMouseleave,\n              \"onMousedown\": onPickerMousedown,\n              \"onMouseup\": onMouseup\n            }, getDataOrAriaProps(props)), [_createVNode(\"div\", {\n              \"class\": classNames(\"\".concat(prefixCls, \"-input\"), (_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-input-active\"), mergedActivePickerIndex.value === 0), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-input-placeholder\"), !!startHoverValue.value), _classNames3)),\n              \"ref\": startInputDivRef\n            }, [_createVNode(\"input\", _objectSpread(_objectSpread(_objectSpread({\n              \"id\": id,\n              \"disabled\": mergedDisabled.value[0],\n              \"readonly\": inputReadOnly || typeof formatList.value[0] === 'function' || !startTyping.value,\n              \"value\": startHoverValue.value || startText.value,\n              \"onInput\": function onInput(e) {\n                triggerStartTextChange(e.target.value);\n              },\n              \"autofocus\": autofocus,\n              \"placeholder\": getValue(placeholder, 0) || '',\n              \"ref\": startInputRef\n            }, startInputProps.value), inputSharedProps), {}, {\n              \"autocomplete\": autocomplete\n            }), null)]), _createVNode(\"div\", {\n              \"class\": \"\".concat(prefixCls, \"-range-separator\"),\n              \"ref\": separatorRef\n            }, [separator]), _createVNode(\"div\", {\n              \"class\": classNames(\"\".concat(prefixCls, \"-input\"), (_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(prefixCls, \"-input-active\"), mergedActivePickerIndex.value === 1), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-input-placeholder\"), !!endHoverValue.value), _classNames4)),\n              \"ref\": endInputDivRef\n            }, [_createVNode(\"input\", _objectSpread(_objectSpread(_objectSpread({\n              \"disabled\": mergedDisabled.value[1],\n              \"readonly\": inputReadOnly || typeof formatList.value[0] === 'function' || !endTyping.value,\n              \"value\": endHoverValue.value || endText.value,\n              \"onInput\": function onInput(e) {\n                triggerEndTextChange(e.target.value);\n              },\n              \"placeholder\": getValue(placeholder, 1) || '',\n              \"ref\": endInputRef\n            }, endInputProps.value), inputSharedProps), {}, {\n              \"autocomplete\": autocomplete\n            }), null)]), _createVNode(\"div\", {\n              \"class\": \"\".concat(prefixCls, \"-active-bar\"),\n              \"style\": _extends(_extends({}, activeBarPositionStyle), {\n                width: \"\".concat(activeBarWidth, \"px\"),\n                position: 'absolute'\n              })\n            }, null), suffixNode, clearNode, getPortal()])];\n          },\n          popupElement: function popupElement() {\n            return rangePanel;\n          }\n        });\n      };\n    }\n  });\n}\n\nvar InterRangerPicker = RangerPicker();\nexport default InterRangerPicker;"],"mappings":"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"},"metadata":{},"sourceType":"module"}