{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { defineComponent, reactive, onMounted, computed, onUnmounted, nextTick, watch, ref } from 'vue';\nimport classnames from '../../_util/classNames';\nimport getScrollBarSize from '../../_util/getScrollBarSize';\nimport KeyCode from '../../_util/KeyCode';\nimport omit from '../../_util/omit';\nimport supportsPassive from '../../_util/supportsPassive';\nimport { drawerChildProps } from './IDrawerPropTypes';\nimport { addEventListener, dataToArray, getTouchParentScroll, isNumeric, removeEventListener, transformArguments, transitionEndFun, windowIsUndefined } from './utils';\nvar currentDrawer = {};\nvar DrawerChild = defineComponent({\n  inheritAttrs: false,\n  props: drawerChildProps(),\n  emits: ['close', 'handleClick', 'change'],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n        slots = _ref.slots;\n    var state = reactive({\n      startPos: {\n        x: null,\n        y: null\n      }\n    });\n    var timeout;\n    var contentWrapper = ref();\n    var dom = ref();\n    var maskDom = ref();\n    var handlerDom = ref();\n    var contentDom = ref();\n    var levelDom = [];\n    var drawerId = \"drawer_id_\".concat(Number((Date.now() + Math.random()).toString().replace('.', Math.round(Math.random() * 9).toString())).toString(16));\n    var passive = !windowIsUndefined && supportsPassive ? {\n      passive: false\n    } : false;\n    onMounted(function () {\n      nextTick(function () {\n        var _a;\n\n        var open = props.open,\n            getContainer = props.getContainer,\n            showMask = props.showMask,\n            autofocus = props.autofocus;\n        var container = getContainer === null || getContainer === void 0 ? void 0 : getContainer();\n        getLevelDom(props);\n\n        if (open) {\n          if (container && container.parentNode === document.body) {\n            currentDrawer[drawerId] = open;\n          } // 默认打开状态时推出 level;\n\n\n          openLevelTransition();\n          nextTick(function () {\n            if (autofocus) {\n              domFocus();\n            }\n          });\n\n          if (showMask) {\n            (_a = props.scrollLocker) === null || _a === void 0 ? void 0 : _a.lock();\n          }\n        }\n      });\n    });\n    watch(function () {\n      return props.level;\n    }, function () {\n      getLevelDom(props);\n    }, {\n      flush: 'post'\n    });\n    watch(function () {\n      return props.open;\n    }, function () {\n      var open = props.open,\n          getContainer = props.getContainer,\n          scrollLocker = props.scrollLocker,\n          showMask = props.showMask,\n          autofocus = props.autofocus;\n      var container = getContainer === null || getContainer === void 0 ? void 0 : getContainer();\n\n      if (container && container.parentNode === document.body) {\n        currentDrawer[drawerId] = !!open;\n      }\n\n      openLevelTransition();\n\n      if (open) {\n        if (autofocus) {\n          domFocus();\n        }\n\n        if (showMask) {\n          scrollLocker === null || scrollLocker === void 0 ? void 0 : scrollLocker.lock();\n        }\n      } else {\n        scrollLocker === null || scrollLocker === void 0 ? void 0 : scrollLocker.unLock();\n      }\n    }, {\n      flush: 'post'\n    });\n    onUnmounted(function () {\n      var _a;\n\n      var open = props.open;\n      delete currentDrawer[drawerId];\n\n      if (open) {\n        setLevelTransform(false);\n        document.body.style.touchAction = '';\n      }\n\n      (_a = props.scrollLocker) === null || _a === void 0 ? void 0 : _a.unLock();\n    });\n    watch(function () {\n      return props.placement;\n    }, function (val) {\n      if (val) {\n        // test 的 bug, 有动画过场，删除 dom\n        contentDom.value = null;\n      }\n    });\n\n    var domFocus = function domFocus() {\n      var _a, _b;\n\n      (_b = (_a = dom.value) === null || _a === void 0 ? void 0 : _a.focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n\n    var removeStartHandler = function removeStartHandler(e) {\n      if (e.touches.length > 1) {\n        return;\n      }\n\n      state.startPos = {\n        x: e.touches[0].clientX,\n        y: e.touches[0].clientY\n      };\n    };\n\n    var removeMoveHandler = function removeMoveHandler(e) {\n      if (e.changedTouches.length > 1) {\n        return;\n      }\n\n      var currentTarget = e.currentTarget;\n      var differX = e.changedTouches[0].clientX - state.startPos.x;\n      var differY = e.changedTouches[0].clientY - state.startPos.y;\n\n      if ((currentTarget === maskDom.value || currentTarget === handlerDom.value || currentTarget === contentDom.value && getTouchParentScroll(currentTarget, e.target, differX, differY)) && e.cancelable) {\n        e.preventDefault();\n      }\n    };\n\n    var transitionEnd = function transitionEnd(e) {\n      var dom = e.target;\n      removeEventListener(dom, transitionEndFun, transitionEnd);\n      dom.style.transition = '';\n    };\n\n    var onClose = function onClose(e) {\n      emit('close', e);\n    };\n\n    var onKeyDown = function onKeyDown(e) {\n      if (e.keyCode === KeyCode.ESC) {\n        e.stopPropagation();\n        onClose(e);\n      }\n    };\n\n    var onWrapperTransitionEnd = function onWrapperTransitionEnd(e) {\n      var open = props.open,\n          afterVisibleChange = props.afterVisibleChange;\n\n      if (e.target === contentWrapper.value && e.propertyName.match(/transform$/)) {\n        dom.value.style.transition = '';\n\n        if (!open && getCurrentDrawerSome()) {\n          document.body.style.overflowX = '';\n\n          if (maskDom.value) {\n            maskDom.value.style.left = '';\n            maskDom.value.style.width = '';\n          }\n        }\n\n        if (afterVisibleChange) {\n          afterVisibleChange(!!open);\n        }\n      }\n    };\n\n    var horizontalBoolAndPlacementName = computed(function () {\n      var placement = props.placement;\n      var isHorizontal = placement === 'left' || placement === 'right';\n      var placementName = \"translate\".concat(isHorizontal ? 'X' : 'Y');\n      return {\n        isHorizontal: isHorizontal,\n        placementName: placementName\n      };\n    });\n\n    var openLevelTransition = function openLevelTransition() {\n      var open = props.open,\n          width = props.width,\n          height = props.height;\n      var _horizontalBoolAndPla = horizontalBoolAndPlacementName.value,\n          isHorizontal = _horizontalBoolAndPla.isHorizontal,\n          placementName = _horizontalBoolAndPla.placementName;\n      var contentValue = contentDom.value ? contentDom.value.getBoundingClientRect()[isHorizontal ? 'width' : 'height'] : 0;\n      var value = (isHorizontal ? width : height) || contentValue;\n      setLevelAndScrolling(open, placementName, value);\n    };\n\n    var setLevelTransform = function setLevelTransform(open, placementName, value, right) {\n      var placement = props.placement,\n          levelMove = props.levelMove,\n          duration = props.duration,\n          ease = props.ease,\n          showMask = props.showMask; // router 切换时可能会导至页面失去滚动条，所以需要时时获取。\n\n      levelDom.forEach(function (dom) {\n        dom.style.transition = \"transform \".concat(duration, \" \").concat(ease);\n        addEventListener(dom, transitionEndFun, transitionEnd);\n        var levelValue = open ? value : 0;\n\n        if (levelMove) {\n          var $levelMove = transformArguments(levelMove, {\n            target: dom,\n            open: open\n          });\n          levelValue = open ? $levelMove[0] : $levelMove[1] || 0;\n        }\n\n        var $value = typeof levelValue === 'number' ? \"\".concat(levelValue, \"px\") : levelValue;\n        var placementPos = placement === 'left' || placement === 'top' ? $value : \"-\".concat($value);\n        placementPos = showMask && placement === 'right' && right ? \"calc(\".concat(placementPos, \" + \").concat(right, \"px)\") : placementPos;\n        dom.style.transform = levelValue ? \"\".concat(placementName, \"(\").concat(placementPos, \")\") : '';\n      });\n    };\n\n    var setLevelAndScrolling = function setLevelAndScrolling(open, placementName, value) {\n      if (!windowIsUndefined) {\n        var right = document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight) && window.innerWidth > document.body.offsetWidth ? getScrollBarSize(true) : 0;\n        setLevelTransform(open, placementName, value, right);\n        toggleScrollingToDrawerAndBody(right);\n      }\n\n      emit('change', open);\n    };\n\n    var toggleScrollingToDrawerAndBody = function toggleScrollingToDrawerAndBody(right) {\n      var getContainer = props.getContainer,\n          showMask = props.showMask,\n          open = props.open;\n      var container = getContainer === null || getContainer === void 0 ? void 0 : getContainer(); // 处理 body 滚动\n\n      if (container && container.parentNode === document.body && showMask) {\n        var eventArray = ['touchstart'];\n        var domArray = [document.body, maskDom.value, handlerDom.value, contentDom.value];\n\n        if (open && document.body.style.overflow !== 'hidden') {\n          if (right) {\n            addScrollingEffect(right);\n          }\n\n          document.body.style.touchAction = 'none'; // 手机禁滚\n\n          domArray.forEach(function (item, i) {\n            if (!item) {\n              return;\n            }\n\n            addEventListener(item, eventArray[i] || 'touchmove', i ? removeMoveHandler : removeStartHandler, passive);\n          });\n        } else if (getCurrentDrawerSome()) {\n          document.body.style.touchAction = '';\n\n          if (right) {\n            remScrollingEffect(right);\n          } // 恢复事件\n\n\n          domArray.forEach(function (item, i) {\n            if (!item) {\n              return;\n            }\n\n            removeEventListener(item, eventArray[i] || 'touchmove', i ? removeMoveHandler : removeStartHandler, passive);\n          });\n        }\n      }\n    };\n\n    var addScrollingEffect = function addScrollingEffect(right) {\n      var placement = props.placement,\n          duration = props.duration,\n          ease = props.ease;\n      var widthTransition = \"width \".concat(duration, \" \").concat(ease);\n      var transformTransition = \"transform \".concat(duration, \" \").concat(ease);\n      dom.value.style.transition = 'none';\n\n      switch (placement) {\n        case 'right':\n          dom.value.style.transform = \"translateX(-\".concat(right, \"px)\");\n          break;\n\n        case 'top':\n        case 'bottom':\n          dom.value.style.width = \"calc(100% - \".concat(right, \"px)\");\n          dom.value.style.transform = 'translateZ(0)';\n          break;\n\n        default:\n          break;\n      }\n\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        if (dom.value) {\n          dom.value.style.transition = \"\".concat(transformTransition, \",\").concat(widthTransition);\n          dom.value.style.width = '';\n          dom.value.style.transform = '';\n        }\n      });\n    };\n\n    var remScrollingEffect = function remScrollingEffect(right) {\n      var placement = props.placement,\n          duration = props.duration,\n          ease = props.ease;\n      dom.value.style.transition = 'none';\n      var heightTransition;\n      var widthTransition = \"width \".concat(duration, \" \").concat(ease);\n      var transformTransition = \"transform \".concat(duration, \" \").concat(ease);\n\n      switch (placement) {\n        case 'left':\n          {\n            dom.value.style.width = '100%';\n            widthTransition = \"width 0s \".concat(ease, \" \").concat(duration);\n            break;\n          }\n\n        case 'right':\n          {\n            dom.value.style.transform = \"translateX(\".concat(right, \"px)\");\n            dom.value.style.width = '100%';\n            widthTransition = \"width 0s \".concat(ease, \" \").concat(duration);\n\n            if (maskDom.value) {\n              maskDom.value.style.left = \"-\".concat(right, \"px\");\n              maskDom.value.style.width = \"calc(100% + \".concat(right, \"px)\");\n            }\n\n            break;\n          }\n\n        case 'top':\n        case 'bottom':\n          {\n            dom.value.style.width = \"calc(100% + \".concat(right, \"px)\");\n            dom.value.style.height = '100%';\n            dom.value.style.transform = 'translateZ(0)';\n            heightTransition = \"height 0s \".concat(ease, \" \").concat(duration);\n            break;\n          }\n\n        default:\n          break;\n      }\n\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        if (dom.value) {\n          dom.value.style.transition = \"\".concat(transformTransition, \",\").concat(heightTransition ? \"\".concat(heightTransition, \",\") : '').concat(widthTransition);\n          dom.value.style.transform = '';\n          dom.value.style.width = '';\n          dom.value.style.height = '';\n        }\n      });\n    };\n\n    var getCurrentDrawerSome = function getCurrentDrawerSome() {\n      return !Object.keys(currentDrawer).some(function (key) {\n        return currentDrawer[key];\n      });\n    };\n\n    var getLevelDom = function getLevelDom(_ref2) {\n      var level = _ref2.level,\n          getContainer = _ref2.getContainer;\n\n      if (windowIsUndefined) {\n        return;\n      }\n\n      var container = getContainer === null || getContainer === void 0 ? void 0 : getContainer();\n      var parent = container ? container.parentNode : null;\n      levelDom = [];\n\n      if (level === 'all') {\n        var children = parent ? Array.prototype.slice.call(parent.children) : [];\n        children.forEach(function (child) {\n          if (child.nodeName !== 'SCRIPT' && child.nodeName !== 'STYLE' && child.nodeName !== 'LINK' && child !== container) {\n            levelDom.push(child);\n          }\n        });\n      } else if (level) {\n        dataToArray(level).forEach(function (key) {\n          document.querySelectorAll(key).forEach(function (item) {\n            levelDom.push(item);\n          });\n        });\n      }\n    };\n\n    var onHandleClick = function onHandleClick(e) {\n      emit('handleClick', e);\n    };\n\n    var canOpen = ref(false);\n    watch(dom, function () {\n      nextTick(function () {\n        canOpen.value = true;\n      });\n    });\n    return function () {\n      var _classnames;\n\n      var _a, _b;\n\n      var width = props.width,\n          height = props.height,\n          $open = props.open,\n          prefixCls = props.prefixCls,\n          placement = props.placement,\n          level = props.level,\n          levelMove = props.levelMove,\n          ease = props.ease,\n          duration = props.duration,\n          getContainer = props.getContainer,\n          onChange = props.onChange,\n          afterVisibleChange = props.afterVisibleChange,\n          showMask = props.showMask,\n          maskClosable = props.maskClosable,\n          maskStyle = props.maskStyle,\n          keyboard = props.keyboard,\n          getOpenCount = props.getOpenCount,\n          scrollLocker = props.scrollLocker,\n          contentWrapperStyle = props.contentWrapperStyle,\n          style = props.style,\n          className = props.class,\n          otherProps = __rest(props, [\"width\", \"height\", \"open\", \"prefixCls\", \"placement\", \"level\", \"levelMove\", \"ease\", \"duration\", \"getContainer\", \"onChange\", \"afterVisibleChange\", \"showMask\", \"maskClosable\", \"maskStyle\", \"keyboard\", \"getOpenCount\", \"scrollLocker\", \"contentWrapperStyle\", \"style\", \"class\"]); // 首次渲染都将是关闭状态。\n\n\n      var open = $open && canOpen.value;\n      var wrapperClassName = classnames(prefixCls, (_classnames = {}, _defineProperty(_classnames, \"\".concat(prefixCls, \"-\").concat(placement), true), _defineProperty(_classnames, \"\".concat(prefixCls, \"-open\"), open), _defineProperty(_classnames, className, !!className), _defineProperty(_classnames, 'no-mask', !showMask), _classnames));\n      var placementName = horizontalBoolAndPlacementName.value.placementName; // 百分比与像素动画不同步，第一次打用后全用像素动画。\n      // const defaultValue = !this.contentDom || !level ? '100%' : `${value}px`;\n\n      var placementPos = placement === 'left' || placement === 'top' ? '-100%' : '100%';\n      var transform = open ? '' : \"\".concat(placementName, \"(\").concat(placementPos, \")\");\n      return _createVNode(\"div\", _objectSpread(_objectSpread({}, omit(otherProps, ['switchScrollingEffect', 'autofocus'])), {}, {\n        \"tabindex\": -1,\n        \"class\": wrapperClassName,\n        \"style\": style,\n        \"ref\": dom,\n        \"onKeydown\": open && keyboard ? onKeyDown : undefined,\n        \"onTransitionend\": onWrapperTransitionEnd\n      }), [showMask && _createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-mask\"),\n        \"onClick\": maskClosable ? onClose : undefined,\n        \"style\": maskStyle,\n        \"ref\": maskDom\n      }, null), _createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-content-wrapper\"),\n        \"style\": _extends({\n          transform: transform,\n          msTransform: transform,\n          width: isNumeric(width) ? \"\".concat(width, \"px\") : width,\n          height: isNumeric(height) ? \"\".concat(height, \"px\") : height\n        }, contentWrapperStyle),\n        \"ref\": contentWrapper\n      }, [_createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-content\"),\n        \"ref\": contentDom\n      }, [(_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)]), slots.handler ? _createVNode(\"div\", {\n        \"onClick\": onHandleClick,\n        \"ref\": handlerDom\n      }, [(_b = slots.handler) === null || _b === void 0 ? void 0 : _b.call(slots)]) : null])]);\n    };\n  }\n});\nexport default DrawerChild;","map":{"version":3,"names":["_objectSpread","_extends","_defineProperty","createVNode","_createVNode","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","defineComponent","reactive","onMounted","computed","onUnmounted","nextTick","watch","ref","classnames","getScrollBarSize","KeyCode","omit","supportsPassive","drawerChildProps","addEventListener","dataToArray","getTouchParentScroll","isNumeric","removeEventListener","transformArguments","transitionEndFun","windowIsUndefined","currentDrawer","DrawerChild","inheritAttrs","props","emits","setup","_ref","emit","slots","state","startPos","x","y","timeout","contentWrapper","dom","maskDom","handlerDom","contentDom","levelDom","drawerId","concat","Number","Date","now","Math","random","toString","replace","round","passive","_a","open","getContainer","showMask","autofocus","container","getLevelDom","parentNode","document","body","openLevelTransition","domFocus","scrollLocker","lock","level","flush","unLock","setLevelTransform","style","touchAction","placement","val","value","_b","focus","removeStartHandler","touches","clientX","clientY","removeMoveHandler","changedTouches","currentTarget","differX","differY","target","cancelable","preventDefault","transitionEnd","transition","onClose","onKeyDown","keyCode","ESC","stopPropagation","onWrapperTransitionEnd","afterVisibleChange","propertyName","match","getCurrentDrawerSome","overflowX","left","width","horizontalBoolAndPlacementName","isHorizontal","placementName","height","_horizontalBoolAndPla","contentValue","getBoundingClientRect","setLevelAndScrolling","right","levelMove","duration","ease","forEach","levelValue","$levelMove","$value","placementPos","transform","scrollHeight","window","innerHeight","documentElement","clientHeight","innerWidth","offsetWidth","toggleScrollingToDrawerAndBody","eventArray","domArray","overflow","addScrollingEffect","item","remScrollingEffect","widthTransition","transformTransition","clearTimeout","setTimeout","heightTransition","keys","some","key","_ref2","parent","children","Array","slice","child","nodeName","push","querySelectorAll","onHandleClick","canOpen","_classnames","$open","prefixCls","onChange","maskClosable","maskStyle","keyboard","getOpenCount","contentWrapperStyle","className","class","otherProps","wrapperClassName","undefined","msTransform","default","handler"],"sources":["C:/Users/USTC/Desktop/community1/vue-web/node_modules/ant-design-vue/es/vc-drawer/src/DrawerChild.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { defineComponent, reactive, onMounted, computed, onUnmounted, nextTick, watch, ref } from 'vue';\nimport classnames from '../../_util/classNames';\nimport getScrollBarSize from '../../_util/getScrollBarSize';\nimport KeyCode from '../../_util/KeyCode';\nimport omit from '../../_util/omit';\nimport supportsPassive from '../../_util/supportsPassive';\nimport { drawerChildProps } from './IDrawerPropTypes';\nimport { addEventListener, dataToArray, getTouchParentScroll, isNumeric, removeEventListener, transformArguments, transitionEndFun, windowIsUndefined } from './utils';\nvar currentDrawer = {};\nvar DrawerChild = defineComponent({\n  inheritAttrs: false,\n  props: drawerChildProps(),\n  emits: ['close', 'handleClick', 'change'],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n        slots = _ref.slots;\n    var state = reactive({\n      startPos: {\n        x: null,\n        y: null\n      }\n    });\n    var timeout;\n    var contentWrapper = ref();\n    var dom = ref();\n    var maskDom = ref();\n    var handlerDom = ref();\n    var contentDom = ref();\n    var levelDom = [];\n    var drawerId = \"drawer_id_\".concat(Number((Date.now() + Math.random()).toString().replace('.', Math.round(Math.random() * 9).toString())).toString(16));\n    var passive = !windowIsUndefined && supportsPassive ? {\n      passive: false\n    } : false;\n    onMounted(function () {\n      nextTick(function () {\n        var _a;\n\n        var open = props.open,\n            getContainer = props.getContainer,\n            showMask = props.showMask,\n            autofocus = props.autofocus;\n        var container = getContainer === null || getContainer === void 0 ? void 0 : getContainer();\n        getLevelDom(props);\n\n        if (open) {\n          if (container && container.parentNode === document.body) {\n            currentDrawer[drawerId] = open;\n          } // 默认打开状态时推出 level;\n\n\n          openLevelTransition();\n          nextTick(function () {\n            if (autofocus) {\n              domFocus();\n            }\n          });\n\n          if (showMask) {\n            (_a = props.scrollLocker) === null || _a === void 0 ? void 0 : _a.lock();\n          }\n        }\n      });\n    });\n    watch(function () {\n      return props.level;\n    }, function () {\n      getLevelDom(props);\n    }, {\n      flush: 'post'\n    });\n    watch(function () {\n      return props.open;\n    }, function () {\n      var open = props.open,\n          getContainer = props.getContainer,\n          scrollLocker = props.scrollLocker,\n          showMask = props.showMask,\n          autofocus = props.autofocus;\n      var container = getContainer === null || getContainer === void 0 ? void 0 : getContainer();\n\n      if (container && container.parentNode === document.body) {\n        currentDrawer[drawerId] = !!open;\n      }\n\n      openLevelTransition();\n\n      if (open) {\n        if (autofocus) {\n          domFocus();\n        }\n\n        if (showMask) {\n          scrollLocker === null || scrollLocker === void 0 ? void 0 : scrollLocker.lock();\n        }\n      } else {\n        scrollLocker === null || scrollLocker === void 0 ? void 0 : scrollLocker.unLock();\n      }\n    }, {\n      flush: 'post'\n    });\n    onUnmounted(function () {\n      var _a;\n\n      var open = props.open;\n      delete currentDrawer[drawerId];\n\n      if (open) {\n        setLevelTransform(false);\n        document.body.style.touchAction = '';\n      }\n\n      (_a = props.scrollLocker) === null || _a === void 0 ? void 0 : _a.unLock();\n    });\n    watch(function () {\n      return props.placement;\n    }, function (val) {\n      if (val) {\n        // test 的 bug, 有动画过场，删除 dom\n        contentDom.value = null;\n      }\n    });\n\n    var domFocus = function domFocus() {\n      var _a, _b;\n\n      (_b = (_a = dom.value) === null || _a === void 0 ? void 0 : _a.focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n\n    var removeStartHandler = function removeStartHandler(e) {\n      if (e.touches.length > 1) {\n        return;\n      }\n\n      state.startPos = {\n        x: e.touches[0].clientX,\n        y: e.touches[0].clientY\n      };\n    };\n\n    var removeMoveHandler = function removeMoveHandler(e) {\n      if (e.changedTouches.length > 1) {\n        return;\n      }\n\n      var currentTarget = e.currentTarget;\n      var differX = e.changedTouches[0].clientX - state.startPos.x;\n      var differY = e.changedTouches[0].clientY - state.startPos.y;\n\n      if ((currentTarget === maskDom.value || currentTarget === handlerDom.value || currentTarget === contentDom.value && getTouchParentScroll(currentTarget, e.target, differX, differY)) && e.cancelable) {\n        e.preventDefault();\n      }\n    };\n\n    var transitionEnd = function transitionEnd(e) {\n      var dom = e.target;\n      removeEventListener(dom, transitionEndFun, transitionEnd);\n      dom.style.transition = '';\n    };\n\n    var onClose = function onClose(e) {\n      emit('close', e);\n    };\n\n    var onKeyDown = function onKeyDown(e) {\n      if (e.keyCode === KeyCode.ESC) {\n        e.stopPropagation();\n        onClose(e);\n      }\n    };\n\n    var onWrapperTransitionEnd = function onWrapperTransitionEnd(e) {\n      var open = props.open,\n          afterVisibleChange = props.afterVisibleChange;\n\n      if (e.target === contentWrapper.value && e.propertyName.match(/transform$/)) {\n        dom.value.style.transition = '';\n\n        if (!open && getCurrentDrawerSome()) {\n          document.body.style.overflowX = '';\n\n          if (maskDom.value) {\n            maskDom.value.style.left = '';\n            maskDom.value.style.width = '';\n          }\n        }\n\n        if (afterVisibleChange) {\n          afterVisibleChange(!!open);\n        }\n      }\n    };\n\n    var horizontalBoolAndPlacementName = computed(function () {\n      var placement = props.placement;\n      var isHorizontal = placement === 'left' || placement === 'right';\n      var placementName = \"translate\".concat(isHorizontal ? 'X' : 'Y');\n      return {\n        isHorizontal: isHorizontal,\n        placementName: placementName\n      };\n    });\n\n    var openLevelTransition = function openLevelTransition() {\n      var open = props.open,\n          width = props.width,\n          height = props.height;\n      var _horizontalBoolAndPla = horizontalBoolAndPlacementName.value,\n          isHorizontal = _horizontalBoolAndPla.isHorizontal,\n          placementName = _horizontalBoolAndPla.placementName;\n      var contentValue = contentDom.value ? contentDom.value.getBoundingClientRect()[isHorizontal ? 'width' : 'height'] : 0;\n      var value = (isHorizontal ? width : height) || contentValue;\n      setLevelAndScrolling(open, placementName, value);\n    };\n\n    var setLevelTransform = function setLevelTransform(open, placementName, value, right) {\n      var placement = props.placement,\n          levelMove = props.levelMove,\n          duration = props.duration,\n          ease = props.ease,\n          showMask = props.showMask; // router 切换时可能会导至页面失去滚动条，所以需要时时获取。\n\n      levelDom.forEach(function (dom) {\n        dom.style.transition = \"transform \".concat(duration, \" \").concat(ease);\n        addEventListener(dom, transitionEndFun, transitionEnd);\n        var levelValue = open ? value : 0;\n\n        if (levelMove) {\n          var $levelMove = transformArguments(levelMove, {\n            target: dom,\n            open: open\n          });\n          levelValue = open ? $levelMove[0] : $levelMove[1] || 0;\n        }\n\n        var $value = typeof levelValue === 'number' ? \"\".concat(levelValue, \"px\") : levelValue;\n        var placementPos = placement === 'left' || placement === 'top' ? $value : \"-\".concat($value);\n        placementPos = showMask && placement === 'right' && right ? \"calc(\".concat(placementPos, \" + \").concat(right, \"px)\") : placementPos;\n        dom.style.transform = levelValue ? \"\".concat(placementName, \"(\").concat(placementPos, \")\") : '';\n      });\n    };\n\n    var setLevelAndScrolling = function setLevelAndScrolling(open, placementName, value) {\n      if (!windowIsUndefined) {\n        var right = document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight) && window.innerWidth > document.body.offsetWidth ? getScrollBarSize(true) : 0;\n        setLevelTransform(open, placementName, value, right);\n        toggleScrollingToDrawerAndBody(right);\n      }\n\n      emit('change', open);\n    };\n\n    var toggleScrollingToDrawerAndBody = function toggleScrollingToDrawerAndBody(right) {\n      var getContainer = props.getContainer,\n          showMask = props.showMask,\n          open = props.open;\n      var container = getContainer === null || getContainer === void 0 ? void 0 : getContainer(); // 处理 body 滚动\n\n      if (container && container.parentNode === document.body && showMask) {\n        var eventArray = ['touchstart'];\n        var domArray = [document.body, maskDom.value, handlerDom.value, contentDom.value];\n\n        if (open && document.body.style.overflow !== 'hidden') {\n          if (right) {\n            addScrollingEffect(right);\n          }\n\n          document.body.style.touchAction = 'none'; // 手机禁滚\n\n          domArray.forEach(function (item, i) {\n            if (!item) {\n              return;\n            }\n\n            addEventListener(item, eventArray[i] || 'touchmove', i ? removeMoveHandler : removeStartHandler, passive);\n          });\n        } else if (getCurrentDrawerSome()) {\n          document.body.style.touchAction = '';\n\n          if (right) {\n            remScrollingEffect(right);\n          } // 恢复事件\n\n\n          domArray.forEach(function (item, i) {\n            if (!item) {\n              return;\n            }\n\n            removeEventListener(item, eventArray[i] || 'touchmove', i ? removeMoveHandler : removeStartHandler, passive);\n          });\n        }\n      }\n    };\n\n    var addScrollingEffect = function addScrollingEffect(right) {\n      var placement = props.placement,\n          duration = props.duration,\n          ease = props.ease;\n      var widthTransition = \"width \".concat(duration, \" \").concat(ease);\n      var transformTransition = \"transform \".concat(duration, \" \").concat(ease);\n      dom.value.style.transition = 'none';\n\n      switch (placement) {\n        case 'right':\n          dom.value.style.transform = \"translateX(-\".concat(right, \"px)\");\n          break;\n\n        case 'top':\n        case 'bottom':\n          dom.value.style.width = \"calc(100% - \".concat(right, \"px)\");\n          dom.value.style.transform = 'translateZ(0)';\n          break;\n\n        default:\n          break;\n      }\n\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        if (dom.value) {\n          dom.value.style.transition = \"\".concat(transformTransition, \",\").concat(widthTransition);\n          dom.value.style.width = '';\n          dom.value.style.transform = '';\n        }\n      });\n    };\n\n    var remScrollingEffect = function remScrollingEffect(right) {\n      var placement = props.placement,\n          duration = props.duration,\n          ease = props.ease;\n      dom.value.style.transition = 'none';\n      var heightTransition;\n      var widthTransition = \"width \".concat(duration, \" \").concat(ease);\n      var transformTransition = \"transform \".concat(duration, \" \").concat(ease);\n\n      switch (placement) {\n        case 'left':\n          {\n            dom.value.style.width = '100%';\n            widthTransition = \"width 0s \".concat(ease, \" \").concat(duration);\n            break;\n          }\n\n        case 'right':\n          {\n            dom.value.style.transform = \"translateX(\".concat(right, \"px)\");\n            dom.value.style.width = '100%';\n            widthTransition = \"width 0s \".concat(ease, \" \").concat(duration);\n\n            if (maskDom.value) {\n              maskDom.value.style.left = \"-\".concat(right, \"px\");\n              maskDom.value.style.width = \"calc(100% + \".concat(right, \"px)\");\n            }\n\n            break;\n          }\n\n        case 'top':\n        case 'bottom':\n          {\n            dom.value.style.width = \"calc(100% + \".concat(right, \"px)\");\n            dom.value.style.height = '100%';\n            dom.value.style.transform = 'translateZ(0)';\n            heightTransition = \"height 0s \".concat(ease, \" \").concat(duration);\n            break;\n          }\n\n        default:\n          break;\n      }\n\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        if (dom.value) {\n          dom.value.style.transition = \"\".concat(transformTransition, \",\").concat(heightTransition ? \"\".concat(heightTransition, \",\") : '').concat(widthTransition);\n          dom.value.style.transform = '';\n          dom.value.style.width = '';\n          dom.value.style.height = '';\n        }\n      });\n    };\n\n    var getCurrentDrawerSome = function getCurrentDrawerSome() {\n      return !Object.keys(currentDrawer).some(function (key) {\n        return currentDrawer[key];\n      });\n    };\n\n    var getLevelDom = function getLevelDom(_ref2) {\n      var level = _ref2.level,\n          getContainer = _ref2.getContainer;\n\n      if (windowIsUndefined) {\n        return;\n      }\n\n      var container = getContainer === null || getContainer === void 0 ? void 0 : getContainer();\n      var parent = container ? container.parentNode : null;\n      levelDom = [];\n\n      if (level === 'all') {\n        var children = parent ? Array.prototype.slice.call(parent.children) : [];\n        children.forEach(function (child) {\n          if (child.nodeName !== 'SCRIPT' && child.nodeName !== 'STYLE' && child.nodeName !== 'LINK' && child !== container) {\n            levelDom.push(child);\n          }\n        });\n      } else if (level) {\n        dataToArray(level).forEach(function (key) {\n          document.querySelectorAll(key).forEach(function (item) {\n            levelDom.push(item);\n          });\n        });\n      }\n    };\n\n    var onHandleClick = function onHandleClick(e) {\n      emit('handleClick', e);\n    };\n\n    var canOpen = ref(false);\n    watch(dom, function () {\n      nextTick(function () {\n        canOpen.value = true;\n      });\n    });\n    return function () {\n      var _classnames;\n\n      var _a, _b;\n\n      var width = props.width,\n          height = props.height,\n          $open = props.open,\n          prefixCls = props.prefixCls,\n          placement = props.placement,\n          level = props.level,\n          levelMove = props.levelMove,\n          ease = props.ease,\n          duration = props.duration,\n          getContainer = props.getContainer,\n          onChange = props.onChange,\n          afterVisibleChange = props.afterVisibleChange,\n          showMask = props.showMask,\n          maskClosable = props.maskClosable,\n          maskStyle = props.maskStyle,\n          keyboard = props.keyboard,\n          getOpenCount = props.getOpenCount,\n          scrollLocker = props.scrollLocker,\n          contentWrapperStyle = props.contentWrapperStyle,\n          style = props.style,\n          className = props.class,\n          otherProps = __rest(props, [\"width\", \"height\", \"open\", \"prefixCls\", \"placement\", \"level\", \"levelMove\", \"ease\", \"duration\", \"getContainer\", \"onChange\", \"afterVisibleChange\", \"showMask\", \"maskClosable\", \"maskStyle\", \"keyboard\", \"getOpenCount\", \"scrollLocker\", \"contentWrapperStyle\", \"style\", \"class\"]); // 首次渲染都将是关闭状态。\n\n\n      var open = $open && canOpen.value;\n      var wrapperClassName = classnames(prefixCls, (_classnames = {}, _defineProperty(_classnames, \"\".concat(prefixCls, \"-\").concat(placement), true), _defineProperty(_classnames, \"\".concat(prefixCls, \"-open\"), open), _defineProperty(_classnames, className, !!className), _defineProperty(_classnames, 'no-mask', !showMask), _classnames));\n      var placementName = horizontalBoolAndPlacementName.value.placementName; // 百分比与像素动画不同步，第一次打用后全用像素动画。\n      // const defaultValue = !this.contentDom || !level ? '100%' : `${value}px`;\n\n      var placementPos = placement === 'left' || placement === 'top' ? '-100%' : '100%';\n      var transform = open ? '' : \"\".concat(placementName, \"(\").concat(placementPos, \")\");\n      return _createVNode(\"div\", _objectSpread(_objectSpread({}, omit(otherProps, ['switchScrollingEffect', 'autofocus'])), {}, {\n        \"tabindex\": -1,\n        \"class\": wrapperClassName,\n        \"style\": style,\n        \"ref\": dom,\n        \"onKeydown\": open && keyboard ? onKeyDown : undefined,\n        \"onTransitionend\": onWrapperTransitionEnd\n      }), [showMask && _createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-mask\"),\n        \"onClick\": maskClosable ? onClose : undefined,\n        \"style\": maskStyle,\n        \"ref\": maskDom\n      }, null), _createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-content-wrapper\"),\n        \"style\": _extends({\n          transform: transform,\n          msTransform: transform,\n          width: isNumeric(width) ? \"\".concat(width, \"px\") : width,\n          height: isNumeric(height) ? \"\".concat(height, \"px\") : height\n        }, contentWrapperStyle),\n        \"ref\": contentWrapper\n      }, [_createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-content\"),\n        \"ref\": contentDom\n      }, [(_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)]), slots.handler ? _createVNode(\"div\", {\n        \"onClick\": onHandleClick,\n        \"ref\": handlerDom\n      }, [(_b = slots.handler) === null || _b === void 0 ? void 0 : _b.call(slots)]) : null])]);\n    };\n  }\n});\nexport default DrawerChild;"],"mappings":"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"},"metadata":{},"sourceType":"module"}