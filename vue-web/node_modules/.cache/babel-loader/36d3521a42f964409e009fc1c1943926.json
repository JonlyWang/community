{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nimport { Teleport, computed, defineComponent, onMounted, watch, onUnmounted } from 'vue';\nimport classNames from '../_util/classNames';\nexport default defineComponent({\n  name: 'Notice',\n  inheritAttrs: false,\n  props: ['prefixCls', 'duration', 'updateMark', 'noticeKey', 'closeIcon', 'closable', 'props', 'onClick', 'onClose', 'holder', 'visible'],\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n        slots = _ref.slots;\n    var closeTimer;\n    var duration = computed(function () {\n      return props.duration === undefined ? 1.5 : props.duration;\n    });\n\n    var startCloseTimer = function startCloseTimer() {\n      if (duration.value) {\n        closeTimer = setTimeout(function () {\n          close();\n        }, duration.value * 1000);\n      }\n    };\n\n    var clearCloseTimer = function clearCloseTimer() {\n      if (closeTimer) {\n        clearTimeout(closeTimer);\n        closeTimer = null;\n      }\n    };\n\n    var close = function close(e) {\n      if (e) {\n        e.stopPropagation();\n      }\n\n      clearCloseTimer();\n      var onClose = props.onClose,\n          noticeKey = props.noticeKey;\n\n      if (onClose) {\n        onClose(noticeKey);\n      }\n    };\n\n    var restartCloseTimer = function restartCloseTimer() {\n      clearCloseTimer();\n      startCloseTimer();\n    };\n\n    onMounted(function () {\n      startCloseTimer();\n    });\n    onUnmounted(function () {\n      clearCloseTimer();\n    });\n    watch([duration, function () {\n      return props.updateMark;\n    }, function () {\n      return props.visible;\n    }], function (_ref2, _ref3) {\n      var _ref4 = _slicedToArray(_ref2, 3),\n          preDuration = _ref4[0],\n          preUpdateMark = _ref4[1],\n          preVisible = _ref4[2];\n\n      var _ref5 = _slicedToArray(_ref3, 3),\n          newDuration = _ref5[0],\n          newUpdateMark = _ref5[1],\n          newVisible = _ref5[2];\n\n      if (preDuration !== newDuration || preUpdateMark !== newUpdateMark || preVisible !== newVisible && newVisible) {\n        restartCloseTimer();\n      }\n    }, {\n      flush: 'post'\n    });\n    return function () {\n      var _a, _b;\n\n      var prefixCls = props.prefixCls,\n          closable = props.closable,\n          _props$closeIcon = props.closeIcon,\n          closeIcon = _props$closeIcon === void 0 ? (_a = slots.closeIcon) === null || _a === void 0 ? void 0 : _a.call(slots) : _props$closeIcon,\n          onClick = props.onClick,\n          holder = props.holder;\n      var className = attrs.class,\n          style = attrs.style;\n      var componentClass = \"\".concat(prefixCls, \"-notice\");\n      var dataOrAriaAttributeProps = Object.keys(attrs).reduce(function (acc, key) {\n        if (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role') {\n          acc[key] = attrs[key];\n        }\n\n        return acc;\n      }, {});\n\n      var node = _createVNode(\"div\", _objectSpread({\n        \"class\": classNames(componentClass, className, _defineProperty({}, \"\".concat(componentClass, \"-closable\"), closable)),\n        \"style\": style,\n        \"onMouseenter\": clearCloseTimer,\n        \"onMouseleave\": startCloseTimer,\n        \"onClick\": onClick\n      }, dataOrAriaAttributeProps), [_createVNode(\"div\", {\n        \"class\": \"\".concat(componentClass, \"-content\")\n      }, [(_b = slots.default) === null || _b === void 0 ? void 0 : _b.call(slots)]), closable ? _createVNode(\"a\", {\n        \"tabindex\": 0,\n        \"onClick\": close,\n        \"class\": \"\".concat(componentClass, \"-close\")\n      }, [closeIcon || _createVNode(\"span\", {\n        \"class\": \"\".concat(componentClass, \"-close-x\")\n      }, null)]) : null]);\n\n      if (holder) {\n        return _createVNode(Teleport, {\n          \"to\": holder\n        }, {\n          default: function _default() {\n            return node;\n          }\n        });\n      }\n\n      return node;\n    };\n  }\n});","map":{"version":3,"names":["_objectSpread","_defineProperty","_slicedToArray","resolveDirective","_resolveDirective","createVNode","_createVNode","Teleport","computed","defineComponent","onMounted","watch","onUnmounted","classNames","name","inheritAttrs","props","setup","_ref","attrs","slots","closeTimer","duration","undefined","startCloseTimer","value","setTimeout","close","clearCloseTimer","clearTimeout","e","stopPropagation","onClose","noticeKey","restartCloseTimer","updateMark","visible","_ref2","_ref3","_ref4","preDuration","preUpdateMark","preVisible","_ref5","newDuration","newUpdateMark","newVisible","flush","_a","_b","prefixCls","closable","_props$closeIcon","closeIcon","call","onClick","holder","className","class","style","componentClass","concat","dataOrAriaAttributeProps","Object","keys","reduce","acc","key","substr","node","default","_default"],"sources":["C:/Users/USTC/Desktop/community1/vue-web/node_modules/ant-design-vue/es/vc-notification/Notice.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nimport { Teleport, computed, defineComponent, onMounted, watch, onUnmounted } from 'vue';\nimport classNames from '../_util/classNames';\nexport default defineComponent({\n  name: 'Notice',\n  inheritAttrs: false,\n  props: ['prefixCls', 'duration', 'updateMark', 'noticeKey', 'closeIcon', 'closable', 'props', 'onClick', 'onClose', 'holder', 'visible'],\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n        slots = _ref.slots;\n    var closeTimer;\n    var duration = computed(function () {\n      return props.duration === undefined ? 1.5 : props.duration;\n    });\n\n    var startCloseTimer = function startCloseTimer() {\n      if (duration.value) {\n        closeTimer = setTimeout(function () {\n          close();\n        }, duration.value * 1000);\n      }\n    };\n\n    var clearCloseTimer = function clearCloseTimer() {\n      if (closeTimer) {\n        clearTimeout(closeTimer);\n        closeTimer = null;\n      }\n    };\n\n    var close = function close(e) {\n      if (e) {\n        e.stopPropagation();\n      }\n\n      clearCloseTimer();\n      var onClose = props.onClose,\n          noticeKey = props.noticeKey;\n\n      if (onClose) {\n        onClose(noticeKey);\n      }\n    };\n\n    var restartCloseTimer = function restartCloseTimer() {\n      clearCloseTimer();\n      startCloseTimer();\n    };\n\n    onMounted(function () {\n      startCloseTimer();\n    });\n    onUnmounted(function () {\n      clearCloseTimer();\n    });\n    watch([duration, function () {\n      return props.updateMark;\n    }, function () {\n      return props.visible;\n    }], function (_ref2, _ref3) {\n      var _ref4 = _slicedToArray(_ref2, 3),\n          preDuration = _ref4[0],\n          preUpdateMark = _ref4[1],\n          preVisible = _ref4[2];\n\n      var _ref5 = _slicedToArray(_ref3, 3),\n          newDuration = _ref5[0],\n          newUpdateMark = _ref5[1],\n          newVisible = _ref5[2];\n\n      if (preDuration !== newDuration || preUpdateMark !== newUpdateMark || preVisible !== newVisible && newVisible) {\n        restartCloseTimer();\n      }\n    }, {\n      flush: 'post'\n    });\n    return function () {\n      var _a, _b;\n\n      var prefixCls = props.prefixCls,\n          closable = props.closable,\n          _props$closeIcon = props.closeIcon,\n          closeIcon = _props$closeIcon === void 0 ? (_a = slots.closeIcon) === null || _a === void 0 ? void 0 : _a.call(slots) : _props$closeIcon,\n          onClick = props.onClick,\n          holder = props.holder;\n      var className = attrs.class,\n          style = attrs.style;\n      var componentClass = \"\".concat(prefixCls, \"-notice\");\n      var dataOrAriaAttributeProps = Object.keys(attrs).reduce(function (acc, key) {\n        if (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role') {\n          acc[key] = attrs[key];\n        }\n\n        return acc;\n      }, {});\n\n      var node = _createVNode(\"div\", _objectSpread({\n        \"class\": classNames(componentClass, className, _defineProperty({}, \"\".concat(componentClass, \"-closable\"), closable)),\n        \"style\": style,\n        \"onMouseenter\": clearCloseTimer,\n        \"onMouseleave\": startCloseTimer,\n        \"onClick\": onClick\n      }, dataOrAriaAttributeProps), [_createVNode(\"div\", {\n        \"class\": \"\".concat(componentClass, \"-content\")\n      }, [(_b = slots.default) === null || _b === void 0 ? void 0 : _b.call(slots)]), closable ? _createVNode(\"a\", {\n        \"tabindex\": 0,\n        \"onClick\": close,\n        \"class\": \"\".concat(componentClass, \"-close\")\n      }, [closeIcon || _createVNode(\"span\", {\n        \"class\": \"\".concat(componentClass, \"-close-x\")\n      }, null)]) : null]);\n\n      if (holder) {\n        return _createVNode(Teleport, {\n          \"to\": holder\n        }, {\n          default: function _default() {\n            return node;\n          }\n        });\n      }\n\n      return node;\n    };\n  }\n});"],"mappings":"AAAA,OAAOA,aAAP,MAA0B,0CAA1B;AACA,OAAOC,eAAP,MAA4B,2CAA5B;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,SAASC,gBAAgB,IAAIC,iBAA7B,EAAgDC,WAAW,IAAIC,YAA/D,QAAmF,KAAnF;AACA,SAASC,QAAT,EAAmBC,QAAnB,EAA6BC,eAA7B,EAA8CC,SAA9C,EAAyDC,KAAzD,EAAgEC,WAAhE,QAAmF,KAAnF;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,eAAeJ,eAAe,CAAC;EAC7BK,IAAI,EAAE,QADuB;EAE7BC,YAAY,EAAE,KAFe;EAG7BC,KAAK,EAAE,CAAC,WAAD,EAAc,UAAd,EAA0B,YAA1B,EAAwC,WAAxC,EAAqD,WAArD,EAAkE,UAAlE,EAA8E,OAA9E,EAAuF,SAAvF,EAAkG,SAAlG,EAA6G,QAA7G,EAAuH,SAAvH,CAHsB;EAI7BC,KAAK,EAAE,SAASA,KAAT,CAAeD,KAAf,EAAsBE,IAAtB,EAA4B;IACjC,IAAIC,KAAK,GAAGD,IAAI,CAACC,KAAjB;IAAA,IACIC,KAAK,GAAGF,IAAI,CAACE,KADjB;IAEA,IAAIC,UAAJ;IACA,IAAIC,QAAQ,GAAGd,QAAQ,CAAC,YAAY;MAClC,OAAOQ,KAAK,CAACM,QAAN,KAAmBC,SAAnB,GAA+B,GAA/B,GAAqCP,KAAK,CAACM,QAAlD;IACD,CAFsB,CAAvB;;IAIA,IAAIE,eAAe,GAAG,SAASA,eAAT,GAA2B;MAC/C,IAAIF,QAAQ,CAACG,KAAb,EAAoB;QAClBJ,UAAU,GAAGK,UAAU,CAAC,YAAY;UAClCC,KAAK;QACN,CAFsB,EAEpBL,QAAQ,CAACG,KAAT,GAAiB,IAFG,CAAvB;MAGD;IACF,CAND;;IAQA,IAAIG,eAAe,GAAG,SAASA,eAAT,GAA2B;MAC/C,IAAIP,UAAJ,EAAgB;QACdQ,YAAY,CAACR,UAAD,CAAZ;QACAA,UAAU,GAAG,IAAb;MACD;IACF,CALD;;IAOA,IAAIM,KAAK,GAAG,SAASA,KAAT,CAAeG,CAAf,EAAkB;MAC5B,IAAIA,CAAJ,EAAO;QACLA,CAAC,CAACC,eAAF;MACD;;MAEDH,eAAe;MACf,IAAII,OAAO,GAAGhB,KAAK,CAACgB,OAApB;MAAA,IACIC,SAAS,GAAGjB,KAAK,CAACiB,SADtB;;MAGA,IAAID,OAAJ,EAAa;QACXA,OAAO,CAACC,SAAD,CAAP;MACD;IACF,CAZD;;IAcA,IAAIC,iBAAiB,GAAG,SAASA,iBAAT,GAA6B;MACnDN,eAAe;MACfJ,eAAe;IAChB,CAHD;;IAKAd,SAAS,CAAC,YAAY;MACpBc,eAAe;IAChB,CAFQ,CAAT;IAGAZ,WAAW,CAAC,YAAY;MACtBgB,eAAe;IAChB,CAFU,CAAX;IAGAjB,KAAK,CAAC,CAACW,QAAD,EAAW,YAAY;MAC3B,OAAON,KAAK,CAACmB,UAAb;IACD,CAFK,EAEH,YAAY;MACb,OAAOnB,KAAK,CAACoB,OAAb;IACD,CAJK,CAAD,EAID,UAAUC,KAAV,EAAiBC,KAAjB,EAAwB;MAC1B,IAAIC,KAAK,GAAGrC,cAAc,CAACmC,KAAD,EAAQ,CAAR,CAA1B;MAAA,IACIG,WAAW,GAAGD,KAAK,CAAC,CAAD,CADvB;MAAA,IAEIE,aAAa,GAAGF,KAAK,CAAC,CAAD,CAFzB;MAAA,IAGIG,UAAU,GAAGH,KAAK,CAAC,CAAD,CAHtB;;MAKA,IAAII,KAAK,GAAGzC,cAAc,CAACoC,KAAD,EAAQ,CAAR,CAA1B;MAAA,IACIM,WAAW,GAAGD,KAAK,CAAC,CAAD,CADvB;MAAA,IAEIE,aAAa,GAAGF,KAAK,CAAC,CAAD,CAFzB;MAAA,IAGIG,UAAU,GAAGH,KAAK,CAAC,CAAD,CAHtB;;MAKA,IAAIH,WAAW,KAAKI,WAAhB,IAA+BH,aAAa,KAAKI,aAAjD,IAAkEH,UAAU,KAAKI,UAAf,IAA6BA,UAAnG,EAA+G;QAC7GZ,iBAAiB;MAClB;IACF,CAlBI,EAkBF;MACDa,KAAK,EAAE;IADN,CAlBE,CAAL;IAqBA,OAAO,YAAY;MACjB,IAAIC,EAAJ,EAAQC,EAAR;;MAEA,IAAIC,SAAS,GAAGlC,KAAK,CAACkC,SAAtB;MAAA,IACIC,QAAQ,GAAGnC,KAAK,CAACmC,QADrB;MAAA,IAEIC,gBAAgB,GAAGpC,KAAK,CAACqC,SAF7B;MAAA,IAGIA,SAAS,GAAGD,gBAAgB,KAAK,KAAK,CAA1B,GAA8B,CAACJ,EAAE,GAAG5B,KAAK,CAACiC,SAAZ,MAA2B,IAA3B,IAAmCL,EAAE,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,EAAE,CAACM,IAAH,CAAQlC,KAAR,CAA1F,GAA2GgC,gBAH3H;MAAA,IAIIG,OAAO,GAAGvC,KAAK,CAACuC,OAJpB;MAAA,IAKIC,MAAM,GAAGxC,KAAK,CAACwC,MALnB;MAMA,IAAIC,SAAS,GAAGtC,KAAK,CAACuC,KAAtB;MAAA,IACIC,KAAK,GAAGxC,KAAK,CAACwC,KADlB;MAEA,IAAIC,cAAc,GAAG,GAAGC,MAAH,CAAUX,SAAV,EAAqB,SAArB,CAArB;MACA,IAAIY,wBAAwB,GAAGC,MAAM,CAACC,IAAP,CAAY7C,KAAZ,EAAmB8C,MAAnB,CAA0B,UAAUC,GAAV,EAAeC,GAAf,EAAoB;QAC3E,IAAIA,GAAG,CAACC,MAAJ,CAAW,CAAX,EAAc,CAAd,MAAqB,OAArB,IAAgCD,GAAG,CAACC,MAAJ,CAAW,CAAX,EAAc,CAAd,MAAqB,OAArD,IAAgED,GAAG,KAAK,MAA5E,EAAoF;UAClFD,GAAG,CAACC,GAAD,CAAH,GAAWhD,KAAK,CAACgD,GAAD,CAAhB;QACD;;QAED,OAAOD,GAAP;MACD,CAN8B,EAM5B,EAN4B,CAA/B;;MAQA,IAAIG,IAAI,GAAG/D,YAAY,CAAC,KAAD,EAAQN,aAAa,CAAC;QAC3C,SAASa,UAAU,CAAC+C,cAAD,EAAiBH,SAAjB,EAA4BxD,eAAe,CAAC,EAAD,EAAK,GAAG4D,MAAH,CAAUD,cAAV,EAA0B,WAA1B,CAAL,EAA6CT,QAA7C,CAA3C,CADwB;QAE3C,SAASQ,KAFkC;QAG3C,gBAAgB/B,eAH2B;QAI3C,gBAAgBJ,eAJ2B;QAK3C,WAAW+B;MALgC,CAAD,EAMzCO,wBANyC,CAArB,EAMO,CAACxD,YAAY,CAAC,KAAD,EAAQ;QACjD,SAAS,GAAGuD,MAAH,CAAUD,cAAV,EAA0B,UAA1B;MADwC,CAAR,EAExC,CAAC,CAACX,EAAE,GAAG7B,KAAK,CAACkD,OAAZ,MAAyB,IAAzB,IAAiCrB,EAAE,KAAK,KAAK,CAA7C,GAAiD,KAAK,CAAtD,GAA0DA,EAAE,CAACK,IAAH,CAAQlC,KAAR,CAA3D,CAFwC,CAAb,EAEkD+B,QAAQ,GAAG7C,YAAY,CAAC,GAAD,EAAM;QAC3G,YAAY,CAD+F;QAE3G,WAAWqB,KAFgG;QAG3G,SAAS,GAAGkC,MAAH,CAAUD,cAAV,EAA0B,QAA1B;MAHkG,CAAN,EAIpG,CAACP,SAAS,IAAI/C,YAAY,CAAC,MAAD,EAAS;QACpC,SAAS,GAAGuD,MAAH,CAAUD,cAAV,EAA0B,UAA1B;MAD2B,CAAT,EAE1B,IAF0B,CAA1B,CAJoG,CAAf,GAM3E,IARiB,CANP,CAAvB;;MAgBA,IAAIJ,MAAJ,EAAY;QACV,OAAOlD,YAAY,CAACC,QAAD,EAAW;UAC5B,MAAMiD;QADsB,CAAX,EAEhB;UACDc,OAAO,EAAE,SAASC,QAAT,GAAoB;YAC3B,OAAOF,IAAP;UACD;QAHA,CAFgB,CAAnB;MAOD;;MAED,OAAOA,IAAP;IACD,CA/CD;EAgDD;AAzH4B,CAAD,CAA9B"},"metadata":{},"sourceType":"module"}