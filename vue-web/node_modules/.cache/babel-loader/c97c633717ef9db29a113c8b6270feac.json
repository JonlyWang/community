{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { shallowRef, computed } from 'vue';\n/**\n * Cache `value` related LabeledValue & options.\n */\n\nexport default (function (labeledValues, valueOptions) {\n  var cacheRef = shallowRef({\n    values: new Map(),\n    options: new Map()\n  });\n  var filledLabeledValues = computed(function () {\n    var _cacheRef$value = cacheRef.value,\n        prevValueCache = _cacheRef$value.values,\n        prevOptionCache = _cacheRef$value.options; // Fill label by cache\n\n    var patchedValues = labeledValues.value.map(function (item) {\n      var _a;\n\n      if (item.label === undefined) {\n        return _extends(_extends({}, item), {\n          label: (_a = prevValueCache.get(item.value)) === null || _a === void 0 ? void 0 : _a.label\n        });\n      }\n\n      return item;\n    }); // Refresh cache\n\n    var valueCache = new Map();\n    var optionCache = new Map();\n    patchedValues.forEach(function (item) {\n      valueCache.set(item.value, item);\n      optionCache.set(item.value, valueOptions.value.get(item.value) || prevOptionCache.get(item.value));\n    });\n    cacheRef.value.values = valueCache;\n    cacheRef.value.options = optionCache;\n    return patchedValues;\n  });\n\n  var getOption = function getOption(val) {\n    return valueOptions.value.get(val) || cacheRef.value.options.get(val);\n  };\n\n  return [filledLabeledValues, getOption];\n});","map":{"version":3,"names":["_extends","shallowRef","computed","labeledValues","valueOptions","cacheRef","values","Map","options","filledLabeledValues","_cacheRef$value","value","prevValueCache","prevOptionCache","patchedValues","map","item","_a","label","undefined","get","valueCache","optionCache","forEach","set","getOption","val"],"sources":["C:/Users/USTC/Desktop/community1/vue-web/node_modules/ant-design-vue/es/vc-select/hooks/useCache.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { shallowRef, computed } from 'vue';\n/**\n * Cache `value` related LabeledValue & options.\n */\n\nexport default (function (labeledValues, valueOptions) {\n  var cacheRef = shallowRef({\n    values: new Map(),\n    options: new Map()\n  });\n  var filledLabeledValues = computed(function () {\n    var _cacheRef$value = cacheRef.value,\n        prevValueCache = _cacheRef$value.values,\n        prevOptionCache = _cacheRef$value.options; // Fill label by cache\n\n    var patchedValues = labeledValues.value.map(function (item) {\n      var _a;\n\n      if (item.label === undefined) {\n        return _extends(_extends({}, item), {\n          label: (_a = prevValueCache.get(item.value)) === null || _a === void 0 ? void 0 : _a.label\n        });\n      }\n\n      return item;\n    }); // Refresh cache\n\n    var valueCache = new Map();\n    var optionCache = new Map();\n    patchedValues.forEach(function (item) {\n      valueCache.set(item.value, item);\n      optionCache.set(item.value, valueOptions.value.get(item.value) || prevOptionCache.get(item.value));\n    });\n    cacheRef.value.values = valueCache;\n    cacheRef.value.options = optionCache;\n    return patchedValues;\n  });\n\n  var getOption = function getOption(val) {\n    return valueOptions.value.get(val) || cacheRef.value.options.get(val);\n  };\n\n  return [filledLabeledValues, getOption];\n});"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,oCAArB;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,KAArC;AACA;AACA;AACA;;AAEA,gBAAgB,UAAUC,aAAV,EAAyBC,YAAzB,EAAuC;EACrD,IAAIC,QAAQ,GAAGJ,UAAU,CAAC;IACxBK,MAAM,EAAE,IAAIC,GAAJ,EADgB;IAExBC,OAAO,EAAE,IAAID,GAAJ;EAFe,CAAD,CAAzB;EAIA,IAAIE,mBAAmB,GAAGP,QAAQ,CAAC,YAAY;IAC7C,IAAIQ,eAAe,GAAGL,QAAQ,CAACM,KAA/B;IAAA,IACIC,cAAc,GAAGF,eAAe,CAACJ,MADrC;IAAA,IAEIO,eAAe,GAAGH,eAAe,CAACF,OAFtC,CAD6C,CAGE;;IAE/C,IAAIM,aAAa,GAAGX,aAAa,CAACQ,KAAd,CAAoBI,GAApB,CAAwB,UAAUC,IAAV,EAAgB;MAC1D,IAAIC,EAAJ;;MAEA,IAAID,IAAI,CAACE,KAAL,KAAeC,SAAnB,EAA8B;QAC5B,OAAOnB,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKgB,IAAL,CAAT,EAAqB;UAClCE,KAAK,EAAE,CAACD,EAAE,GAAGL,cAAc,CAACQ,GAAf,CAAmBJ,IAAI,CAACL,KAAxB,CAAN,MAA0C,IAA1C,IAAkDM,EAAE,KAAK,KAAK,CAA9D,GAAkE,KAAK,CAAvE,GAA2EA,EAAE,CAACC;QADnD,CAArB,CAAf;MAGD;;MAED,OAAOF,IAAP;IACD,CAVmB,CAApB,CAL6C,CAezC;;IAEJ,IAAIK,UAAU,GAAG,IAAId,GAAJ,EAAjB;IACA,IAAIe,WAAW,GAAG,IAAIf,GAAJ,EAAlB;IACAO,aAAa,CAACS,OAAd,CAAsB,UAAUP,IAAV,EAAgB;MACpCK,UAAU,CAACG,GAAX,CAAeR,IAAI,CAACL,KAApB,EAA2BK,IAA3B;MACAM,WAAW,CAACE,GAAZ,CAAgBR,IAAI,CAACL,KAArB,EAA4BP,YAAY,CAACO,KAAb,CAAmBS,GAAnB,CAAuBJ,IAAI,CAACL,KAA5B,KAAsCE,eAAe,CAACO,GAAhB,CAAoBJ,IAAI,CAACL,KAAzB,CAAlE;IACD,CAHD;IAIAN,QAAQ,CAACM,KAAT,CAAeL,MAAf,GAAwBe,UAAxB;IACAhB,QAAQ,CAACM,KAAT,CAAeH,OAAf,GAAyBc,WAAzB;IACA,OAAOR,aAAP;EACD,CA1BiC,CAAlC;;EA4BA,IAAIW,SAAS,GAAG,SAASA,SAAT,CAAmBC,GAAnB,EAAwB;IACtC,OAAOtB,YAAY,CAACO,KAAb,CAAmBS,GAAnB,CAAuBM,GAAvB,KAA+BrB,QAAQ,CAACM,KAAT,CAAeH,OAAf,CAAuBY,GAAvB,CAA2BM,GAA3B,CAAtC;EACD,CAFD;;EAIA,OAAO,CAACjB,mBAAD,EAAsBgB,SAAtB,CAAP;AACD,CAtCD"},"metadata":{},"sourceType":"module"}