{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport isMobile from '../../vc-util/isMobile';\nimport { onBeforeUnmount, ref, defineComponent } from 'vue';\nimport classNames from '../../_util/classNames';\n/**\n * When click and hold on a button - the speed of auto changing the value.\n */\n\nvar STEP_INTERVAL = 200;\n/**\n * When click and hold on a button - the delay before auto changing the value.\n */\n\nvar STEP_DELAY = 600;\nexport default defineComponent({\n  name: 'StepHandler',\n  inheritAttrs: false,\n  props: {\n    prefixCls: String,\n    upDisabled: Boolean,\n    downDisabled: Boolean,\n    onStep: {\n      type: Function\n    }\n  },\n  slots: ['upNode', 'downNode'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n        emit = _ref.emit;\n    var stepTimeoutRef = ref(); // We will interval update step when hold mouse down\n\n    var onStepMouseDown = function onStepMouseDown(e, up) {\n      e.preventDefault();\n      emit('step', up); // Loop step for interval\n\n      function loopStep() {\n        emit('step', up);\n        stepTimeoutRef.value = setTimeout(loopStep, STEP_INTERVAL);\n      } // First time press will wait some time to trigger loop step update\n\n\n      stepTimeoutRef.value = setTimeout(loopStep, STEP_DELAY);\n    };\n\n    var onStopStep = function onStopStep() {\n      clearTimeout(stepTimeoutRef.value);\n    };\n\n    onBeforeUnmount(function () {\n      onStopStep();\n    });\n    return function () {\n      if (isMobile()) {\n        return null;\n      }\n\n      var prefixCls = props.prefixCls,\n          upDisabled = props.upDisabled,\n          downDisabled = props.downDisabled;\n      var handlerClassName = \"\".concat(prefixCls, \"-handler\");\n      var upClassName = classNames(handlerClassName, \"\".concat(handlerClassName, \"-up\"), _defineProperty({}, \"\".concat(handlerClassName, \"-up-disabled\"), upDisabled));\n      var downClassName = classNames(handlerClassName, \"\".concat(handlerClassName, \"-down\"), _defineProperty({}, \"\".concat(handlerClassName, \"-down-disabled\"), downDisabled));\n      var sharedHandlerProps = {\n        unselectable: 'on',\n        role: 'button',\n        onMouseup: onStopStep,\n        onMouseleave: onStopStep\n      };\n      var upNode = slots.upNode,\n          downNode = slots.downNode;\n      return _createVNode(\"div\", {\n        \"class\": \"\".concat(handlerClassName, \"-wrap\")\n      }, [_createVNode(\"span\", _objectSpread(_objectSpread({}, sharedHandlerProps), {}, {\n        \"onMousedown\": function onMousedown(e) {\n          onStepMouseDown(e, true);\n        },\n        \"aria-label\": \"Increase Value\",\n        \"aria-disabled\": upDisabled,\n        \"class\": upClassName\n      }), [(upNode === null || upNode === void 0 ? void 0 : upNode()) || _createVNode(\"span\", {\n        \"unselectable\": \"on\",\n        \"class\": \"\".concat(prefixCls, \"-handler-up-inner\")\n      }, null)]), _createVNode(\"span\", _objectSpread(_objectSpread({}, sharedHandlerProps), {}, {\n        \"onMousedown\": function onMousedown(e) {\n          onStepMouseDown(e, false);\n        },\n        \"aria-label\": \"Decrease Value\",\n        \"aria-disabled\": downDisabled,\n        \"class\": downClassName\n      }), [(downNode === null || downNode === void 0 ? void 0 : downNode()) || _createVNode(\"span\", {\n        \"unselectable\": \"on\",\n        \"class\": \"\".concat(prefixCls, \"-handler-down-inner\")\n      }, null)])]);\n    };\n  }\n});","map":{"version":3,"names":["_objectSpread","_defineProperty","createVNode","_createVNode","isMobile","onBeforeUnmount","ref","defineComponent","classNames","STEP_INTERVAL","STEP_DELAY","name","inheritAttrs","props","prefixCls","String","upDisabled","Boolean","downDisabled","onStep","type","Function","slots","setup","_ref","emit","stepTimeoutRef","onStepMouseDown","e","up","preventDefault","loopStep","value","setTimeout","onStopStep","clearTimeout","handlerClassName","concat","upClassName","downClassName","sharedHandlerProps","unselectable","role","onMouseup","onMouseleave","upNode","downNode","onMousedown"],"sources":["C:/Users/USTC/Desktop/community1/vue-web/node_modules/ant-design-vue/es/input-number/src/StepHandler.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport isMobile from '../../vc-util/isMobile';\nimport { onBeforeUnmount, ref, defineComponent } from 'vue';\nimport classNames from '../../_util/classNames';\n/**\n * When click and hold on a button - the speed of auto changing the value.\n */\n\nvar STEP_INTERVAL = 200;\n/**\n * When click and hold on a button - the delay before auto changing the value.\n */\n\nvar STEP_DELAY = 600;\nexport default defineComponent({\n  name: 'StepHandler',\n  inheritAttrs: false,\n  props: {\n    prefixCls: String,\n    upDisabled: Boolean,\n    downDisabled: Boolean,\n    onStep: {\n      type: Function\n    }\n  },\n  slots: ['upNode', 'downNode'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n        emit = _ref.emit;\n    var stepTimeoutRef = ref(); // We will interval update step when hold mouse down\n\n    var onStepMouseDown = function onStepMouseDown(e, up) {\n      e.preventDefault();\n      emit('step', up); // Loop step for interval\n\n      function loopStep() {\n        emit('step', up);\n        stepTimeoutRef.value = setTimeout(loopStep, STEP_INTERVAL);\n      } // First time press will wait some time to trigger loop step update\n\n\n      stepTimeoutRef.value = setTimeout(loopStep, STEP_DELAY);\n    };\n\n    var onStopStep = function onStopStep() {\n      clearTimeout(stepTimeoutRef.value);\n    };\n\n    onBeforeUnmount(function () {\n      onStopStep();\n    });\n    return function () {\n      if (isMobile()) {\n        return null;\n      }\n\n      var prefixCls = props.prefixCls,\n          upDisabled = props.upDisabled,\n          downDisabled = props.downDisabled;\n      var handlerClassName = \"\".concat(prefixCls, \"-handler\");\n      var upClassName = classNames(handlerClassName, \"\".concat(handlerClassName, \"-up\"), _defineProperty({}, \"\".concat(handlerClassName, \"-up-disabled\"), upDisabled));\n      var downClassName = classNames(handlerClassName, \"\".concat(handlerClassName, \"-down\"), _defineProperty({}, \"\".concat(handlerClassName, \"-down-disabled\"), downDisabled));\n      var sharedHandlerProps = {\n        unselectable: 'on',\n        role: 'button',\n        onMouseup: onStopStep,\n        onMouseleave: onStopStep\n      };\n      var upNode = slots.upNode,\n          downNode = slots.downNode;\n      return _createVNode(\"div\", {\n        \"class\": \"\".concat(handlerClassName, \"-wrap\")\n      }, [_createVNode(\"span\", _objectSpread(_objectSpread({}, sharedHandlerProps), {}, {\n        \"onMousedown\": function onMousedown(e) {\n          onStepMouseDown(e, true);\n        },\n        \"aria-label\": \"Increase Value\",\n        \"aria-disabled\": upDisabled,\n        \"class\": upClassName\n      }), [(upNode === null || upNode === void 0 ? void 0 : upNode()) || _createVNode(\"span\", {\n        \"unselectable\": \"on\",\n        \"class\": \"\".concat(prefixCls, \"-handler-up-inner\")\n      }, null)]), _createVNode(\"span\", _objectSpread(_objectSpread({}, sharedHandlerProps), {}, {\n        \"onMousedown\": function onMousedown(e) {\n          onStepMouseDown(e, false);\n        },\n        \"aria-label\": \"Decrease Value\",\n        \"aria-disabled\": downDisabled,\n        \"class\": downClassName\n      }), [(downNode === null || downNode === void 0 ? void 0 : downNode()) || _createVNode(\"span\", {\n        \"unselectable\": \"on\",\n        \"class\": \"\".concat(prefixCls, \"-handler-down-inner\")\n      }, null)])]);\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}