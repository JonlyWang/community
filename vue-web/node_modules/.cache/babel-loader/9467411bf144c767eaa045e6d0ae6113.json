{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport Dialog from './Dialog';\nimport getDialogPropTypes from './IDialogPropTypes';\nimport Portal from '../_util/PortalWrapper';\nimport { defineComponent, ref, watch } from 'vue';\nimport { useProvidePortal } from '../vc-trigger/context';\nimport { initDefaultProps } from '../_util/props-util';\nvar IDialogPropTypes = getDialogPropTypes();\nvar DialogWrap = defineComponent({\n  name: 'DialogWrap',\n  inheritAttrs: false,\n  props: initDefaultProps(IDialogPropTypes, {\n    visible: false\n  }),\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n        slots = _ref.slots;\n    var animatedVisible = ref(props.visible);\n    useProvidePortal({}, {\n      inTriggerContext: false\n    });\n    watch(function () {\n      return props.visible;\n    }, function () {\n      if (props.visible) {\n        animatedVisible.value = true;\n      }\n    }, {\n      flush: 'post'\n    });\n    return function () {\n      var visible = props.visible,\n          getContainer = props.getContainer,\n          forceRender = props.forceRender,\n          _props$destroyOnClose = props.destroyOnClose,\n          destroyOnClose = _props$destroyOnClose === void 0 ? false : _props$destroyOnClose,\n          _afterClose = props.afterClose;\n\n      var dialogProps = _extends(_extends(_extends({}, props), attrs), {\n        ref: '_component',\n        key: 'dialog'\n      }); // 渲染在当前 dom 里；\n\n\n      if (getContainer === false) {\n        return _createVNode(Dialog, _objectSpread(_objectSpread({}, dialogProps), {}, {\n          \"getOpenCount\": function getOpenCount() {\n            return 2;\n          }\n        }), slots);\n      } // Destroy on close will remove wrapped div\n\n\n      if (!forceRender && destroyOnClose && !animatedVisible.value) {\n        return null;\n      }\n\n      return _createVNode(Portal, {\n        \"visible\": visible,\n        \"forceRender\": forceRender,\n        \"getContainer\": getContainer\n      }, {\n        default: function _default(childProps) {\n          dialogProps = _extends(_extends(_extends({}, dialogProps), childProps), {\n            afterClose: function afterClose() {\n              _afterClose === null || _afterClose === void 0 ? void 0 : _afterClose();\n              animatedVisible.value = false;\n            }\n          });\n          return _createVNode(Dialog, dialogProps, slots);\n        }\n      });\n    };\n  }\n});\nexport default DialogWrap;","map":{"version":3,"names":["_objectSpread","_extends","createVNode","_createVNode","resolveDirective","_resolveDirective","Dialog","getDialogPropTypes","Portal","defineComponent","ref","watch","useProvidePortal","initDefaultProps","IDialogPropTypes","DialogWrap","name","inheritAttrs","props","visible","setup","_ref","attrs","slots","animatedVisible","inTriggerContext","value","flush","getContainer","forceRender","_props$destroyOnClose","destroyOnClose","_afterClose","afterClose","dialogProps","key","getOpenCount","default","_default","childProps"],"sources":["/home/ubuntu/community/vue-web/node_modules/ant-design-vue/es/vc-dialog/DialogWrap.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport Dialog from './Dialog';\nimport getDialogPropTypes from './IDialogPropTypes';\nimport Portal from '../_util/PortalWrapper';\nimport { defineComponent, ref, watch } from 'vue';\nimport { useProvidePortal } from '../vc-trigger/context';\nimport { initDefaultProps } from '../_util/props-util';\nvar IDialogPropTypes = getDialogPropTypes();\nvar DialogWrap = defineComponent({\n  name: 'DialogWrap',\n  inheritAttrs: false,\n  props: initDefaultProps(IDialogPropTypes, {\n    visible: false\n  }),\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n        slots = _ref.slots;\n    var animatedVisible = ref(props.visible);\n    useProvidePortal({}, {\n      inTriggerContext: false\n    });\n    watch(function () {\n      return props.visible;\n    }, function () {\n      if (props.visible) {\n        animatedVisible.value = true;\n      }\n    }, {\n      flush: 'post'\n    });\n    return function () {\n      var visible = props.visible,\n          getContainer = props.getContainer,\n          forceRender = props.forceRender,\n          _props$destroyOnClose = props.destroyOnClose,\n          destroyOnClose = _props$destroyOnClose === void 0 ? false : _props$destroyOnClose,\n          _afterClose = props.afterClose;\n\n      var dialogProps = _extends(_extends(_extends({}, props), attrs), {\n        ref: '_component',\n        key: 'dialog'\n      }); // 渲染在当前 dom 里；\n\n\n      if (getContainer === false) {\n        return _createVNode(Dialog, _objectSpread(_objectSpread({}, dialogProps), {}, {\n          \"getOpenCount\": function getOpenCount() {\n            return 2;\n          }\n        }), slots);\n      } // Destroy on close will remove wrapped div\n\n\n      if (!forceRender && destroyOnClose && !animatedVisible.value) {\n        return null;\n      }\n\n      return _createVNode(Portal, {\n        \"visible\": visible,\n        \"forceRender\": forceRender,\n        \"getContainer\": getContainer\n      }, {\n        default: function _default(childProps) {\n          dialogProps = _extends(_extends(_extends({}, dialogProps), childProps), {\n            afterClose: function afterClose() {\n              _afterClose === null || _afterClose === void 0 ? void 0 : _afterClose();\n              animatedVisible.value = false;\n            }\n          });\n          return _createVNode(Dialog, dialogProps, slots);\n        }\n      });\n    };\n  }\n});\nexport default DialogWrap;"],"mappings":"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"},"metadata":{},"sourceType":"module"}