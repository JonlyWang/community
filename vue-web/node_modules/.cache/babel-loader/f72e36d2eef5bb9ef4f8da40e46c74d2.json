{"ast":null,"code":"import { isCheckDisabled } from './valueUtil';\nexport var SHOW_ALL = 'SHOW_ALL';\nexport var SHOW_PARENT = 'SHOW_PARENT';\nexport var SHOW_CHILD = 'SHOW_CHILD';\nexport function formatStrategyValues(values, strategy, keyEntities, fieldNames) {\n  var valueSet = new Set(values);\n\n  if (strategy === SHOW_CHILD) {\n    return values.filter(function (key) {\n      var entity = keyEntities[key];\n\n      if (entity && entity.children && entity.children.some(function (_ref) {\n        var node = _ref.node;\n        return valueSet.has(node[fieldNames.value]);\n      }) && entity.children.every(function (_ref2) {\n        var node = _ref2.node;\n        return isCheckDisabled(node) || valueSet.has(node[fieldNames.value]);\n      })) {\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  if (strategy === SHOW_PARENT) {\n    return values.filter(function (key) {\n      var entity = keyEntities[key];\n      var parent = entity ? entity.parent : null;\n\n      if (parent && !isCheckDisabled(parent.node) && valueSet.has(parent.key)) {\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  return values;\n}","map":{"version":3,"names":["isCheckDisabled","SHOW_ALL","SHOW_PARENT","SHOW_CHILD","formatStrategyValues","values","strategy","keyEntities","fieldNames","valueSet","Set","filter","key","entity","children","some","_ref","node","has","value","every","_ref2","parent"],"sources":["C:/Users/USTC/Desktop/community1/vue-web/node_modules/ant-design-vue/es/vc-tree-select/utils/strategyUtil.js"],"sourcesContent":["import { isCheckDisabled } from './valueUtil';\nexport var SHOW_ALL = 'SHOW_ALL';\nexport var SHOW_PARENT = 'SHOW_PARENT';\nexport var SHOW_CHILD = 'SHOW_CHILD';\nexport function formatStrategyValues(values, strategy, keyEntities, fieldNames) {\n  var valueSet = new Set(values);\n\n  if (strategy === SHOW_CHILD) {\n    return values.filter(function (key) {\n      var entity = keyEntities[key];\n\n      if (entity && entity.children && entity.children.some(function (_ref) {\n        var node = _ref.node;\n        return valueSet.has(node[fieldNames.value]);\n      }) && entity.children.every(function (_ref2) {\n        var node = _ref2.node;\n        return isCheckDisabled(node) || valueSet.has(node[fieldNames.value]);\n      })) {\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  if (strategy === SHOW_PARENT) {\n    return values.filter(function (key) {\n      var entity = keyEntities[key];\n      var parent = entity ? entity.parent : null;\n\n      if (parent && !isCheckDisabled(parent.node) && valueSet.has(parent.key)) {\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  return values;\n}"],"mappings":"AAAA,SAASA,eAAT,QAAgC,aAAhC;AACA,OAAO,IAAIC,QAAQ,GAAG,UAAf;AACP,OAAO,IAAIC,WAAW,GAAG,aAAlB;AACP,OAAO,IAAIC,UAAU,GAAG,YAAjB;AACP,OAAO,SAASC,oBAAT,CAA8BC,MAA9B,EAAsCC,QAAtC,EAAgDC,WAAhD,EAA6DC,UAA7D,EAAyE;EAC9E,IAAIC,QAAQ,GAAG,IAAIC,GAAJ,CAAQL,MAAR,CAAf;;EAEA,IAAIC,QAAQ,KAAKH,UAAjB,EAA6B;IAC3B,OAAOE,MAAM,CAACM,MAAP,CAAc,UAAUC,GAAV,EAAe;MAClC,IAAIC,MAAM,GAAGN,WAAW,CAACK,GAAD,CAAxB;;MAEA,IAAIC,MAAM,IAAIA,MAAM,CAACC,QAAjB,IAA6BD,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqB,UAAUC,IAAV,EAAgB;QACpE,IAAIC,IAAI,GAAGD,IAAI,CAACC,IAAhB;QACA,OAAOR,QAAQ,CAACS,GAAT,CAAaD,IAAI,CAACT,UAAU,CAACW,KAAZ,CAAjB,CAAP;MACD,CAHgC,CAA7B,IAGEN,MAAM,CAACC,QAAP,CAAgBM,KAAhB,CAAsB,UAAUC,KAAV,EAAiB;QAC3C,IAAIJ,IAAI,GAAGI,KAAK,CAACJ,IAAjB;QACA,OAAOjB,eAAe,CAACiB,IAAD,CAAf,IAAyBR,QAAQ,CAACS,GAAT,CAAaD,IAAI,CAACT,UAAU,CAACW,KAAZ,CAAjB,CAAhC;MACD,CAHK,CAHN,EAMI;QACF,OAAO,KAAP;MACD;;MAED,OAAO,IAAP;IACD,CAdM,CAAP;EAeD;;EAED,IAAIb,QAAQ,KAAKJ,WAAjB,EAA8B;IAC5B,OAAOG,MAAM,CAACM,MAAP,CAAc,UAAUC,GAAV,EAAe;MAClC,IAAIC,MAAM,GAAGN,WAAW,CAACK,GAAD,CAAxB;MACA,IAAIU,MAAM,GAAGT,MAAM,GAAGA,MAAM,CAACS,MAAV,GAAmB,IAAtC;;MAEA,IAAIA,MAAM,IAAI,CAACtB,eAAe,CAACsB,MAAM,CAACL,IAAR,CAA1B,IAA2CR,QAAQ,CAACS,GAAT,CAAaI,MAAM,CAACV,GAApB,CAA/C,EAAyE;QACvE,OAAO,KAAP;MACD;;MAED,OAAO,IAAP;IACD,CATM,CAAP;EAUD;;EAED,OAAOP,MAAP;AACD"},"metadata":{},"sourceType":"module"}