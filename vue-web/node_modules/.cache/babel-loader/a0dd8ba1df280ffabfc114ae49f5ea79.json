{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { onMounted, getCurrentInstance, watch, onBeforeUnmount, ref, nextTick, defineComponent, withDirectives } from 'vue';\nimport ResizeObserver from '../vc-resize-observer';\nimport classNames from '../_util/classNames';\nimport calculateNodeHeight from './calculateNodeHeight';\nimport raf from '../_util/raf';\nimport warning from '../_util/warning';\nimport antInput from '../_util/antInputDirective';\nimport omit from '../_util/omit';\nimport { textAreaProps } from './inputProps';\nvar RESIZE_STATUS_NONE = 0;\nvar RESIZE_STATUS_RESIZING = 1;\nvar RESIZE_STATUS_RESIZED = 2;\nvar ResizableTextArea = defineComponent({\n  name: 'ResizableTextArea',\n  inheritAttrs: false,\n  props: textAreaProps(),\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n        emit = _ref.emit,\n        expose = _ref.expose;\n    var nextFrameActionId;\n    var resizeFrameId;\n    var textAreaRef = ref();\n    var textareaStyles = ref({});\n    var resizeStatus = ref(RESIZE_STATUS_NONE);\n    onBeforeUnmount(function () {\n      raf.cancel(nextFrameActionId);\n      raf.cancel(resizeFrameId);\n    }); // https://github.com/ant-design/ant-design/issues/21870\n\n    var fixFirefoxAutoScroll = function fixFirefoxAutoScroll() {\n      try {\n        if (document.activeElement === textAreaRef.value) {\n          var currentStart = textAreaRef.value.selectionStart;\n          var currentEnd = textAreaRef.value.selectionEnd;\n          textAreaRef.value.setSelectionRange(currentStart, currentEnd);\n        }\n      } catch (e) {// Fix error in Chrome:\n        // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n        // http://stackoverflow.com/q/21177489/3040605\n      }\n    };\n\n    var resizeTextarea = function resizeTextarea() {\n      var autoSize = props.autoSize || props.autosize;\n\n      if (!autoSize || !textAreaRef.value) {\n        return;\n      }\n\n      var minRows = autoSize.minRows,\n          maxRows = autoSize.maxRows;\n      textareaStyles.value = calculateNodeHeight(textAreaRef.value, false, minRows, maxRows);\n      resizeStatus.value = RESIZE_STATUS_RESIZING;\n      raf.cancel(resizeFrameId);\n      resizeFrameId = raf(function () {\n        resizeStatus.value = RESIZE_STATUS_RESIZED;\n        resizeFrameId = raf(function () {\n          resizeStatus.value = RESIZE_STATUS_NONE;\n          fixFirefoxAutoScroll();\n        });\n      });\n    };\n\n    var resizeOnNextFrame = function resizeOnNextFrame() {\n      raf.cancel(nextFrameActionId);\n      nextFrameActionId = raf(resizeTextarea);\n    };\n\n    var handleResize = function handleResize(size) {\n      if (resizeStatus.value !== RESIZE_STATUS_NONE) {\n        return;\n      }\n\n      emit('resize', size);\n      var autoSize = props.autoSize || props.autosize;\n\n      if (autoSize) {\n        resizeOnNextFrame();\n      }\n    };\n\n    warning(props.autosize === undefined, 'Input.TextArea', 'autosize is deprecated, please use autoSize instead.');\n\n    var renderTextArea = function renderTextArea() {\n      var prefixCls = props.prefixCls,\n          autoSize = props.autoSize,\n          autosize = props.autosize,\n          disabled = props.disabled;\n      var otherProps = omit(props, ['prefixCls', 'onPressEnter', 'autoSize', 'autosize', 'defaultValue', 'allowClear', 'type', 'lazy', 'maxlength', 'valueModifiers']);\n      var cls = classNames(prefixCls, attrs.class, _defineProperty({}, \"\".concat(prefixCls, \"-disabled\"), disabled));\n      var style = [attrs.style, textareaStyles.value, resizeStatus.value === RESIZE_STATUS_RESIZING ? {\n        overflowX: 'hidden',\n        overflowY: 'hidden'\n      } : null];\n\n      var textareaProps = _extends(_extends(_extends({}, otherProps), attrs), {\n        style: style,\n        class: cls\n      });\n\n      if (!textareaProps.autofocus) {\n        delete textareaProps.autofocus;\n      }\n\n      if (textareaProps.rows === 0) {\n        delete textareaProps.rows;\n      }\n\n      return _createVNode(ResizeObserver, {\n        \"onResize\": handleResize,\n        \"disabled\": !(autoSize || autosize)\n      }, {\n        default: function _default() {\n          return [withDirectives(_createVNode(\"textarea\", _objectSpread(_objectSpread({}, textareaProps), {}, {\n            \"ref\": textAreaRef\n          }), null), [[antInput]])];\n        }\n      });\n    };\n\n    watch(function () {\n      return props.value;\n    }, function () {\n      nextTick(function () {\n        resizeTextarea();\n      });\n    });\n    onMounted(function () {\n      nextTick(function () {\n        resizeTextarea();\n      });\n    });\n    var instance = getCurrentInstance();\n    expose({\n      resizeTextarea: resizeTextarea,\n      textArea: textAreaRef,\n      instance: instance\n    });\n    return function () {\n      return renderTextArea();\n    };\n  }\n});\nexport default ResizableTextArea;","map":{"version":3,"names":["_objectSpread","_extends","_defineProperty","createVNode","_createVNode","onMounted","getCurrentInstance","watch","onBeforeUnmount","ref","nextTick","defineComponent","withDirectives","ResizeObserver","classNames","calculateNodeHeight","raf","warning","antInput","omit","textAreaProps","RESIZE_STATUS_NONE","RESIZE_STATUS_RESIZING","RESIZE_STATUS_RESIZED","ResizableTextArea","name","inheritAttrs","props","setup","_ref","attrs","emit","expose","nextFrameActionId","resizeFrameId","textAreaRef","textareaStyles","resizeStatus","cancel","fixFirefoxAutoScroll","document","activeElement","value","currentStart","selectionStart","currentEnd","selectionEnd","setSelectionRange","e","resizeTextarea","autoSize","autosize","minRows","maxRows","resizeOnNextFrame","handleResize","size","undefined","renderTextArea","prefixCls","disabled","otherProps","cls","class","concat","style","overflowX","overflowY","textareaProps","autofocus","rows","default","_default","instance","textArea"],"sources":["C:/Users/USTC/Desktop/community1/vue-web/node_modules/ant-design-vue/es/input/ResizableTextArea.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { onMounted, getCurrentInstance, watch, onBeforeUnmount, ref, nextTick, defineComponent, withDirectives } from 'vue';\nimport ResizeObserver from '../vc-resize-observer';\nimport classNames from '../_util/classNames';\nimport calculateNodeHeight from './calculateNodeHeight';\nimport raf from '../_util/raf';\nimport warning from '../_util/warning';\nimport antInput from '../_util/antInputDirective';\nimport omit from '../_util/omit';\nimport { textAreaProps } from './inputProps';\nvar RESIZE_STATUS_NONE = 0;\nvar RESIZE_STATUS_RESIZING = 1;\nvar RESIZE_STATUS_RESIZED = 2;\nvar ResizableTextArea = defineComponent({\n  name: 'ResizableTextArea',\n  inheritAttrs: false,\n  props: textAreaProps(),\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n        emit = _ref.emit,\n        expose = _ref.expose;\n    var nextFrameActionId;\n    var resizeFrameId;\n    var textAreaRef = ref();\n    var textareaStyles = ref({});\n    var resizeStatus = ref(RESIZE_STATUS_NONE);\n    onBeforeUnmount(function () {\n      raf.cancel(nextFrameActionId);\n      raf.cancel(resizeFrameId);\n    }); // https://github.com/ant-design/ant-design/issues/21870\n\n    var fixFirefoxAutoScroll = function fixFirefoxAutoScroll() {\n      try {\n        if (document.activeElement === textAreaRef.value) {\n          var currentStart = textAreaRef.value.selectionStart;\n          var currentEnd = textAreaRef.value.selectionEnd;\n          textAreaRef.value.setSelectionRange(currentStart, currentEnd);\n        }\n      } catch (e) {// Fix error in Chrome:\n        // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n        // http://stackoverflow.com/q/21177489/3040605\n      }\n    };\n\n    var resizeTextarea = function resizeTextarea() {\n      var autoSize = props.autoSize || props.autosize;\n\n      if (!autoSize || !textAreaRef.value) {\n        return;\n      }\n\n      var minRows = autoSize.minRows,\n          maxRows = autoSize.maxRows;\n      textareaStyles.value = calculateNodeHeight(textAreaRef.value, false, minRows, maxRows);\n      resizeStatus.value = RESIZE_STATUS_RESIZING;\n      raf.cancel(resizeFrameId);\n      resizeFrameId = raf(function () {\n        resizeStatus.value = RESIZE_STATUS_RESIZED;\n        resizeFrameId = raf(function () {\n          resizeStatus.value = RESIZE_STATUS_NONE;\n          fixFirefoxAutoScroll();\n        });\n      });\n    };\n\n    var resizeOnNextFrame = function resizeOnNextFrame() {\n      raf.cancel(nextFrameActionId);\n      nextFrameActionId = raf(resizeTextarea);\n    };\n\n    var handleResize = function handleResize(size) {\n      if (resizeStatus.value !== RESIZE_STATUS_NONE) {\n        return;\n      }\n\n      emit('resize', size);\n      var autoSize = props.autoSize || props.autosize;\n\n      if (autoSize) {\n        resizeOnNextFrame();\n      }\n    };\n\n    warning(props.autosize === undefined, 'Input.TextArea', 'autosize is deprecated, please use autoSize instead.');\n\n    var renderTextArea = function renderTextArea() {\n      var prefixCls = props.prefixCls,\n          autoSize = props.autoSize,\n          autosize = props.autosize,\n          disabled = props.disabled;\n      var otherProps = omit(props, ['prefixCls', 'onPressEnter', 'autoSize', 'autosize', 'defaultValue', 'allowClear', 'type', 'lazy', 'maxlength', 'valueModifiers']);\n      var cls = classNames(prefixCls, attrs.class, _defineProperty({}, \"\".concat(prefixCls, \"-disabled\"), disabled));\n      var style = [attrs.style, textareaStyles.value, resizeStatus.value === RESIZE_STATUS_RESIZING ? {\n        overflowX: 'hidden',\n        overflowY: 'hidden'\n      } : null];\n\n      var textareaProps = _extends(_extends(_extends({}, otherProps), attrs), {\n        style: style,\n        class: cls\n      });\n\n      if (!textareaProps.autofocus) {\n        delete textareaProps.autofocus;\n      }\n\n      if (textareaProps.rows === 0) {\n        delete textareaProps.rows;\n      }\n\n      return _createVNode(ResizeObserver, {\n        \"onResize\": handleResize,\n        \"disabled\": !(autoSize || autosize)\n      }, {\n        default: function _default() {\n          return [withDirectives(_createVNode(\"textarea\", _objectSpread(_objectSpread({}, textareaProps), {}, {\n            \"ref\": textAreaRef\n          }), null), [[antInput]])];\n        }\n      });\n    };\n\n    watch(function () {\n      return props.value;\n    }, function () {\n      nextTick(function () {\n        resizeTextarea();\n      });\n    });\n    onMounted(function () {\n      nextTick(function () {\n        resizeTextarea();\n      });\n    });\n    var instance = getCurrentInstance();\n    expose({\n      resizeTextarea: resizeTextarea,\n      textArea: textAreaRef,\n      instance: instance\n    });\n    return function () {\n      return renderTextArea();\n    };\n  }\n});\nexport default ResizableTextArea;"],"mappings":"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"},"metadata":{},"sourceType":"module"}