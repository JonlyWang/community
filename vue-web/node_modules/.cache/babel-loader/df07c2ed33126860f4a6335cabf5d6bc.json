{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport TimeHeader from './TimeHeader';\nimport TimeBody from './TimeBody';\nimport { createKeydownHandler } from '../../utils/uiUtil';\nimport classNames from '../../../_util/classNames';\nimport { ref } from 'vue';\nimport useMergeProps from '../../hooks/useMergeProps';\n\nvar countBoolean = function countBoolean(boolList) {\n  return boolList.filter(function (bool) {\n    return bool !== false;\n  }).length;\n};\n\nfunction TimePanel(_props) {\n  var props = useMergeProps(_props);\n  var generateConfig = props.generateConfig,\n      _props$format = props.format,\n      format = _props$format === void 0 ? 'HH:mm:ss' : _props$format,\n      prefixCls = props.prefixCls,\n      active = props.active,\n      operationRef = props.operationRef,\n      showHour = props.showHour,\n      showMinute = props.showMinute,\n      showSecond = props.showSecond,\n      _props$use12Hours = props.use12Hours,\n      use12Hours = _props$use12Hours === void 0 ? false : _props$use12Hours,\n      onSelect = props.onSelect,\n      value = props.value;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-time-panel\");\n  var bodyOperationRef = ref(); // ======================= Keyboard =======================\n\n  var activeColumnIndex = ref(-1);\n  var columnsCount = countBoolean([showHour, showMinute, showSecond, use12Hours]);\n  operationRef.value = {\n    onKeydown: function onKeydown(event) {\n      return createKeydownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          activeColumnIndex.value = (activeColumnIndex.value + diff + columnsCount) % columnsCount;\n        },\n        onUpDown: function onUpDown(diff) {\n          if (activeColumnIndex.value === -1) {\n            activeColumnIndex.value = 0;\n          } else if (bodyOperationRef.value) {\n            bodyOperationRef.value.onUpDown(diff);\n          }\n        },\n        onEnter: function onEnter() {\n          onSelect(value || generateConfig.getNow(), 'key');\n          activeColumnIndex.value = -1;\n        }\n      });\n    },\n    onBlur: function onBlur() {\n      activeColumnIndex.value = -1;\n    }\n  };\n  return _createVNode(\"div\", {\n    \"class\": classNames(panelPrefixCls, _defineProperty({}, \"\".concat(panelPrefixCls, \"-active\"), active))\n  }, [_createVNode(TimeHeader, _objectSpread(_objectSpread({}, props), {}, {\n    \"format\": format,\n    \"prefixCls\": prefixCls\n  }), null), _createVNode(TimeBody, _objectSpread(_objectSpread({}, props), {}, {\n    \"prefixCls\": prefixCls,\n    \"activeColumnIndex\": activeColumnIndex.value,\n    \"operationRef\": bodyOperationRef\n  }), null)]);\n}\n\nTimePanel.displayName = 'TimePanel';\nTimePanel.inheritAttrs = false;\nexport default TimePanel;","map":{"version":3,"names":["_objectSpread","_defineProperty","createVNode","_createVNode","TimeHeader","TimeBody","createKeydownHandler","classNames","ref","useMergeProps","countBoolean","boolList","filter","bool","length","TimePanel","_props","props","generateConfig","_props$format","format","prefixCls","active","operationRef","showHour","showMinute","showSecond","_props$use12Hours","use12Hours","onSelect","value","panelPrefixCls","concat","bodyOperationRef","activeColumnIndex","columnsCount","onKeydown","event","onLeftRight","diff","onUpDown","onEnter","getNow","onBlur","displayName","inheritAttrs"],"sources":["C:/Users/USTC/Desktop/community1/vue-web/node_modules/ant-design-vue/es/vc-picker/panels/TimePanel/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createVNode as _createVNode } from \"vue\";\nimport TimeHeader from './TimeHeader';\nimport TimeBody from './TimeBody';\nimport { createKeydownHandler } from '../../utils/uiUtil';\nimport classNames from '../../../_util/classNames';\nimport { ref } from 'vue';\nimport useMergeProps from '../../hooks/useMergeProps';\n\nvar countBoolean = function countBoolean(boolList) {\n  return boolList.filter(function (bool) {\n    return bool !== false;\n  }).length;\n};\n\nfunction TimePanel(_props) {\n  var props = useMergeProps(_props);\n  var generateConfig = props.generateConfig,\n      _props$format = props.format,\n      format = _props$format === void 0 ? 'HH:mm:ss' : _props$format,\n      prefixCls = props.prefixCls,\n      active = props.active,\n      operationRef = props.operationRef,\n      showHour = props.showHour,\n      showMinute = props.showMinute,\n      showSecond = props.showSecond,\n      _props$use12Hours = props.use12Hours,\n      use12Hours = _props$use12Hours === void 0 ? false : _props$use12Hours,\n      onSelect = props.onSelect,\n      value = props.value;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-time-panel\");\n  var bodyOperationRef = ref(); // ======================= Keyboard =======================\n\n  var activeColumnIndex = ref(-1);\n  var columnsCount = countBoolean([showHour, showMinute, showSecond, use12Hours]);\n  operationRef.value = {\n    onKeydown: function onKeydown(event) {\n      return createKeydownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          activeColumnIndex.value = (activeColumnIndex.value + diff + columnsCount) % columnsCount;\n        },\n        onUpDown: function onUpDown(diff) {\n          if (activeColumnIndex.value === -1) {\n            activeColumnIndex.value = 0;\n          } else if (bodyOperationRef.value) {\n            bodyOperationRef.value.onUpDown(diff);\n          }\n        },\n        onEnter: function onEnter() {\n          onSelect(value || generateConfig.getNow(), 'key');\n          activeColumnIndex.value = -1;\n        }\n      });\n    },\n    onBlur: function onBlur() {\n      activeColumnIndex.value = -1;\n    }\n  };\n  return _createVNode(\"div\", {\n    \"class\": classNames(panelPrefixCls, _defineProperty({}, \"\".concat(panelPrefixCls, \"-active\"), active))\n  }, [_createVNode(TimeHeader, _objectSpread(_objectSpread({}, props), {}, {\n    \"format\": format,\n    \"prefixCls\": prefixCls\n  }), null), _createVNode(TimeBody, _objectSpread(_objectSpread({}, props), {}, {\n    \"prefixCls\": prefixCls,\n    \"activeColumnIndex\": activeColumnIndex.value,\n    \"operationRef\": bodyOperationRef\n  }), null)]);\n}\n\nTimePanel.displayName = 'TimePanel';\nTimePanel.inheritAttrs = false;\nexport default TimePanel;"],"mappings":"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"},"metadata":{},"sourceType":"module"}